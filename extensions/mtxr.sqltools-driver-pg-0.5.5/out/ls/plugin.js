var Fg=Object.create;var an=Object.defineProperty,Ug=Object.defineProperties,Bg=Object.getOwnPropertyDescriptor,jg=Object.getOwnPropertyDescriptors,Wg=Object.getOwnPropertyNames,ti=Object.getOwnPropertySymbols,Hg=Object.getPrototypeOf,Ds=Object.prototype.hasOwnProperty,zu=Object.prototype.propertyIsEnumerable;var qe=Math.pow,Ps=(e,t,r)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,st=(e,t)=>{for(var r in t||(t={}))Ds.call(t,r)&&Ps(e,r,t[r]);if(ti)for(var r of ti(t))zu.call(t,r)&&Ps(e,r,t[r]);return e},cn=(e,t)=>Ug(e,jg(t));var Ms=(e,t)=>{var r={};for(var n in e)Ds.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ti)for(var n of ti(e))t.indexOf(n)<0&&zu.call(e,n)&&(r[n]=e[n]);return r};var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Gg=(e,t)=>{for(var r in t)an(e,r,{get:t[r],enumerable:!0})},Xu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wg(t))!Ds.call(e,i)&&i!==r&&an(e,i,{get:()=>t[i],enumerable:!(n=Bg(t,i))||n.enumerable});return e};var Qt=(e,t,r)=>(r=e!=null?Fg(Hg(e)):{},Xu(t||!e||!e.__esModule?an(r,"default",{value:e,enumerable:!0}):r,e)),$g=e=>Xu(an({},"__esModule",{value:!0}),e);var lt=(e,t,r)=>Ps(e,typeof t!="symbol"?t+"":t,r);var ft=(e,t,r)=>new Promise((n,i)=>{var s=c=>{try{a(r.next(c))}catch(f){i(f)}},o=c=>{try{a(r.throw(c))}catch(f){i(f)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((r=r.apply(e,t)).next())});var xs=S(Ku=>{"use strict";Ku.parse=function(e,t){return new ks(e,t).parse()};var ks=class e{constructor(t,r){this.source=t,this.transform=r||Vg,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var t=this.source[this.position++];return t==="\\"?{value:this.source[this.position++],escaped:!0}:{value:t,escaped:!1}}record(t){this.recorded.push(t)}newEntry(t){var r;(this.recorded.length>0||t)&&(r=this.recorded.join(""),r==="NULL"&&!t&&(r=null),r!==null&&(r=this.transform(r)),this.entries.push(r),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var t=this.nextCharacter();if(t.value==="=")break}}parse(t){var r,n,i;for(this.consumeDimensions();!this.isEof();)if(r=this.nextCharacter(),r.value==="{"&&!i)this.dimension++,this.dimension>1&&(n=new e(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);else if(r.value==="}"&&!i){if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else r.value==='"'&&!r.escaped?(i&&this.newEntry(!0),i=!i):r.value===","&&!i?this.newEntry():this.record(r.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};function Vg(e){return e}});var qs=S((S1,Ju)=>{var Qg=xs();Ju.exports={create:function(e,t){return{parse:function(){return Qg.parse(e,t)}}}}});var tl=S((N1,el)=>{"use strict";var Yg=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,zg=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,Xg=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,Kg=/^-?infinity$/;el.exports=function(t){if(Kg.test(t))return Number(t.replace("i","I"));var r=Yg.exec(t);if(!r)return Jg(t)||null;var n=!!r[8],i=parseInt(r[1],10);n&&(i=Zu(i));var s=parseInt(r[2],10)-1,o=r[3],a=parseInt(r[4],10),c=parseInt(r[5],10),f=parseInt(r[6],10),d=r[7];d=d?1e3*parseFloat(d):0;var m,g=Zg(t);return g!=null?(m=new Date(Date.UTC(i,s,o,a,c,f,d)),Fs(i)&&m.setUTCFullYear(i),m.setTime(m.getTime()-g)):(m=new Date(i,s,o,a,c,f,d),Fs(i)&&m.setFullYear(i)),m};function Jg(e){var t=zg.exec(e);if(t){var r=parseInt(t[1],10),n=!!t[4];n&&(r=Zu(r));var i=parseInt(t[2],10)-1,s=t[3],o=new Date(r,i,s);return Fs(r)&&o.setFullYear(r),o}}function Zg(e){var t=Xg.exec(e.split(" ")[1]);if(t){var r=t[1];if(r==="Z")return 0;var n=r==="-"?-1:1,i=parseInt(t[2],10)*3600+parseInt(t[3]||0,10)*60+parseInt(t[4]||0,10);return i*n*1e3}}function Zu(e){return-(e-1)}function Fs(e){return e>=0&&e<100}});var nl=S((O1,rl)=>{rl.exports=tv;var ev=Object.prototype.hasOwnProperty;function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)ev.call(r,n)&&(e[n]=r[n])}return e}});var ol=S((C1,sl)=>{"use strict";var rv=nl();sl.exports=Or;function Or(e){if(!(this instanceof Or))return new Or(e);rv(this,pv(e))}var nv=["seconds","minutes","hours","days","months","years"];Or.prototype.toPostgres=function(){var e=nv.filter(this.hasOwnProperty,this);return this.milliseconds&&e.indexOf("seconds")<0&&e.push("seconds"),e.length===0?"0":e.map(function(t){var r=this[t]||0;return t==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),r+" "+t},this).join(" ")};var iv={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},sv=["years","months","days"],ov=["hours","minutes","seconds"];Or.prototype.toISOString=Or.prototype.toISO=function(){var e=sv.map(r,this).join(""),t=ov.map(r,this).join("");return"P"+e+"T"+t;function r(n){var i=this[n]||0;return n==="seconds"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),i+iv[n]}};var Us="([+-]?\\d+)",av=Us+"\\s+years?",cv=Us+"\\s+mons?",uv=Us+"\\s+days?",lv="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",fv=new RegExp([av,cv,uv,lv].map(function(e){return"("+e+")?"}).join("\\s*")),il={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},hv=["hours","minutes","seconds","milliseconds"];function dv(e){var t=e+"000000".slice(e.length);return parseInt(t,10)/1e3}function pv(e){if(!e)return{};var t=fv.exec(e),r=t[8]==="-";return Object.keys(il).reduce(function(n,i){var s=il[i],o=t[s];return!o||(o=i==="milliseconds"?dv(o):parseInt(o,10),!o)||(r&&~hv.indexOf(i)&&(o*=-1),n[i]=o),n},{})}});var cl=S((A1,al)=>{"use strict";al.exports=function(t){if(/^\\x/.test(t))return new Buffer(t.substr(2),"hex");for(var r="",n=0;n<t.length;)if(t[n]!=="\\")r+=t[n],++n;else if(/[0-7]{3}/.test(t.substr(n+1,3)))r+=String.fromCharCode(parseInt(t.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<t.length&&t[n+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)r+="\\";n+=Math.floor(i/2)*2}return new Buffer(r,"binary")}});var El=S((b1,pl)=>{var un=xs(),ln=qs(),ri=tl(),ll=ol(),fl=cl();function ni(e){return function(r){return r===null?r:e(r)}}function hl(e){return e===null?e:e==="TRUE"||e==="t"||e==="true"||e==="y"||e==="yes"||e==="on"||e==="1"}function Ev(e){return e?un.parse(e,hl):null}function mv(e){return parseInt(e,10)}function Bs(e){return e?un.parse(e,ni(mv)):null}function gv(e){return e?un.parse(e,ni(function(t){return dl(t).trim()})):null}var vv=function(e){if(!e)return null;var t=ln.create(e,function(r){return r!==null&&(r=Gs(r)),r});return t.parse()},js=function(e){if(!e)return null;var t=ln.create(e,function(r){return r!==null&&(r=parseFloat(r)),r});return t.parse()},ht=function(e){if(!e)return null;var t=ln.create(e);return t.parse()},Ws=function(e){if(!e)return null;var t=ln.create(e,function(r){return r!==null&&(r=ri(r)),r});return t.parse()},yv=function(e){if(!e)return null;var t=ln.create(e,function(r){return r!==null&&(r=ll(r)),r});return t.parse()},Tv=function(e){return e?un.parse(e,ni(fl)):null},Hs=function(e){return parseInt(e,10)},dl=function(e){var t=String(e);return/^\d+$/.test(t)?t:e},ul=function(e){return e?un.parse(e,ni(JSON.parse)):null},Gs=function(e){return e[0]!=="("?null:(e=e.substring(1,e.length-1).split(","),{x:parseFloat(e[0]),y:parseFloat(e[1])})},Rv=function(e){if(e[0]!=="<"&&e[1]!=="(")return null;for(var t="(",r="",n=!1,i=2;i<e.length-1;i++){if(n||(t+=e[i]),e[i]===")"){n=!0;continue}else if(!n)continue;e[i]!==","&&(r+=e[i])}var s=Gs(t);return s.radius=parseFloat(r),s},_v=function(e){e(20,dl),e(21,Hs),e(23,Hs),e(26,Hs),e(700,parseFloat),e(701,parseFloat),e(16,hl),e(1082,ri),e(1114,ri),e(1184,ri),e(600,Gs),e(651,ht),e(718,Rv),e(1e3,Ev),e(1001,Tv),e(1005,Bs),e(1007,Bs),e(1028,Bs),e(1016,gv),e(1017,vv),e(1021,js),e(1022,js),e(1231,js),e(1014,ht),e(1015,ht),e(1008,ht),e(1009,ht),e(1040,ht),e(1041,ht),e(1115,Ws),e(1182,Ws),e(1185,Ws),e(1186,ll),e(1187,yv),e(17,fl),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,ul),e(3807,ul),e(3907,ht),e(2951,ht),e(791,ht),e(1183,ht),e(1270,ht)};pl.exports={init:_v}});var gl=S((I1,ml)=>{"use strict";var Ze=1e6;function Sv(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(r===0),r=~r+1>>>0,n="-");var i="",s,o,a,c,f,d;{if(s=t%Ze,t=t/Ze>>>0,o=4294967296*s+r,r=o/Ze>>>0,a=""+(o-Ze*r),r===0&&t===0)return n+a+i;for(c="",f=6-a.length,d=0;d<f;d++)c+="0";i=c+a+i}{if(s=t%Ze,t=t/Ze>>>0,o=4294967296*s+r,r=o/Ze>>>0,a=""+(o-Ze*r),r===0&&t===0)return n+a+i;for(c="",f=6-a.length,d=0;d<f;d++)c+="0";i=c+a+i}{if(s=t%Ze,t=t/Ze>>>0,o=4294967296*s+r,r=o/Ze>>>0,a=""+(o-Ze*r),r===0&&t===0)return n+a+i;for(c="",f=6-a.length,d=0;d<f;d++)c+="0";i=c+a+i}return s=t%Ze,o=4294967296*s+r,a=""+o%Ze,n+a+i}ml.exports=Sv});var _l=S((w1,Rl)=>{var Nv=gl(),Ie=function(e,t,r,n,i){r=r||0,n=n||!1,i=i||function(R,b,x){return R*Math.pow(2,x)+b};var s=r>>3,o=function(R){return n?~R&255:R},a=255,c=8-r%8;t<c&&(a=255<<8-t&255,c=t),r&&(a=a>>r%8);var f=0;r%8+t>=8&&(f=i(0,o(e[s])&a,c));for(var d=t+r>>3,m=s+1;m<d;m++)f=i(f,o(e[m]),8);var g=(t+r)%8;return g>0&&(f=i(f,o(e[d])>>8-g,g)),f},Tl=function(e,t,r){var n=Math.pow(2,r-1)-1,i=Ie(e,1),s=Ie(e,r,1);if(s===0)return 0;var o=1,a=function(f,d,m){f===0&&(f=1);for(var g=1;g<=m;g++)o/=2,(d&1<<m-g)>0&&(f+=o);return f},c=Ie(e,t,r+1,!1,a);return s==Math.pow(2,r+1)-1?c===0?i===0?1/0:-1/0:NaN:(i===0?1:-1)*Math.pow(2,s-n)*c},Ov=function(e){return Ie(e,1)==1?-1*(Ie(e,15,1,!0)+1):Ie(e,15,1)},vl=function(e){return Ie(e,1)==1?-1*(Ie(e,31,1,!0)+1):Ie(e,31,1)},Cv=function(e){return Tl(e,23,8)},Av=function(e){return Tl(e,52,11)},bv=function(e){var t=Ie(e,16,32);if(t==49152)return NaN;for(var r=Math.pow(1e4,Ie(e,16,16)),n=0,i=[],s=Ie(e,16),o=0;o<s;o++)n+=Ie(e,16,64+16*o)*r,r/=1e4;var a=Math.pow(10,Ie(e,16,48));return(t===0?1:-1)*Math.round(n*a)/a},yl=function(e,t){var r=Ie(t,1),n=Ie(t,63,1),i=new Date((r===0?1:-1)*n/1e3+9466848e5);return e||i.setTime(i.getTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(s){this.usec=s},i.getUTCMicroSeconds=function(){return this.usec},i},fn=function(e){for(var t=Ie(e,32),r=Ie(e,32,32),n=Ie(e,32,64),i=96,s=[],o=0;o<t;o++)s[o]=Ie(e,32,i),i+=32,i+=32;var a=function(f){var d=Ie(e,32,i);if(i+=32,d==4294967295)return null;var m;if(f==23||f==20)return m=Ie(e,d*8,i),i+=d*8,m;if(f==25)return m=e.toString(this.encoding,i>>3,(i+=d<<3)>>3),m;console.log("ERROR: ElementType not implemented: "+f)},c=function(f,d){var m=[],g;if(f.length>1){var R=f.shift();for(g=0;g<R;g++)m[g]=c(f,d);f.unshift(R)}else for(g=0;g<f[0];g++)m[g]=a(d);return m};return c(s,n)},Iv=function(e){return e.toString("utf8")},wv=function(e){return e===null?null:Ie(e,8)>0},Lv=function(e){e(20,Nv),e(21,Ov),e(23,vl),e(26,vl),e(1700,bv),e(700,Cv),e(701,Av),e(16,wv),e(1114,yl.bind(null,!1)),e(1184,yl.bind(null,!0)),e(1e3,fn),e(1007,fn),e(1016,fn),e(1008,fn),e(1009,fn),e(25,Iv)};Rl.exports={init:Lv}});var Nl=S((L1,Sl)=>{Sl.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var pn=S(dn=>{var Pv=El(),Dv=_l(),Mv=qs(),kv=Nl();dn.getTypeParser=xv;dn.setTypeParser=qv;dn.arrayParser=Mv;dn.builtins=kv;var hn={text:{},binary:{}};function Ol(e){return String(e)}function xv(e,t){return t=t||"text",hn[t]&&hn[t][e]||Ol}function qv(e,t,r){typeof t=="function"&&(r=t,t="text"),hn[t][e]=r}Pv.init(function(e,t){hn.text[e]=t});Dv.init(function(e,t){hn.binary[e]=t})});var En=S((D1,$s)=>{"use strict";$s.exports={host:"localhost",user:process.platform==="win32"?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var Cr=pn(),Fv=Cr.getTypeParser(20,"text"),Uv=Cr.getTypeParser(1016,"text");$s.exports.__defineSetter__("parseInt8",function(e){Cr.setTypeParser(20,"text",e?Cr.getTypeParser(23,"text"):Fv),Cr.setTypeParser(1016,"text",e?Cr.getTypeParser(1007,"text"):Uv)})});var si=S((M1,Al)=>{"use strict";var Bv=require("crypto"),jv=En();function Wv(e){var t=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+t+'"'}function Cl(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t=t+","),e[r]===null||typeof e[r]=="undefined"?t=t+"NULL":Array.isArray(e[r])?t=t+Cl(e[r]):e[r]instanceof Buffer?t+="\\\\x"+e[r].toString("hex"):t+=Wv(ii(e[r]));return t=t+"}",t}var ii=function(e,t){if(e instanceof Buffer)return e;if(ArrayBuffer.isView(e)){var r=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?jv.parseInputDatesAsUTC?$v(e):Gv(e):Array.isArray(e)?Cl(e):e===null||typeof e=="undefined"?null:typeof e=="object"?Hv(e,t):e.toString()};function Hv(e,t){if(e&&typeof e.toPostgres=="function"){if(t=t||[],t.indexOf(e)!==-1)throw new Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),ii(e.toPostgres(ii),t)}return JSON.stringify(e)}function $e(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function Gv(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var i=$e(r,4)+"-"+$e(e.getMonth()+1,2)+"-"+$e(e.getDate(),2)+"T"+$e(e.getHours(),2)+":"+$e(e.getMinutes(),2)+":"+$e(e.getSeconds(),2)+"."+$e(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=$e(Math.floor(t/60),2)+":"+$e(t%60,2),n&&(i+=" BC"),i}function $v(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=$e(t,4)+"-"+$e(e.getUTCMonth()+1,2)+"-"+$e(e.getUTCDate(),2)+"T"+$e(e.getUTCHours(),2)+":"+$e(e.getUTCMinutes(),2)+":"+$e(e.getUTCSeconds(),2)+"."+$e(e.getUTCMilliseconds(),3);return n+="+00:00",r&&(n+=" BC"),n}function Vv(e,t,r){return e=typeof e=="string"?{text:e}:e,t&&(typeof t=="function"?e.callback=t:e.values=t),r&&(e.callback=r),e}var Vs=function(e){return Bv.createHash("md5").update(e,"utf-8").digest("hex")},Qv=function(e,t,r){var n=Vs(t+e),i=Vs(Buffer.concat([Buffer.from(n),r]));return"md5"+i};Al.exports={prepareValue:function(t){return ii(t)},normalizeQueryConfig:Vv,postgresMd5PasswordHash:Qv,md5:Vs}});var wl=S((k1,Il)=>{"use strict";var Qs=require("crypto");function Yv(e){if(e.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=Qs.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function zv(e,t,r){if(e.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");let n=Kv(r);if(!n.nonce.startsWith(e.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=Buffer.from(n.salt,"base64"),s=Jv(t,i,n.iteration),o=Ar(s,"Client Key"),a=Qs.createHash("sha256").update(o).digest(),c="n=*,r="+e.clientNonce,f="r="+n.nonce+",s="+n.salt+",i="+n.iteration,d="c=biws,r="+n.nonce,m=c+","+f+","+d,g=Ar(a,m),R=bl(o,g),b=R.toString("base64"),x=Ar(s,"Server Key"),G=Ar(x,m);e.message="SASLResponse",e.serverSignature=G.toString("base64"),e.response=d+",p="+b}function Xv(e,t){if(e.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");var r;if(String(t).split(",").forEach(function(n){switch(n[0]){case"v":r=n.substr(2);break}}),r!==e.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function Kv(e){var t,r,n;if(String(e).split(",").forEach(function(i){switch(i[0]){case"r":t=i.substr(2);break;case"s":r=i.substr(2);break;case"i":n=parseInt(i.substr(2),10);break}}),!t)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:t,salt:r,iteration:n}}function bl(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e)),Buffer.isBuffer(t)||(t=Buffer.from(t));var r=[];if(e.length>t.length)for(var n=0;n<t.length;n++)r.push(e[n]^t[n]);else for(var i=0;i<e.length;i++)r.push(e[i]^t[i]);return Buffer.from(r)}function Ar(e,t){return Qs.createHmac("sha256",e).update(t).digest()}function Jv(e,t,r){for(var n=Ar(e,Buffer.concat([t,Buffer.from([0,0,0,1])])),i=n,s=0;s<r-1;s++)n=Ar(e,n),i=bl(i,n);return i}Il.exports={startSession:Yv,continueSession:zv,finalizeSession:Xv}});var Dl=S((Ll,Pl)=>{var Zv=require("stream");Ll=Pl.exports=Ys;Ys.through=Ys;function Ys(e,t,r){e=e||function(d){this.queue(d)},t=t||function(){this.queue(null)};var n=!1,i=!1,s=[],o=!1,a=new Zv;a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(r&&r.autoDestroy===!1),a.write=function(d){return e.call(this,d),!a.paused};function c(){for(;s.length&&!a.paused;){var d=s.shift();if(d===null)return a.emit("end");a.emit("data",d)}}a.queue=a.push=function(d){return o||(d===null&&(o=!0),s.push(d),c()),a},a.on("end",function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick(function(){a.destroy()})});function f(){a.writable=!1,t.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.end=function(d){if(!n)return n=!0,arguments.length&&a.write(d),f(),a},a.destroy=function(){if(!i)return i=!0,n=!0,s.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),c(),a.paused||a.emit("drain"),a},a}});var kl=S((x1,Ml)=>{var ey=Dl(),ty=require("string_decoder").StringDecoder;Ml.exports=ry;function ry(e,t,r){var n=new ty,i="",s=r&&r.maxLength,o=!(r&&r.trailing===!1);typeof e=="function"&&(t=e,e=null),e||(e=/\r?\n/);function a(f,d){if(t){try{d=t(d)}catch(m){return f.emit("error",m)}typeof d!="undefined"&&f.queue(d)}else f.queue(d)}function c(f,d){var m=((i!=null?i:"")+d).split(e);if(i=m.pop(),s&&i.length>s)return f.emit("error",new Error("maximum buffer reached"));for(var g=0;g<m.length;g++){var R=m[g];a(f,R)}}return ey(function(f){c(this,n.write(f))},function(){n.end&&c(this,n.end()),o&&i!=null&&a(this,i),this.queue(null)})}});var Fl=S((q1,kt)=>{"use strict";var xl=require("path"),ny=require("stream").Stream,iy=kl(),ql=require("util"),sy=5432,oi=process.platform==="win32",mn=process.stderr,oy=56,ay=7,cy=61440,uy=32768;function ly(e){return(e&cy)==uy}var br=["host","port","database","user","password"],zs=br.length,fy=br[zs-1];function Xs(){var e=mn instanceof ny&&mn.writable===!0;if(e){var t=Array.prototype.slice.call(arguments).concat(`
`);mn.write(ql.format.apply(ql,t))}}Object.defineProperty(kt.exports,"isWin",{get:function(){return oi},set:function(e){oi=e}});kt.exports.warnTo=function(e){var t=mn;return mn=e,t};kt.exports.getFileName=function(e){e=e||process.env;var t=e.PGPASSFILE||(oi?xl.join(e.APPDATA,"postgresql","pgpass.conf"):xl.join(e.HOME,".pgpass"));return t};kt.exports.usePgPass=function(e,t){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:oi?!0:(t=t||"<unkn>",ly(e.mode)?e.mode&(oy|ay)?(Xs('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):!0:(Xs('WARNING: password file "%s" is not a plain file',t),!1))};var hy=kt.exports.match=function(e,t){return br.slice(0,-1).reduce(function(r,n,i){return i==1&&Number(e[n]||sy)===Number(t[n])?r&&!0:r&&(t[n]==="*"||t[n]===e[n])},!0)};kt.exports.getPassword=function(e,t,r){var n,i=t.pipe(new iy);function s(c){var f=dy(c);f&&py(f)&&hy(e,f)&&(n=f[fy],i.end())}var o=function(){t.destroy(),r(n)},a=function(c){t.destroy(),Xs("WARNING: error on reading file: %s",c),r(void 0)};t.on("error",a),i.on("data",s).on("end",o).on("error",a)};var dy=kt.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,i=0,s=0,o={},a=!1,c=function(d,m,g){var R=e.substring(m,g);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(R=R.replace(/\\([:\\])/g,"$1")),o[br[d]]=R},f=0;f<e.length-1;f+=1){if(t=e.charAt(f+1),r=e.charAt(f),a=n==zs-1,a){c(n,i);break}f>=0&&t==":"&&r!=="\\"&&(c(n,i,f+1),i=f+2,n+=1)}return o=Object.keys(o).length===zs?o:null,o},py=kt.exports.isValidEntry=function(e){for(var t={0:function(o){return o.length>0},1:function(o){return o==="*"?!0:(o=Number(o),isFinite(o)&&o>0&&o<9007199254740992&&Math.floor(o)===o)},2:function(o){return o.length>0},3:function(o){return o.length>0},4:function(o){return o.length>0}},r=0;r<br.length;r+=1){var n=t[r],i=e[br[r]]||"",s=n(i);if(!s)return!1}return!0}});var Bl=S((U1,Ks)=>{"use strict";var F1=require("path"),Ul=require("fs"),ai=Fl();Ks.exports=function(e,t){var r=ai.getFileName();Ul.stat(r,function(n,i){if(n||!ai.usePgPass(i,r))return t(void 0);var s=Ul.createReadStream(r);ai.getPassword(e,s,t)})};Ks.exports.warnTo=ai.warnTo});var Js=S((B1,jl)=>{"use strict";var Ey=pn();function ci(e){this._types=e||Ey,this.text={},this.binary={}}ci.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}};ci.prototype.setTypeParser=function(e,t,r){typeof t=="function"&&(r=t,t="text"),this.getOverrides(t)[e]=r};ci.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)};jl.exports=ci});var Hl=S((j1,Wl)=>{"use strict";var my=require("url"),Zs=require("fs");function eo(e){if(e.charAt(0)==="/"){var r=e.split(" ");return{host:r[0],database:r[1]}}var t=my.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),r=t.query;for(var n in r)Array.isArray(r[n])&&(r[n]=r[n][r[n].length-1]);var i=(t.auth||":").split(":");if(r.user=i[0],r.password=i.splice(1).join(":"),r.port=t.port,t.protocol=="socket:")return r.host=decodeURI(t.pathname),r.database=t.query.db,r.client_encoding=t.query.encoding,r;r.host||(r.host=t.hostname);var s=t.pathname;if(!r.host&&s&&/^%2f/i.test(s)){var o=s.split("/");r.host=decodeURIComponent(o[0]),s=o.splice(1).join("/")}return s&&s.charAt(0)==="/"&&(s=s.slice(1)||null),r.database=s&&decodeURI(s),(r.ssl==="true"||r.ssl==="1")&&(r.ssl=!0),r.ssl==="0"&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert)&&(r.ssl={}),r.sslcert&&(r.ssl.cert=Zs.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=Zs.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=Zs.readFileSync(r.sslrootcert).toString()),r}Wl.exports=eo;eo.parse=eo});var ro=S((W1,Vl)=>{"use strict";var gy=require("dns"),$l=En(),Gl=Hl().parse,et=function(e,t,r){return r===void 0?r=process.env["PG"+e.toUpperCase()]:r===!1||(r=process.env[r]),t[e]||r||$l[e]},vy=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return $l.ssl},Ir=function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},dt=function(e,t,r){var n=t[r];n!=null&&e.push(r+"="+Ir(n))},to=class{constructor(t){t=typeof t=="string"?Gl(t):t||{},t.connectionString&&(t=Object.assign({},t,Gl(t.connectionString))),this.user=et("user",t),this.database=et("database",t),this.database===void 0&&(this.database=this.user),this.port=parseInt(et("port",t),10),this.host=et("host",t),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:et("password",t)}),this.binary=et("binary",t),this.options=et("options",t),this.ssl=typeof t.ssl=="undefined"?vy():t.ssl,this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=et("client_encoding",t),this.replication=et("replication",t),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=et("application_name",t,"PGAPPNAME"),this.fallback_application_name=et("fallback_application_name",t,!1),this.statement_timeout=et("statement_timeout",t,!1),this.idle_in_transaction_session_timeout=et("idle_in_transaction_session_timeout",t,!1),this.query_timeout=et("query_timeout",t,!1),t.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(t.connectionTimeoutMillis/1e3),t.keepAlive===!1?this.keepalives=0:t.keepAlive===!0&&(this.keepalives=1),typeof t.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(t.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(t){var r=[];dt(r,this,"user"),dt(r,this,"password"),dt(r,this,"port"),dt(r,this,"application_name"),dt(r,this,"fallback_application_name"),dt(r,this,"connect_timeout"),dt(r,this,"options");var n=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(dt(r,n,"sslmode"),dt(r,n,"sslca"),dt(r,n,"sslkey"),dt(r,n,"sslcert"),dt(r,n,"sslrootcert"),this.database&&r.push("dbname="+Ir(this.database)),this.replication&&r.push("replication="+Ir(this.replication)),this.host&&r.push("host="+Ir(this.host)),this.isDomainSocket)return t(null,r.join(" "));this.client_encoding&&r.push("client_encoding="+Ir(this.client_encoding)),gy.lookup(this.host,function(i,s){return i?t(i,null):(r.push("hostaddr="+Ir(s)),t(null,r.join(" ")))})}};Vl.exports=to});var zl=S((H1,Yl)=>{"use strict";var yy=pn(),Ql=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,no=class{constructor(t,r){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=r,this.RowCtor=null,this.rowAsArray=t==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(t){var r;t.text?r=Ql.exec(t.text):r=Ql.exec(t.command),r&&(this.command=r[1],r[3]?(this.oid=parseInt(r[2],10),this.rowCount=parseInt(r[3],10)):r[2]&&(this.rowCount=parseInt(r[2],10)))}_parseRowAsArray(t){for(var r=new Array(t.length),n=0,i=t.length;n<i;n++){var s=t[n];s!==null?r[n]=this._parsers[n](s):r[n]=null}return r}parseRow(t){for(var r={},n=0,i=t.length;n<i;n++){var s=t[n],o=this.fields[n].name;s!==null?r[o]=this._parsers[n](s):r[o]=null}return r}addRow(t){this.rows.push(t)}addFields(t){this.fields=t,this.fields.length&&(this._parsers=new Array(t.length));for(var r=0;r<t.length;r++){var n=t[r];this._types?this._parsers[r]=this._types.getTypeParser(n.dataTypeID,n.format||"text"):this._parsers[r]=yy.getTypeParser(n.dataTypeID,n.format||"text")}}};Yl.exports=no});var Zl=S((G1,Jl)=>{"use strict";var{EventEmitter:Ty}=require("events"),Xl=zl(),Kl=si(),io=class extends Ty{constructor(t,r,n){super(),t=Kl.normalizeQueryConfig(t,r,n),this.text=t.text,this.values=t.values,this.rows=t.rows,this.types=t.types,this.name=t.name,this.binary=t.binary,this.portal=t.portal||"",this.callback=t.callback,this._rowMode=t.rowMode,process.domain&&t.callback&&(this.callback=process.domain.bind(t.callback)),this._result=new Xl(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new Xl(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(t){this._checkForMultirow(),this._result.addFields(t.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(t){let r;if(!this._canceledDueToError){try{r=this._result.parseRow(t.fields)}catch(n){this._canceledDueToError=n;return}this.emit("row",r,this._result),this._accumulateRows&&this._result.addRow(r)}}handleCommandComplete(t,r){this._checkForMultirow(),this._result.addCommandComplete(t),this.isPreparedStatement&&r.sync()}handleEmptyQuery(t){this.isPreparedStatement&&t.sync()}handleReadyForQuery(t){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,t);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(t,r){if(this.isPreparedStatement&&r.sync(),this._canceledDueToError&&(t=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(t);this.emit("error",t)}submit(t){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let r=t.parsedStatements[this.name];return this.text&&r&&this.text!==r?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(t):t.query(this.text),null)}hasBeenParsed(t){return this.name&&t.parsedStatements[this.name]}handlePortalSuspended(t){this._getRows(t,this.rows)}_getRows(t,r){t.execute({portal:this.portal,rows:r}),t.flush()}prepare(t){if(this.isPreparedStatement=!0,this.hasBeenParsed(t)||t.parse({text:this.text,name:this.name,types:this.types}),this.values)try{this.values=this.values.map(Kl.prepareValue)}catch(r){this.handleError(r,t);return}t.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary}),t.describe({type:"P",name:this.portal||""}),this._getRows(t,this.rows)}handleCopyInResponse(t){t.sendCopyFail("No source stream defined")}handleCopyData(t,r){}};Jl.exports=io});var ef=S(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});var so=class{constructor(t=256){this.size=t,this.offset=5,this.headerPosition=0,this.buffer=Buffer.alloc(t)}ensure(t){var r=this.buffer.length-this.offset;if(r<t){var n=this.buffer,i=n.length+(n.length>>1)+t;this.buffer=Buffer.alloc(i),n.copy(this.buffer)}}addInt32(t){return this.ensure(4),this.buffer[this.offset++]=t>>>24&255,this.buffer[this.offset++]=t>>>16&255,this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addInt16(t){return this.ensure(2),this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addCString(t){if(!t)this.ensure(1);else{var r=Buffer.byteLength(t);this.ensure(r+1),this.buffer.write(t,this.offset,"utf-8"),this.offset+=r}return this.buffer[this.offset++]=0,this}addString(t=""){var r=Buffer.byteLength(t);return this.ensure(r),this.buffer.write(t,this.offset),this.offset+=r,this}add(t){return this.ensure(t.length),t.copy(this.buffer,this.offset),this.offset+=t.length,this}join(t){if(t){this.buffer[this.headerPosition]=t;let r=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(r,this.headerPosition+1)}return this.buffer.slice(t?0:5,this.offset)}flush(t){var r=this.join(t);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),r}};oo.Writer=so});var nf=S(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});var tf=ef(),Ve=new tf.Writer,Ry=e=>{Ve.addInt16(3).addInt16(0);for(let n of Object.keys(e))Ve.addCString(n).addCString(e[n]);Ve.addCString("client_encoding").addCString("UTF8");var t=Ve.addCString("").flush(),r=t.length+4;return new tf.Writer().addInt32(r).add(t).flush()},_y=()=>{let e=Buffer.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(80877103,4),e},Sy=e=>Ve.addCString(e).flush(112),Ny=function(e,t){return Ve.addCString(e).addInt32(Buffer.byteLength(t)).addString(t),Ve.flush(112)},Oy=function(e){return Ve.addString(e).flush(112)},Cy=e=>Ve.addCString(e).flush(81),rf=[],Ay=e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let r=e.types||rf;for(var n=r.length,i=Ve.addCString(t).addCString(e.text).addInt16(n),s=0;s<n;s++)i.addInt32(r[s]);return Ve.flush(80)},by=(e={})=>{let t=e.portal||"",r=e.statement||"",n=e.binary||!1;for(var i=e.values||rf,s=i.length,o=!1,a=0;a<s;a++)o=o||i[a]instanceof Buffer;var c=Ve.addCString(t).addCString(r);if(!o)c.addInt16(0);else for(c.addInt16(s),a=0;a<s;a++)c.addInt16(i[a]instanceof Buffer?1:0);c.addInt16(s);for(var f=0;f<s;f++){var d=i[f];d===null||typeof d=="undefined"?c.addInt32(-1):d instanceof Buffer?(c.addInt32(d.length),c.add(d)):(c.addInt32(Buffer.byteLength(d)),c.addString(d))}return n?(c.addInt16(1),c.addInt16(1)):c.addInt16(0),Ve.flush(66)},Iy=Buffer.from([69,0,0,0,9,0,0,0,0,0]),wy=e=>{if(!e||!e.portal&&!e.rows)return Iy;let t=e.portal||"",r=e.rows||0,n=Buffer.byteLength(t),i=4+n+1+4,s=Buffer.allocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(t,5,"utf-8"),s[n+5]=0,s.writeUInt32BE(r,s.length-4),s},Ly=(e,t)=>{let r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},ao=(e,t)=>{let n=4+Buffer.byteLength(t)+1,i=Buffer.allocUnsafe(1+n);return i[0]=e,i.writeInt32BE(n,1),i.write(t,5,"utf-8"),i[n]=0,i},Py=Ve.addCString("P").flush(68),Dy=Ve.addCString("S").flush(68),My=e=>e.name?ao(68,`${e.type}${e.name||""}`):e.type==="P"?Py:Dy,ky=e=>{let t=`${e.type}${e.name||""}`;return ao(67,t)},xy=e=>Ve.add(e).flush(100),qy=e=>ao(102,e),ui=e=>Buffer.from([e,0,0,0,4]),Fy=ui(72),Uy=ui(83),By=ui(88),jy=ui(99),Wy={startup:Ry,password:Sy,requestSsl:_y,sendSASLInitialResponseMessage:Ny,sendSCRAMClientFinalMessage:Oy,query:Cy,parse:Ay,bind:by,execute:wy,describe:My,close:ky,flush:()=>Fy,sync:()=>Uy,end:()=>By,copyData:xy,copyDone:()=>jy,copyFail:qy,cancel:Ly};co.serialize=Wy});var sf=S(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.parseComplete={name:"parseComplete",length:5};we.bindComplete={name:"bindComplete",length:5};we.closeComplete={name:"closeComplete",length:5};we.noData={name:"noData",length:5};we.portalSuspended={name:"portalSuspended",length:5};we.replicationStart={name:"replicationStart",length:4};we.emptyQuery={name:"emptyQuery",length:4};we.copyDone={name:"copyDone",length:4};var uo=class extends Error{constructor(t,r,n){super(t),this.length=r,this.name=n}};we.DatabaseError=uo;var lo=class{constructor(t,r){this.length=t,this.chunk=r,this.name="copyData"}};we.CopyDataMessage=lo;var fo=class{constructor(t,r,n,i){this.length=t,this.name=r,this.binary=n,this.columnTypes=new Array(i)}};we.CopyResponse=fo;var ho=class{constructor(t,r,n,i,s,o,a){this.name=t,this.tableID=r,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=s,this.dataTypeModifier=o,this.format=a}};we.Field=ho;var po=class{constructor(t,r){this.length=t,this.fieldCount=r,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};we.RowDescriptionMessage=po;var Eo=class{constructor(t,r,n){this.length=t,this.parameterName=r,this.parameterValue=n,this.name="parameterStatus"}};we.ParameterStatusMessage=Eo;var mo=class{constructor(t,r){this.length=t,this.salt=r,this.name="authenticationMD5Password"}};we.AuthenticationMD5Password=mo;var go=class{constructor(t,r,n){this.length=t,this.processID=r,this.secretKey=n,this.name="backendKeyData"}};we.BackendKeyDataMessage=go;var vo=class{constructor(t,r,n,i){this.length=t,this.processId=r,this.channel=n,this.payload=i,this.name="notification"}};we.NotificationResponseMessage=vo;var yo=class{constructor(t,r){this.length=t,this.status=r,this.name="readyForQuery"}};we.ReadyForQueryMessage=yo;var To=class{constructor(t,r){this.length=t,this.text=r,this.name="commandComplete"}};we.CommandCompleteMessage=To;var Ro=class{constructor(t,r){this.length=t,this.fields=r,this.name="dataRow",this.fieldCount=r.length}};we.DataRowMessage=Ro;var _o=class{constructor(t,r){this.length=t,this.message=r,this.name="notice"}};we.NoticeMessage=_o});var of=S(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var Hy=Buffer.allocUnsafe(0),So=class{constructor(t=0){this.offset=t,this.buffer=Hy,this.encoding="utf-8"}setBuffer(t,r){this.offset=t,this.buffer=r}int16(){let t=this.buffer.readInt16BE(this.offset);return this.offset+=2,t}byte(){let t=this.buffer[this.offset];return this.offset++,t}int32(){let t=this.buffer.readInt32BE(this.offset);return this.offset+=4,t}string(t){let r=this.buffer.toString(this.encoding,this.offset,this.offset+t);return this.offset+=t,r}cstring(){let t=this.offset,r=t;for(;this.buffer[r++]!==0;);return this.offset=r,this.buffer.toString(this.encoding,t,r-1)}bytes(t){let r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r}};No.BufferReader=So});var uf=S(gn=>{"use strict";var Gy=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});var De=sf(),$y=of(),Vy=Gy(require("assert")),Oo=1,Qy=4,af=Oo+Qy,cf=Buffer.allocUnsafe(0),Co=class{constructor(t){var r,n;if(this.buffer=cf,this.bufferLength=0,this.bufferOffset=0,this.reader=new $y.BufferReader,((r=t)===null||r===void 0?void 0:r.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=((n=t)===null||n===void 0?void 0:n.mode)||"text"}parse(t,r){this.mergeBuffer(t);let n=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+af<=n;){let s=this.buffer[i],o=this.buffer.readUInt32BE(i+Oo),a=Oo+o;if(a+i<=n){let c=this.handlePacket(i+af,s,o,this.buffer);r(c),i+=a}else break}i===n?(this.buffer=cf,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(t){if(this.bufferLength>0){let r=this.bufferLength+t.byteLength;if(r+this.bufferOffset>this.buffer.byteLength){let i;if(r<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let s=this.buffer.byteLength*2;for(;r>=s;)s*=2;i=Buffer.allocUnsafe(s)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=i,this.bufferOffset=0}t.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=r}else this.buffer=t,this.bufferOffset=0,this.bufferLength=t.byteLength}handlePacket(t,r,n,i){switch(r){case 50:return De.bindComplete;case 49:return De.parseComplete;case 51:return De.closeComplete;case 110:return De.noData;case 115:return De.portalSuspended;case 99:return De.copyDone;case 87:return De.replicationStart;case 73:return De.emptyQuery;case 68:return this.parseDataRowMessage(t,n,i);case 67:return this.parseCommandCompleteMessage(t,n,i);case 90:return this.parseReadyForQueryMessage(t,n,i);case 65:return this.parseNotificationMessage(t,n,i);case 82:return this.parseAuthenticationResponse(t,n,i);case 83:return this.parseParameterStatusMessage(t,n,i);case 75:return this.parseBackendKeyData(t,n,i);case 69:return this.parseErrorMessage(t,n,i,"error");case 78:return this.parseErrorMessage(t,n,i,"notice");case 84:return this.parseRowDescriptionMessage(t,n,i);case 71:return this.parseCopyInMessage(t,n,i);case 72:return this.parseCopyOutMessage(t,n,i);case 100:return this.parseCopyData(t,n,i);default:Vy.default.fail(`unknown message code: ${r.toString(16)}`)}}parseReadyForQueryMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.string(1);return new De.ReadyForQueryMessage(r,i)}parseCommandCompleteMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.cstring();return new De.CommandCompleteMessage(r,i)}parseCopyData(t,r,n){let i=n.slice(t,t+(r-4));return new De.CopyDataMessage(r,i)}parseCopyInMessage(t,r,n){return this.parseCopyMessage(t,r,n,"copyInResponse")}parseCopyOutMessage(t,r,n){return this.parseCopyMessage(t,r,n,"copyOutResponse")}parseCopyMessage(t,r,n,i){this.reader.setBuffer(t,n);let s=this.reader.byte()!==0,o=this.reader.int16(),a=new De.CopyResponse(r,i,s,o);for(let c=0;c<o;c++)a.columnTypes[c]=this.reader.int16();return a}parseNotificationMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s=this.reader.cstring(),o=this.reader.cstring();return new De.NotificationResponseMessage(r,i,s,o)}parseRowDescriptionMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int16(),s=new De.RowDescriptionMessage(r,i);for(let o=0;o<i;o++)s.fields[o]=this.parseField();return s}parseField(){let t=this.reader.cstring(),r=this.reader.int32(),n=this.reader.int16(),i=this.reader.int32(),s=this.reader.int16(),o=this.reader.int32(),a=this.reader.int16()===0?"text":"binary";return new De.Field(t,r,n,i,s,o,a)}parseDataRowMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int16(),s=new Array(i);for(let o=0;o<i;o++){let a=this.reader.int32();s[o]=a===-1?null:this.reader.string(a)}return new De.DataRowMessage(r,s)}parseParameterStatusMessage(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.cstring(),s=this.reader.cstring();return new De.ParameterStatusMessage(r,i,s)}parseBackendKeyData(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s=this.reader.int32();return new De.BackendKeyDataMessage(r,i,s)}parseAuthenticationResponse(t,r,n){this.reader.setBuffer(t,n);let i=this.reader.int32(),s={name:"authenticationOk",length:r};switch(i){case 0:break;case 3:s.length===8&&(s.name="authenticationCleartextPassword");break;case 5:if(s.length===12){s.name="authenticationMD5Password";let a=this.reader.bytes(4);return new De.AuthenticationMD5Password(r,a)}break;case 10:s.name="authenticationSASL",s.mechanisms=[];let o;do o=this.reader.cstring(),o&&s.mechanisms.push(o);while(o);break;case 11:s.name="authenticationSASLContinue",s.data=this.reader.string(r-8);break;case 12:s.name="authenticationSASLFinal",s.data=this.reader.string(r-8);break;default:throw new Error("Unknown authenticationOk message type "+i)}return s}parseErrorMessage(t,r,n,i){this.reader.setBuffer(t,n);let s={},o=this.reader.string(1);for(;o!=="\0";)s[o]=this.reader.cstring(),o=this.reader.string(1);let a=s.M,c=i==="notice"?new De.NoticeMessage(r,a):new De.DatabaseError(a,r,i);return c.severity=s.S,c.code=s.C,c.detail=s.D,c.hint=s.H,c.position=s.P,c.internalPosition=s.p,c.internalQuery=s.q,c.where=s.W,c.schema=s.s,c.table=s.t,c.column=s.c,c.dataType=s.d,c.constraint=s.n,c.file=s.F,c.line=s.L,c.routine=s.R,c}};gn.Parser=Co});var lf=S(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});var Yy=nf();li.serialize=Yy.serialize;var zy=uf();function Xy(e,t){let r=new zy.Parser;return e.on("data",n=>r.parse(n,t)),new Promise(n=>e.on("end",()=>n()))}li.parse=Xy});var bo=S((J1,df)=>{"use strict";var ff=require("net"),Ky=require("events").EventEmitter,K1=require("util"),{parse:Jy,serialize:Be}=lf(),hf=Be.flush(),Zy=Be.sync(),eT=Be.end(),Ao=class extends Ky{constructor(t){super(),t=t||{},this.stream=t.stream||new ff.Socket,this._keepAlive=t.keepAlive,this._keepAliveInitialDelayMillis=t.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=t.ssl||!1,this._ending=!1,this._emitMessage=!1;var r=this;this.on("newListener",function(n){n==="message"&&(r._emitMessage=!0)})}connect(t,r){var n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(t,r),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=function(s){n._ending&&(s.code==="ECONNRESET"||s.code==="EPIPE")||n.emit("error",s)};if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(s){var o=s.toString("utf8");switch(o){case"S":break;case"N":return n.stream.end(),n.emit("error",new Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",new Error("There was an error establishing an SSL connection"))}var a=require("tls");let c=Object.assign({socket:n.stream},n.ssl);ff.isIP(r)===0&&(c.servername=r);try{n.stream=a.connect(c)}catch(f){return n.emit("error",f)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(t){t.on("end",()=>{this.emit("end")}),Jy(t,r=>{var n=r.name==="error"?"errorMessage":r.name;this._emitMessage&&this.emit("message",r),this.emit(n,r)})}requestSsl(){this.stream.write(Be.requestSsl())}startup(t){this.stream.write(Be.startup(t))}cancel(t,r){this._send(Be.cancel(t,r))}password(t){this._send(Be.password(t))}sendSASLInitialResponseMessage(t,r){this._send(Be.sendSASLInitialResponseMessage(t,r))}sendSCRAMClientFinalMessage(t){this._send(Be.sendSCRAMClientFinalMessage(t))}_send(t){return this.stream.writable?this.stream.write(t):!1}query(t){this._send(Be.query(t))}parse(t){this._send(Be.parse(t))}bind(t){this._send(Be.bind(t))}execute(t){this._send(Be.execute(t))}flush(){this.stream.writable&&this.stream.write(hf)}sync(){this._ending=!0,this._send(hf),this._send(Zy)}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(eT,()=>{this.stream.end()})}close(t){this._send(Be.close(t))}describe(t){this._send(Be.describe(t))}sendCopyFromChunk(t){this._send(Be.copyData(t))}endCopyFrom(){this._send(Be.copyDone())}sendCopyFail(t){this._send(Be.copyFail(t))}};df.exports=Ao});var mf=S((ew,Ef)=>{"use strict";var tT=require("events").EventEmitter,Z1=require("util"),rT=si(),Io=wl(),nT=Bl(),iT=Js(),sT=ro(),pf=Zl(),oT=En(),aT=bo(),fi=class extends tT{constructor(t){super(),this.connectionParameters=new sT(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var r=t||{};this._Promise=r.Promise||global.Promise,this._types=new iT(r.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=r.connection||new aT({stream:r.stream,ssl:this.connectionParameters.ssl,keepAlive:r.keepAlive||!1,keepAliveInitialDelayMillis:r.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=r.binary||oT.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=r.connectionTimeoutMillis||0}_errorAllQueries(t){let r=n=>{process.nextTick(()=>{n.handleError(t,this.connection)})};this.activeQuery&&(r(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(r),this.queryQueue.length=0}_connect(t){var r=this,n=this.connection;if(this._connectionCallback=t,this._connecting||this._connected){let i=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{t(i)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){r.ssl?n.requestSsl():n.startup(r.getStartupConf())}),n.on("sslconnect",function(){n.startup(r.getStartupConf())}),this._attachListeners(n),n.once("end",()=>{let i=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(i)),process.nextTick(()=>{this.emit("end")})})}connect(t){if(t){this._connect(t);return}return new this._Promise((r,n)=>{this._connect(i=>{i?n(i):r()})})}_attachListeners(t){t.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),t.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),t.on("authenticationSASL",this._handleAuthSASL.bind(this)),t.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),t.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),t.on("backendKeyData",this._handleBackendKeyData.bind(this)),t.on("error",this._handleErrorEvent.bind(this)),t.on("errorMessage",this._handleErrorMessage.bind(this)),t.on("readyForQuery",this._handleReadyForQuery.bind(this)),t.on("notice",this._handleNotice.bind(this)),t.on("rowDescription",this._handleRowDescription.bind(this)),t.on("dataRow",this._handleDataRow.bind(this)),t.on("portalSuspended",this._handlePortalSuspended.bind(this)),t.on("emptyQuery",this._handleEmptyQuery.bind(this)),t.on("commandComplete",this._handleCommandComplete.bind(this)),t.on("parseComplete",this._handleParseComplete.bind(this)),t.on("copyInResponse",this._handleCopyInResponse.bind(this)),t.on("copyData",this._handleCopyData.bind(this)),t.on("notification",this._handleNotification.bind(this))}_checkPgPass(t){let r=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!="string"){r.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.password=this.password=null;t()}).catch(n=>{r.emit("error",n)}):this.password!==null?t():nT(this.connectionParameters,function(n){n!==void 0&&(this.connectionParameters.password=this.password=n),t()})}_handleAuthCleartextPassword(t){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(t){this._checkPgPass(()=>{let r=rT.postgresMd5PasswordHash(this.user,this.password,t.salt);this.connection.password(r)})}_handleAuthSASL(t){this._checkPgPass(()=>{this.saslSession=Io.startSession(t.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(t){Io.continueSession(this.saslSession,this.password,t.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(t){Io.finalizeSession(this.saslSession,t.data),this.saslSession=null}_handleBackendKeyData(t){this.processID=t.processID,this.secretKey=t.secretKey}_handleReadyForQuery(t){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:r}=this;this.activeQuery=null,this.readyForQuery=!0,r&&r.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(t){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(t);this.emit("error",t)}}_handleErrorEvent(t){if(this._connecting)return this._handleErrorWhileConnecting(t);this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)}_handleErrorMessage(t){if(this._connecting)return this._handleErrorWhileConnecting(t);let r=this.activeQuery;if(!r){this._handleErrorEvent(t);return}this.activeQuery=null,r.handleError(t,this.connection)}_handleRowDescription(t){this.activeQuery.handleRowDescription(t)}_handleDataRow(t){this.activeQuery.handleDataRow(t)}_handlePortalSuspended(t){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(t){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(t){this.activeQuery.handleCommandComplete(t,this.connection)}_handleParseComplete(t){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(t){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(t){this.activeQuery.handleCopyData(t,this.connection)}_handleNotification(t){this.emit("notification",t)}_handleNotice(t){this.emit("notice",t)}getStartupConf(){var t=this.connectionParameters,r={user:t.user,database:t.database},n=t.application_name||t.fallback_application_name;return n&&(r.application_name=n),t.replication&&(r.replication=""+t.replication),t.statement_timeout&&(r.statement_timeout=String(parseInt(t.statement_timeout,10))),t.idle_in_transaction_session_timeout&&(r.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),t.options&&(r.options=t.options),r}cancel(t,r){if(t.activeQuery===r){var n=this.connection;this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){n.cancel(t.processID,t.secretKey)})}else t.queryQueue.indexOf(r)!==-1&&t.queryQueue.splice(t.queryQueue.indexOf(r),1)}setTypeParser(t,r,n){return this._types.setTypeParser(t,r,n)}getTypeParser(t,r){return this._types.getTypeParser(t,r)}escapeIdentifier(t){return'"'+t.replace(/"/g,'""')+'"'}escapeLiteral(t){for(var r=!1,n="'",i=0;i<t.length;i++){var s=t[i];s==="'"?n+=s+s:s==="\\"?(n+=s+s,r=!0):n+=s}return n+="'",r===!0&&(n=" E"+n),n}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(t,r,n){var i,s,o,a,c;if(t==null)throw new TypeError("Client was passed a null or undefined query");return typeof t.submit=="function"?(o=t.query_timeout||this.connectionParameters.query_timeout,s=i=t,typeof r=="function"&&(i.callback=i.callback||r)):(o=this.connectionParameters.query_timeout,i=new pf(t,r,n),i.callback||(s=new this._Promise((f,d)=>{i.callback=(m,g)=>m?d(m):f(g)}))),o&&(c=i.callback,a=setTimeout(()=>{var f=new Error("Query read timeout");process.nextTick(()=>{i.handleError(f,this.connection)}),c(f),i.callback=()=>{};var d=this.queryQueue.indexOf(i);d>-1&&this.queryQueue.splice(d,1),this._pulseQueryQueue()},o),i.callback=(f,d)=>{clearTimeout(a),c(f,d)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"),this.connection)}),s):(this.queryQueue.push(i),this._pulseQueryQueue(),s):(process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),s)}end(t){if(this._ending=!0,!this.connection._connecting)if(t)t();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),t)this.connection.once("end",t);else return new this._Promise(r=>{this.connection.once("end",r)})}};fi.Query=pf;Ef.exports=fi});var Tf=S((tw,yf)=>{"use strict";var cT=require("events").EventEmitter,gf=function(){},vf=(e,t)=>{let r=e.findIndex(t);return r===-1?void 0:e.splice(r,1)[0]},wo=class{constructor(t,r,n){this.client=t,this.idleListener=r,this.timeoutId=n}},vn=class{constructor(t){this.callback=t}};function uT(){throw new Error("Release called on client which has already been released to the pool.")}function hi(e,t){if(t)return{callback:t,result:void 0};let r,n,i=function(o,a){o?r(o):n(a)},s=new e(function(o,a){n=o,r=a});return{callback:i,result:s}}function lT(e,t){return function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)}}var Lo=class extends cT{constructor(t,r){super(),this.options=Object.assign({},t),t!=null&&"password"in t&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.log=this.options.log||function(){},this.Client=this.options.Client||r||Po().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis=="undefined"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(r=>{this._remove(r.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let t=this._pendingQueue.shift();if(this._idle.length){let r=this._idle.pop();clearTimeout(r.timeoutId);let n=r.client,i=r.idleListener;return this._acquireClient(n,t,i,!1)}if(!this._isFull())return this.newClient(t);throw new Error("unexpected condition")}_remove(t){let r=vf(this._idle,n=>n.client===t);r!==void 0&&clearTimeout(r.timeoutId),this._clients=this._clients.filter(n=>n!==t),t.end(),this.emit("remove",t)}connect(t){if(this.ending){let i=new Error("Cannot use a pool after calling end on the pool");return t?t(i):this.Promise.reject(i)}let r=hi(this.Promise,t),n=r.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new vn(r.callback)),n;let i=(a,c,f)=>{clearTimeout(o),r.callback(a,c,f)},s=new vn(i),o=setTimeout(()=>{vf(this._pendingQueue,a=>a.callback===i),s.timedOut=!0,r.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(s),n}return this.newClient(new vn(r.callback)),n}newClient(t){let r=new this.Client(this.options);this._clients.push(r);let n=lT(this,r);this.log("checking client timeout");let i,s=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),s=!0,r.connection?r.connection.stream.destroy():r.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),r.connect(o=>{if(i&&clearTimeout(i),r.on("error",n),o)this.log("client failed to connect",o),this._clients=this._clients.filter(a=>a!==r),s&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),t.timedOut||t.callback(o,void 0,gf);else return this.log("new client connected"),this._acquireClient(r,t,n,!0)})}_acquireClient(t,r,n,i){i&&this.emit("connect",t),this.emit("acquire",t),t.release=this._releaseOnce(t,n),t.removeListener("error",n),r.timedOut?i&&this.options.verify?this.options.verify(t,t.release):t.release():i&&this.options.verify?this.options.verify(t,s=>{if(s)return t.release(s),r.callback(s,void 0,gf);r.callback(void 0,t,t.release)}):r.callback(void 0,t,t.release)}_releaseOnce(t,r){let n=!1;return i=>{n&&uT(),n=!0,this._release(t,r,i)}}_release(t,r,n){if(t.on("error",r),t._poolUseCount=(t._poolUseCount||0)+1,n||this.ending||!t._queryable||t._ending||t._poolUseCount>=this.options.maxUses){t._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(t),this._pulseQueue();return}let i;this.options.idleTimeoutMillis&&(i=setTimeout(()=>{this.log("remove idle client"),this._remove(t)},this.options.idleTimeoutMillis)),this._idle.push(new wo(t,r,i)),this._pulseQueue()}query(t,r,n){if(typeof t=="function"){let s=hi(this.Promise,t);return setImmediate(function(){return s.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),s.result}typeof r=="function"&&(n=r,r=void 0);let i=hi(this.Promise,n);return n=i.callback,this.connect((s,o)=>{if(s)return n(s);let a=!1,c=f=>{a||(a=!0,o.release(f),n(f))};o.once("error",c),this.log("dispatching query"),o.query(t,r,(f,d)=>{if(this.log("query dispatched"),o.removeListener("error",c),!a)return a=!0,o.release(f),f?n(f):n(void 0,d)})}),i.result}end(t){if(this.log("ending"),this.ending){let n=new Error("Called end on pool more than once");return t?t(n):this.Promise.reject(n)}this.ending=!0;let r=hi(this.Promise,t);return this._endCallback=r.callback,this._pulseQueue(),r.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}};yf.exports=Lo});var qf=S((ce,Ei)=>{typeof Ei=="object"&&Ei.exports===ce&&(ce=Ei.exports=Se);var ve;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ve=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:ve=function(){};ce.SEMVER_SPEC_VERSION="2.0.0";var Mo=256,Do=Number.MAX_SAFE_INTEGER||9007199254740991,Ce=ce.re=[],j=ce.src=[],de=0,wr=de++;j[wr]="0|[1-9]\\d*";var Lr=de++;j[Lr]="[0-9]+";var Fo=de++;j[Fo]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var _f=de++;j[_f]="("+j[wr]+")\\.("+j[wr]+")\\.("+j[wr]+")";var Sf=de++;j[Sf]="("+j[Lr]+")\\.("+j[Lr]+")\\.("+j[Lr]+")";var ko=de++;j[ko]="(?:"+j[wr]+"|"+j[Fo]+")";var xo=de++;j[xo]="(?:"+j[Lr]+"|"+j[Fo]+")";var Uo=de++;j[Uo]="(?:-("+j[ko]+"(?:\\."+j[ko]+")*))";var Bo=de++;j[Bo]="(?:-?("+j[xo]+"(?:\\."+j[xo]+")*))";var qo=de++;j[qo]="[0-9A-Za-z-]+";var Rn=de++;j[Rn]="(?:\\+("+j[qo]+"(?:\\."+j[qo]+")*))";var jo=de++,Nf="v?"+j[_f]+j[Uo]+"?"+j[Rn]+"?";j[jo]="^"+Nf+"$";var Wo="[v=\\s]*"+j[Sf]+j[Bo]+"?"+j[Rn]+"?",Ho=de++;j[Ho]="^"+Wo+"$";var Mr=de++;j[Mr]="((?:<|>)?=?)";var di=de++;j[di]=j[Lr]+"|x|X|\\*";var pi=de++;j[pi]=j[wr]+"|x|X|\\*";var ur=de++;j[ur]="[v=\\s]*("+j[pi]+")(?:\\.("+j[pi]+")(?:\\.("+j[pi]+")(?:"+j[Uo]+")?"+j[Rn]+"?)?)?";var Dr=de++;j[Dr]="[v=\\s]*("+j[di]+")(?:\\.("+j[di]+")(?:\\.("+j[di]+")(?:"+j[Bo]+")?"+j[Rn]+"?)?)?";var Of=de++;j[Of]="^"+j[Mr]+"\\s*"+j[ur]+"$";var Cf=de++;j[Cf]="^"+j[Mr]+"\\s*"+j[Dr]+"$";var Ti=de++;j[Ti]="(?:~>?)";var mi=de++;j[mi]="(\\s*)"+j[Ti]+"\\s+";Ce[mi]=new RegExp(j[mi],"g");var fT="$1~",Af=de++;j[Af]="^"+j[Ti]+j[ur]+"$";var bf=de++;j[bf]="^"+j[Ti]+j[Dr]+"$";var Ri=de++;j[Ri]="(?:\\^)";var gi=de++;j[gi]="(\\s*)"+j[Ri]+"\\s+";Ce[gi]=new RegExp(j[gi],"g");var hT="$1^",If=de++;j[If]="^"+j[Ri]+j[ur]+"$";var wf=de++;j[wf]="^"+j[Ri]+j[Dr]+"$";var Go=de++;j[Go]="^"+j[Mr]+"\\s*("+Wo+")$|^$";var $o=de++;j[$o]="^"+j[Mr]+"\\s*("+Nf+")$|^$";var yn=de++;j[yn]="(\\s*)"+j[Mr]+"\\s*("+Wo+"|"+j[ur]+")";Ce[yn]=new RegExp(j[yn],"g");var dT="$1$2$3",Lf=de++;j[Lf]="^\\s*("+j[ur]+")\\s+-\\s+("+j[ur]+")\\s*$";var Pf=de++;j[Pf]="^\\s*("+j[Dr]+")\\s+-\\s+("+j[Dr]+")\\s*$";var Df=de++;j[Df]="(<|>)?=?\\s*\\*";for(Yt=0;Yt<de;Yt++)ve(Yt,j[Yt]),Ce[Yt]||(Ce[Yt]=new RegExp(j[Yt]));var Yt;ce.parse=Tn;function Tn(e,t){if(e.length>Mo)return null;var r=t?Ce[Ho]:Ce[jo];if(!r.test(e))return null;try{return new Se(e,t)}catch(n){return null}}ce.valid=pT;function pT(e,t){var r=Tn(e,t);return r?r.version:null}ce.clean=ET;function ET(e,t){var r=Tn(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}ce.SemVer=Se;function Se(e,t){if(e instanceof Se){if(e.loose===t)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Mo)throw new TypeError("version is longer than "+Mo+" characters");if(!(this instanceof Se))return new Se(e,t);ve("SemVer",e,t),this.loose=t;var r=e.trim().match(t?Ce[Ho]:Ce[jo]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Do||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Do||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Do||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){return/^[0-9]+$/.test(n)?+n:n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}Se.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Se.prototype.inspect=function(){return'<SemVer "'+this+'">'};Se.prototype.toString=function(){return this.version};Se.prototype.compare=function(e){return ve("SemVer.compare",this.version,this.loose,e),e instanceof Se||(e=new Se(e,this.loose)),this.compareMain(e)||this.comparePre(e)};Se.prototype.compareMain=function(e){return e instanceof Se||(e=new Se(e,this.loose)),Pr(this.major,e.major)||Pr(this.minor,e.minor)||Pr(this.patch,e.patch)};Se.prototype.comparePre=function(e){if(e instanceof Se||(e=new Se(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(ve("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Pr(r,n)}while(++t)};Se.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this};ce.inc=mT;function mT(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new Se(e,r).inc(t,n).version}catch(i){return null}}ce.diff=gT;function gT(e,t){if(Vo(e,t))return null;var r=Tn(e),n=Tn(t);if(r.prerelease.length||n.prerelease.length){for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return"pre"+i;return"prerelease"}for(var i in r)if((i==="major"||i==="minor"||i==="patch")&&r[i]!==n[i])return i}ce.compareIdentifiers=Pr;var Rf=/^[0-9]+$/;function Pr(e,t){var r=Rf.test(e),n=Rf.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}ce.rcompareIdentifiers=vT;function vT(e,t){return Pr(t,e)}ce.major=yT;function yT(e,t){return new Se(e,t).major}ce.minor=TT;function TT(e,t){return new Se(e,t).minor}ce.patch=RT;function RT(e,t){return new Se(e,t).patch}ce.compare=qt;function qt(e,t,r){return new Se(e,r).compare(t)}ce.compareLoose=_T;function _T(e,t){return qt(e,t,!0)}ce.rcompare=Mf;function Mf(e,t,r){return qt(t,e,r)}ce.sort=ST;function ST(e,t){return e.sort(function(r,n){return ce.compare(r,n,t)})}ce.rsort=NT;function NT(e,t){return e.sort(function(r,n){return ce.rcompare(r,n,t)})}ce.gt=vi;function vi(e,t,r){return qt(e,t,r)>0}ce.lt=yi;function yi(e,t,r){return qt(e,t,r)<0}ce.eq=Vo;function Vo(e,t,r){return qt(e,t,r)===0}ce.neq=kf;function kf(e,t,r){return qt(e,t,r)!==0}ce.gte=Qo;function Qo(e,t,r){return qt(e,t,r)>=0}ce.lte=Yo;function Yo(e,t,r){return qt(e,t,r)<=0}ce.cmp=xf;function xf(e,t,r,n){var i;switch(t){case"===":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e===r;break;case"!==":typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),i=e!==r;break;case"":case"=":case"==":i=Vo(e,r,n);break;case"!=":i=kf(e,r,n);break;case">":i=vi(e,r,n);break;case">=":i=Qo(e,r,n);break;case"<":i=yi(e,r,n);break;case"<=":i=Yo(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return i}ce.Comparator=xt;function xt(e,t){if(e instanceof xt){if(e.loose===t)return e;e=e.value}if(!(this instanceof xt))return new xt(e,t);ve("comparator",e,t),this.loose=t,this.parse(e),this.semver===_i?this.value="":this.value=this.operator+this.semver.version,ve("comp",this)}var _i={};xt.prototype.parse=function(e){var t=this.loose?Ce[Go]:Ce[$o],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new Se(r[2],this.loose):this.semver=_i};xt.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'};xt.prototype.toString=function(){return this.value};xt.prototype.test=function(e){return ve("Comparator.test",e,this.loose),this.semver===_i?!0:(typeof e=="string"&&(e=new Se(e,this.loose)),xf(e,this.operator,this.semver,this.loose))};ce.Range=ot;function ot(e,t){if(e instanceof ot&&e.loose===t)return e;if(!(this instanceof ot))return new ot(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}ot.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'};ot.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};ot.prototype.toString=function(){return this.range};ot.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),ve("range",e,t);var r=t?Ce[Pf]:Ce[Lf];e=e.replace(r,MT),ve("hyphen replace",e),e=e.replace(Ce[yn],dT),ve("comparator trim",e,Ce[yn]),e=e.replace(Ce[mi],fT),e=e.replace(Ce[gi],hT),e=e.split(/\s+/).join(" ");var n=t?Ce[Go]:Ce[$o],i=e.split(" ").map(function(s){return CT(s,t)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new xt(s,t)}),i};ce.toComparators=OT;function OT(e,t){return new ot(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function CT(e,t){return ve("comp",e),e=IT(e,t),ve("caret",e),e=AT(e,t),ve("tildes",e),e=LT(e,t),ve("xrange",e),e=DT(e,t),ve("stars",e),e}function Ye(e){return!e||e.toLowerCase()==="x"||e==="*"}function AT(e,t){return e.trim().split(/\s+/).map(function(r){return bT(r,t)}).join(" ")}function bT(e,t){var r=t?Ce[bf]:Ce[Af];return e.replace(r,function(n,i,s,o,a){ve("tilde",e,n,i,s,o,a);var c;return Ye(i)?c="":Ye(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Ye(o)?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(ve("replaceTilde pr",a),a.charAt(0)!=="-"&&(a="-"+a),c=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0"):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",ve("tilde return",c),c})}function IT(e,t){return e.trim().split(/\s+/).map(function(r){return wT(r,t)}).join(" ")}function wT(e,t){ve("caret",e,t);var r=t?Ce[wf]:Ce[If];return e.replace(r,function(n,i,s,o,a){ve("caret",e,n,i,s,o,a);var c;return Ye(i)?c="":Ye(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Ye(o)?i==="0"?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(ve("replaceCaret pr",a),a.charAt(0)!=="-"&&(a="-"+a),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+a+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+a+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+a+" <"+(+i+1)+".0.0"):(ve("no pr"),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),ve("caret return",c),c})}function LT(e,t){return ve("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return PT(r,t)}).join(" ")}function PT(e,t){e=e.trim();var r=t?Ce[Cf]:Ce[Of];return e.replace(r,function(n,i,s,o,a,c){ve("xRange",e,n,i,s,o,a,c);var f=Ye(s),d=f||Ye(o),m=d||Ye(a),g=m;return i==="="&&g&&(i=""),f?i===">"||i==="<"?n="<0.0.0":n="*":i&&g?(d&&(o=0),m&&(a=0),i===">"?(i=">=",d?(s=+s+1,o=0,a=0):m&&(o=+o+1,a=0)):i==="<="&&(i="<",d?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a):d?n=">="+s+".0.0 <"+(+s+1)+".0.0":m&&(n=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),ve("xRange return",n),n})}function DT(e,t){return ve("replaceStars",e,t),e.trim().replace(Ce[Df],"")}function MT(e,t,r,n,i,s,o,a,c,f,d,m,g){return Ye(r)?t="":Ye(n)?t=">="+r+".0.0":Ye(i)?t=">="+r+"."+n+".0":t=">="+t,Ye(c)?a="":Ye(f)?a="<"+(+c+1)+".0.0":Ye(d)?a="<"+c+"."+(+f+1)+".0":m?a="<="+c+"."+f+"."+d+"-"+m:a="<="+a,(t+" "+a).trim()}ot.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new Se(e,this.loose));for(var t=0;t<this.set.length;t++)if(kT(this.set[t],e))return!0;return!1};function kT(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(var r=0;r<e.length;r++){if(ve(e[r].semver),e[r].semver===_i)return!0;if(e[r].semver.prerelease.length>0){var n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}}return!1}return!0}ce.satisfies=zo;function zo(e,t,r){try{t=new ot(t,r)}catch(n){return!1}return t.test(e)}ce.maxSatisfying=xT;function xT(e,t,r){return e.filter(function(n){return zo(n,t,r)}).sort(function(n,i){return Mf(n,i,r)})[0]||null}ce.validRange=qT;function qT(e,t){try{return new ot(e,t).range||"*"}catch(r){return null}}ce.ltr=FT;function FT(e,t,r){return Xo(e,t,"<",r)}ce.gtr=UT;function UT(e,t,r){return Xo(e,t,">",r)}ce.outside=Xo;function Xo(e,t,r,n){e=new Se(e,n),t=new ot(t,n);var i,s,o,a,c;switch(r){case">":i=vi,s=Yo,o=yi,a=">",c=">=";break;case"<":i=yi,s=Qo,o=vi,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(zo(e,t,n))return!1;for(var f=0;f<t.set.length;++f){var d=t.set[f],m=null,g=null;if(d.forEach(function(R){m=m||R,g=g||R,i(R.semver,m.semver,n)?m=R:o(R.semver,g.semver,n)&&(g=R)}),m.operator===a||m.operator===c||(!g.operator||g.operator===a)&&s(e,g.semver))return!1;if(g.operator===c&&o(e,g.semver))return!1}return!0}typeof define=="function"&&define.amd&&define(ce)});var Ff=S((rw,BT)=>{BT.exports={name:"pg",version:"8.3.2",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.3.0","pg-pool":"^3.2.1","pg-protocol":"^1.2.5","pg-types":"^2.1.0",pgpass:"1.x",semver:"4.3.2"},devDependencies:{async:"0.9.0",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},minNativeVersion:"2.0.0",scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"acfbafac82641ef909d9d6235d46d38378c67864"}});var jf=S((nw,Bf)=>{"use strict";var Uf=require("events").EventEmitter,jT=require("util"),Ko=si(),kr=Bf.exports=function(e,t,r){Uf.call(this),e=Ko.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode=e.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(n){n==="row"&&(this._emitRowEvents=!0)}.bind(this))};jT.inherits(kr,Uf);var WT={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};kr.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t){var n=WT[r]||r;e[n]=t[r]}this.callback?this.callback(e):this.emit("error",e),this.state="error"};kr.prototype.then=function(e,t){return this._getPromise().then(e,t)};kr.prototype.catch=function(e){return this._getPromise().catch(e)};kr.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(e,t){this._once("end",e),this._once("error",t)}.bind(this)),this._promise)};kr.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=function(s,o,a){if(e.native.arrayMode=!1,setImmediate(function(){t.emit("_done")}),s)return t.handleError(s);t._emitRowEvents&&(a.length>1?o.forEach((c,f)=>{c.forEach(d=>{t.emit("row",d,a[f])})}):o.forEach(function(c){t.emit("row",c,a)})),t.state="end",t.emit("end",a),t.callback&&t.callback(null,a)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(Ko.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let s=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(s)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,function(s){return s?r(s):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))})}else if(this.values){if(!Array.isArray(this.values)){let s=new Error("Query values must be an array");return r(s)}var i=this.values.map(Ko.prepareValue);e.native.query(this.text,i,r)}else e.native.query(this.text,r)}});var Qf=S((iw,Vf)=>{"use strict";var Wf=require("pg-native"),HT=Js(),GT=qf(),Hf=Ff(),$T=require("assert"),Gf=require("events").EventEmitter,VT=require("util"),QT=ro(),YT="Version >= "+Hf.minNativeVersion+" of pg-native required.";$T(GT.gte(Wf.version,Hf.minNativeVersion),YT);var $f=jf(),pt=Vf.exports=function(e){Gf.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new HT(e.types),this.native=new Wf({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new QT(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};pt.Query=$f;VT.inherits(pt,Gf);pt.prototype._errorAllQueries=function(e){let t=r=>{process.nextTick(()=>{r.native=this.native,r.handleError(e)})};this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0};pt.prototype._connect=function(e){var t=this;if(this._connecting){process.nextTick(()=>e(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(r)return e(r);t.native.connect(n,function(i){if(i)return t.native.end(),e(i);t._connected=!0,t.native.on("error",function(s){t._queryable=!1,t._errorAllQueries(s),t.emit("error",s)}),t.native.on("notification",function(s){t.emit("notification",{channel:s.relname,payload:s.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})};pt.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((t,r)=>{this._connect(n=>{n?r(n):t()})})};pt.prototype.query=function(e,t,r){var n,i,s,o,a;if(e==null)throw new TypeError("Client was passed a null or undefined query");if(typeof e.submit=="function")s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,typeof t=="function"&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,n=new $f(e,t,r),!n.callback){let c,f;i=new this._Promise((d,m)=>{c=d,f=m}),n.callback=(d,m)=>d?f(d):c(m)}return s&&(a=n.callback,o=setTimeout(()=>{var c=new Error("Query read timeout");process.nextTick(()=>{n.handleError(c,this.connection)}),a(c),n.callback=()=>{};var f=this._queryQueue.indexOf(n);f>-1&&this._queryQueue.splice(f,1),this._pulseQueryQueue()},s),n.callback=(c,f)=>{clearTimeout(o),a(c,f)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)};pt.prototype.end=function(e){var t=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e));var r;return e||(r=new this._Promise(function(n,i){e=s=>s?i(s):n()})),this.native.end(function(){t._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{t.emit("end"),e&&e()})}),r};pt.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};pt.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})}};pt.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):this._queryQueue.indexOf(e)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)};pt.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)};pt.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}});var Jo=S((sw,Yf)=>{"use strict";Yf.exports=Qf()});var Po=S((aw,_n)=>{"use strict";var zT=mf(),XT=En(),KT=bo(),JT=Tf(),ZT=e=>class extends JT{constructor(r){super(r,e)}},Zo=function(e){this.defaults=XT,this.Client=e,this.Query=this.Client.Query,this.Pool=ZT(this.Client),this._pools=[],this.Connection=KT,this.types=pn()};typeof process.env.NODE_PG_FORCE_NATIVE!="undefined"?_n.exports=new Zo(Jo()):(_n.exports=new Zo(zT),Object.defineProperty(_n.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new Zo(Jo())}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t;console.error(t.message)}return Object.defineProperty(_n.exports,"native",{value:e}),e}}))});var zf=S(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var eR=(e,...t)=>{function r(n={}){return e.reduce((i,s,o)=>{let a=t[o];return i+=s.replace(/\r?\n\s+/g," "),typeof a!="undefined"&&(i+=typeof a!="function"?a:a(n)),i},"").trim()}return r.raw=e.reduce((n,i,s)=>{let o=t[s];return n+=i.replace(/\r?\n\s+/g," "),typeof o!="undefined"&&(n+="${"+o.toString()+"}"),n},"").trim(),r};ea.default=eR});var na=S((lw,Kf)=>{var Xf={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(Xf);Kf.exports={ContextValue:Xf}});var xr=S(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});function pR(e){return e===!0||e===!1}Ft.boolean=pR;function eh(e){return typeof e=="string"||e instanceof String}Ft.string=eh;function ER(e){return typeof e=="number"||e instanceof Number}Ft.number=ER;function mR(e){return e instanceof Error}Ft.error=mR;function gR(e){return typeof e=="function"}Ft.func=gR;function th(e){return Array.isArray(e)}Ft.array=th;function vR(e){return th(e)&&e.every(t=>eh(t))}Ft.stringArray=vR});var nh=S(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});var lr=xr(),rh;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2})(rh=me.ErrorCodes||(me.ErrorCodes={}));var ia=class e extends Error{constructor(t,r,n){super(r),this.code=lr.number(t)?t:rh.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};me.ResponseError=ia;var Ae=class{constructor(t,r){this._method=t,this._numberOfParams=r}get method(){return this._method}get numberOfParams(){return this._numberOfParams}};me.AbstractMessageType=Ae;var sa=class extends Ae{constructor(t){super(t,0)}};me.RequestType0=sa;var oa=class extends Ae{constructor(t){super(t,1)}};me.RequestType=oa;var aa=class extends Ae{constructor(t){super(t,1)}};me.RequestType1=aa;var ca=class extends Ae{constructor(t){super(t,2)}};me.RequestType2=ca;var ua=class extends Ae{constructor(t){super(t,3)}};me.RequestType3=ua;var la=class extends Ae{constructor(t){super(t,4)}};me.RequestType4=la;var fa=class extends Ae{constructor(t){super(t,5)}};me.RequestType5=fa;var ha=class extends Ae{constructor(t){super(t,6)}};me.RequestType6=ha;var da=class extends Ae{constructor(t){super(t,7)}};me.RequestType7=da;var pa=class extends Ae{constructor(t){super(t,8)}};me.RequestType8=pa;var Ea=class extends Ae{constructor(t){super(t,9)}};me.RequestType9=Ea;var ma=class extends Ae{constructor(t){super(t,1),this._=void 0}};me.NotificationType=ma;var ga=class extends Ae{constructor(t){super(t,0)}};me.NotificationType0=ga;var va=class extends Ae{constructor(t){super(t,1)}};me.NotificationType1=va;var ya=class extends Ae{constructor(t){super(t,2)}};me.NotificationType2=ya;var Ta=class extends Ae{constructor(t){super(t,3)}};me.NotificationType3=Ta;var Ra=class extends Ae{constructor(t){super(t,4)}};me.NotificationType4=Ra;var _a=class extends Ae{constructor(t){super(t,5)}};me.NotificationType5=_a;var Sa=class extends Ae{constructor(t){super(t,6)}};me.NotificationType6=Sa;var Na=class extends Ae{constructor(t){super(t,7)}};me.NotificationType7=Na;var Oa=class extends Ae{constructor(t){super(t,8)}};me.NotificationType8=Oa;var Ca=class extends Ae{constructor(t){super(t,9)}};me.NotificationType9=Ca;function yR(e){let t=e;return t&&lr.string(t.method)&&(lr.string(t.id)||lr.number(t.id))}me.isRequestMessage=yR;function TR(e){let t=e;return t&&lr.string(t.method)&&e.id===void 0}me.isNotificationMessage=TR;function RR(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(lr.string(t.id)||lr.number(t.id)||t.id===null)}me.isResponseMessage=RR});var Sn=S(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var _R;(function(e){function t(r){return{dispose:r}}e.create=t})(_R=fr.Disposable||(fr.Disposable={}));var SR;(function(e){let t={dispose(){}};e.None=function(){return t}})(SR=fr.Event||(fr.Event={}));var Aa=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(this._callbacks){for(var n=!1,i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...t){if(!this._callbacks)return[];for(var r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0),s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],t))}catch(a){console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Si=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Aa),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i;return i={dispose:()=>{this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};fr.Emitter=Si;Si._noop=function(){}});var Oi=S(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var ba=Sn(),qr=xr(),Ia=8192,ih=Buffer.from("\r","ascii")[0],sh=Buffer.from(`
`,"ascii")[0],NR=`\r
`,wa=class{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=Buffer.allocUnsafe(Ia)}append(t){var r=t;if(typeof t=="string"){var n=t,i=Buffer.byteLength(n,this.encoding);r=Buffer.allocUnsafe(i),r.write(n,0,i,this.encoding)}if(this.buffer.length-this.index>=r.length)r.copy(this.buffer,this.index,0,r.length);else{var s=(Math.ceil((this.index+r.length)/Ia)+1)*Ia;this.index===0?(this.buffer=Buffer.allocUnsafe(s),r.copy(this.buffer,0,0,r.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),r],s)}this.index+=r.length}tryReadHeaders(){let t,r=0;for(;r+3<this.index&&(this.buffer[r]!==ih||this.buffer[r+1]!==sh||this.buffer[r+2]!==ih||this.buffer[r+3]!==sh);)r++;if(r+3>=this.index)return t;t=Object.create(null),this.buffer.toString("ascii",0,r).split(NR).forEach(s=>{let o=s.indexOf(":");if(o===-1)throw new Error("Message header must separate key and value using :");let a=s.substr(0,o),c=s.substr(o+1).trim();t[a]=c});let i=r+4;return this.buffer=this.buffer.slice(i),this.index=this.index-i,t}tryReadContent(t){if(this.index<t)return null;let r=this.buffer.toString(this.encoding,0,t),n=t;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,r}get numberOfBytes(){return this.index}},OR;(function(e){function t(r){let n=r;return n&&qr.func(n.listen)&&qr.func(n.dispose)&&qr.func(n.onError)&&qr.func(n.onClose)&&qr.func(n.onPartialMessage)}e.is=t})(OR=zt.MessageReader||(zt.MessageReader={}));var Nn=class{constructor(){this.errorEmitter=new ba.Emitter,this.closeEmitter=new ba.Emitter,this.partialMessageEmitter=new ba.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${qr.string(t.message)?t.message:"unknown"}`)}};zt.AbstractMessageReader=Nn;var Ni=class extends Nn{constructor(t,r="utf8"){super(),this.readable=t,this.buffer=new wa(r),this._partialMessageTimeout=1e4}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t,this.readable.on("data",r=>{this.onData(r)}),this.readable.on("error",r=>this.fireError(r)),this.readable.on("close",()=>this.fireClose())}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i["Content-Length"];if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}var r=this.buffer.tryReadContent(this.nextMessageLength);if(r===null){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(r);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};zt.StreamMessageReader=Ni;var La=class extends Nn{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){this.process.on("message",t)}};zt.IPCMessageReader=La;var Pa=class extends Ni{constructor(t,r="utf-8"){super(t,r)}};zt.SocketMessageReader=Pa});var Ai=S(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var oh=Sn(),On=xr(),ah="Content-Length: ",Ci=`\r
`,CR;(function(e){function t(r){let n=r;return n&&On.func(n.dispose)&&On.func(n.onClose)&&On.func(n.onError)&&On.func(n.write)}e.is=t})(CR=Xt.MessageWriter||(Xt.MessageWriter={}));var Fr=class{constructor(){this.errorEmitter=new oh.Emitter,this.closeEmitter=new oh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${On.string(t.message)?t.message:"unknown"}`)}};Xt.AbstractMessageWriter=Fr;var Da=class extends Fr{constructor(t,r="utf8"){super(),this.writable=t,this.encoding=r,this.errorCount=0,this.writable.on("error",n=>this.fireError(n)),this.writable.on("close",()=>this.fireClose())}write(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[ah,n.toString(),Ci,Ci];try{this.writable.write(i.join(""),"ascii"),this.writable.write(r,this.encoding),this.errorCount=0}catch(s){this.errorCount++,this.fireError(s,t,this.errorCount)}}};Xt.StreamMessageWriter=Da;var Ma=class extends Fr{constructor(t){super(),this.process=t,this.errorCount=0,this.queue=[],this.sending=!1;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){try{this.process.send&&(this.sending=!0,this.process.send(t,void 0,void 0,r=>{this.sending=!1,r?(this.errorCount++,this.fireError(r,t,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.errorCount++,this.fireError(r,t,this.errorCount)}}};Xt.IPCMessageWriter=Ma;var ka=class extends Fr{constructor(t,r="utf8"){super(),this.socket=t,this.queue=[],this.sending=!1,this.encoding=r,this.errorCount=0,this.socket.on("error",n=>this.fireError(n)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[ah,n.toString(),Ci,Ci];try{this.sending=!0,this.socket.write(i.join(""),"ascii",s=>{s&&this.handleError(s,t);try{this.socket.write(r,this.encoding,o=>{this.sending=!1,o?this.handleError(o,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(o){this.handleError(o,t)}})}catch(s){this.handleError(s,t)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}};Xt.SocketMessageWriter=ka});var ch=S(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var xa=Sn(),AR=xr(),qa;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:xa.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:xa.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||AR.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(qa=Cn.CancellationToken||(Cn.CancellationToken={}));var bR=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),bi=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?bR:(this._emitter||(this._emitter=new xa.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Fa=class{get token(){return this._token||(this._token=new bi),this._token}cancel(){this._token?this._token.cancel():this._token=qa.Cancelled}dispose(){this._token?this._token instanceof bi&&this._token.dispose():this._token=qa.None}};Cn.CancellationTokenSource=Fa});var uh=S(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var It;(function(e){e.None=0,e.First=1,e.Last=2})(It=An.Touch||(An.Touch={}));var Ua=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(t){return this._map.has(t)}get(t){let r=this._map.get(t);if(r)return r.value}set(t,r,n=It.None){let i=this._map.get(t);if(i)i.value=r,n!==It.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case It.None:this.addItemLast(i);break;case It.First:this.addItemFirst(i);break;case It.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}}delete(t){let r=this._map.get(t);return r?(this._map.delete(t),this.removeItem(r),this._size--,!0):!1}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._head;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.next}forEachReverse(t,r){let n=this._tail;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.previous}values(){let t=[],r=this._head;for(;r;)t.push(r.value),r=r.next;return t}keys(){let t=[],r=this._head;for(;r;)t.push(r.key),r=r.next;return t}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head)this._head=t.next;else if(t===this._tail)this._tail=t.previous;else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==It.First&&r!==It.Last)){if(r===It.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(r===It.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}}}};An.LinkedMap=Ua});var dh=S(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var IR=require("path"),wR=require("os"),LR=require("crypto"),lh=require("net"),fh=Oi(),hh=Ai();function PR(){let e=LR.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:IR.join(wR.tmpdir(),`vscode-${e}.sock`)}bn.generateRandomPipeName=PR;function DR(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=lh.createServer(a=>{o.close(),r([new fh.SocketMessageReader(a,t),new hh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}bn.createClientPipeTransport=DR;function MR(e,t="utf-8"){let r=lh.createConnection(e);return[new fh.SocketMessageReader(r,t),new hh.SocketMessageWriter(r,t)]}bn.createServerPipeTransport=MR});var gh=S(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var ph=require("net"),Eh=Oi(),mh=Ai();function kR(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=ph.createServer(a=>{o.close(),r([new Eh.SocketMessageReader(a,t),new mh.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Ii.createClientSocketTransport=kR;function xR(e,t="utf-8"){let r=ph.createConnection(e,"127.0.0.1");return[new Eh.SocketMessageReader(r,t),new mh.SocketMessageWriter(r,t)]}Ii.createServerSocketTransport=xR});var Rt=S(X=>{"use strict";function yh(e){for(var t in e)X.hasOwnProperty(t)||(X[t]=e[t])}Object.defineProperty(X,"__esModule",{value:!0});var He=xr(),ne=nh();X.RequestType=ne.RequestType;X.RequestType0=ne.RequestType0;X.RequestType1=ne.RequestType1;X.RequestType2=ne.RequestType2;X.RequestType3=ne.RequestType3;X.RequestType4=ne.RequestType4;X.RequestType5=ne.RequestType5;X.RequestType6=ne.RequestType6;X.RequestType7=ne.RequestType7;X.RequestType8=ne.RequestType8;X.RequestType9=ne.RequestType9;X.ResponseError=ne.ResponseError;X.ErrorCodes=ne.ErrorCodes;X.NotificationType=ne.NotificationType;X.NotificationType0=ne.NotificationType0;X.NotificationType1=ne.NotificationType1;X.NotificationType2=ne.NotificationType2;X.NotificationType3=ne.NotificationType3;X.NotificationType4=ne.NotificationType4;X.NotificationType5=ne.NotificationType5;X.NotificationType6=ne.NotificationType6;X.NotificationType7=ne.NotificationType7;X.NotificationType8=ne.NotificationType8;X.NotificationType9=ne.NotificationType9;var wn=Oi();X.MessageReader=wn.MessageReader;X.StreamMessageReader=wn.StreamMessageReader;X.IPCMessageReader=wn.IPCMessageReader;X.SocketMessageReader=wn.SocketMessageReader;var Ln=Ai();X.MessageWriter=Ln.MessageWriter;X.StreamMessageWriter=Ln.StreamMessageWriter;X.IPCMessageWriter=Ln.IPCMessageWriter;X.SocketMessageWriter=Ln.SocketMessageWriter;var Kt=Sn();X.Disposable=Kt.Disposable;X.Event=Kt.Event;X.Emitter=Kt.Emitter;var Ur=ch();X.CancellationTokenSource=Ur.CancellationTokenSource;X.CancellationToken=Ur.CancellationToken;var vh=uh();yh(dh());yh(gh());var In;(function(e){e.type=new ne.NotificationType("$/cancelRequest")})(In||(In={}));var Li;(function(e){e.type=new ne.NotificationType("$/progress")})(Li||(Li={}));var Ba=class{constructor(){}};X.ProgressType=Ba;X.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Me;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(Me=X.Trace||(X.Trace={}));(function(e){function t(n){if(!He.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Me=X.Trace||(X.Trace={}));var yt;(function(e){e.Text="text",e.JSON="json"})(yt=X.TraceFormat||(X.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(yt=X.TraceFormat||(X.TraceFormat={}));var Th;(function(e){e.type=new ne.NotificationType("$/setTraceNotification")})(Th=X.SetTraceNotification||(X.SetTraceNotification={}));var ja;(function(e){e.type=new ne.NotificationType("$/logTraceNotification")})(ja=X.LogTraceNotification||(X.LogTraceNotification={}));var wi;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(wi=X.ConnectionErrors||(X.ConnectionErrors={}));var Br=class e extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};X.ConnectionError=Br;var qR;(function(e){function t(r){let n=r;return n&&He.func(n.cancelUndispatched)}e.is=t})(qR=X.ConnectionStrategy||(X.ConnectionStrategy={}));var Tt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Tt||(Tt={}));function FR(e,t,r,n){let i=0,s=0,o=0,a="2.0",c,f=Object.create(null),d,m=Object.create(null),g=new Map,R,b=new vh.LinkedMap,x=Object.create(null),G=Object.create(null),B=Me.Off,ee=yt.Text,V,N=Tt.New,y=new Kt.Emitter,I=new Kt.Emitter,z=new Kt.Emitter,U=new Kt.Emitter,Q=new Kt.Emitter;function ie(h){return"req-"+h.toString()}function C(h){return h===null?"res-unknown-"+(++o).toString():"res-"+h.toString()}function w(){return"not-"+(++s).toString()}function F(h,l){ne.isRequestMessage(l)?h.set(ie(l.id),l):ne.isResponseMessage(l)?h.set(C(l.id),l):h.set(w(),l)}function W(h){}function Z(){return N===Tt.Listening}function J(){return N===Tt.Closed}function re(){return N===Tt.Disposed}function _e(){(N===Tt.New||N===Tt.Listening)&&(N=Tt.Closed,I.fire(void 0))}function Ee(h){y.fire([h,void 0,void 0])}function he(h){y.fire(h)}e.onClose(_e),e.onError(Ee),t.onClose(_e),t.onError(he);function ke(){R||b.size===0||(R=setImmediate(()=>{R=void 0,Te()}))}function Te(){if(b.size===0)return;let h=b.shift();try{ne.isRequestMessage(h)?xe(h):ne.isNotificationMessage(h)?ut(h):ne.isResponseMessage(h)?Ke(h):Qe(h)}finally{ke()}}let Ue=h=>{try{if(ne.isNotificationMessage(h)&&h.method===In.type.method){let l=ie(h.params.id),_=b.get(l);if(ne.isRequestMessage(_)){let D=n&&n.cancelUndispatched?n.cancelUndispatched(_,W):void 0;if(D&&(D.error!==void 0||D.result!==void 0)){b.delete(l),D.id=_.id,Ot(D,h.method,Date.now()),t.write(D);return}}}F(b,h)}finally{ke()}};function xe(h){if(re())return;function l(O,H,Y){let te={jsonrpc:a,id:h.id};O instanceof ne.ResponseError?te.error=O.toJson():te.result=O===void 0?null:O,Ot(te,H,Y),t.write(te)}function _(O,H,Y){let te={jsonrpc:a,id:h.id,error:O.toJson()};Ot(te,H,Y),t.write(te)}function D(O,H,Y){O===void 0&&(O=null);let te={jsonrpc:a,id:h.id,result:O};Ot(te,H,Y),t.write(te)}Nr(h);let u=f[h.method],E,v;u&&(E=u.type,v=u.handler);let T=Date.now();if(v||c){let O=new Ur.CancellationTokenSource,H=String(h.id);G[H]=O;try{let Y;h.params===void 0||E!==void 0&&E.numberOfParams===0?Y=v?v(O.token):c(h.method,O.token):He.array(h.params)&&(E===void 0||E.numberOfParams>1)?Y=v?v(...h.params,O.token):c(h.method,...h.params,O.token):Y=v?v(h.params,O.token):c(h.method,h.params,O.token);let te=Y;Y?te.then?te.then(Oe=>{delete G[H],l(Oe,h.method,T)},Oe=>{delete G[H],Oe instanceof ne.ResponseError?_(Oe,h.method,T):Oe&&He.string(Oe.message)?_(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed with message: ${Oe.message}`),h.method,T):_(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed unexpectedly without providing any details.`),h.method,T)}):(delete G[H],l(Y,h.method,T)):(delete G[H],D(Y,h.method,T))}catch(Y){delete G[H],Y instanceof ne.ResponseError?l(Y,h.method,T):Y&&He.string(Y.message)?_(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed with message: ${Y.message}`),h.method,T):_(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${h.method} failed unexpectedly without providing any details.`),h.method,T)}}else _(new ne.ResponseError(ne.ErrorCodes.MethodNotFound,`Unhandled method ${h.method}`),h.method,T)}function Ke(h){if(!re())if(h.id===null)h.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(h.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let l=String(h.id),_=x[l];if(sn(h,_),_){delete x[l];try{if(h.error){let D=h.error;_.reject(new ne.ResponseError(D.code,D.message,D.data))}else if(h.result!==void 0)_.resolve(h.result);else throw new Error("Should never happen.")}catch(D){D.message?r.error(`Response handler '${_.method}' failed with message: ${D.message}`):r.error(`Response handler '${_.method}' failed unexpectedly.`)}}}}function ut(h){if(re())return;let l,_;if(h.method===In.type.method)_=D=>{let u=D.id,E=G[String(u)];E&&E.cancel()};else{let D=m[h.method];D&&(_=D.handler,l=D.type)}if(_||d)try{nn(h),h.params===void 0||l!==void 0&&l.numberOfParams===0?_?_():d(h.method):He.array(h.params)&&(l===void 0||l.numberOfParams>1)?_?_(...h.params):d(h.method,...h.params):_?_(h.params):d(h.method,h.params)}catch(D){D.message?r.error(`Notification handler '${h.method}' failed with message: ${D.message}`):r.error(`Notification handler '${h.method}' failed unexpectedly.`)}else z.fire(h)}function Qe(h){if(!h){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(h,null,4)}`);let l=h;if(He.string(l.id)||He.number(l.id)){let _=String(l.id),D=x[_];D&&D.reject(new Error("The received response has neither a result nor an error property."))}}function Je(h){if(!(B===Me.Off||!V))if(ee===yt.Text){let l;B===Me.Verbose&&h.params&&(l=`Params: ${JSON.stringify(h.params,null,4)}

`),V.log(`Sending request '${h.method} - (${h.id})'.`,l)}else Ct("send-request",h)}function Dt(h){if(!(B===Me.Off||!V))if(ee===yt.Text){let l;B===Me.Verbose&&(h.params?l=`Params: ${JSON.stringify(h.params,null,4)}

`:l=`No parameters provided.

`),V.log(`Sending notification '${h.method}'.`,l)}else Ct("send-notification",h)}function Ot(h,l,_){if(!(B===Me.Off||!V))if(ee===yt.Text){let D;B===Me.Verbose&&(h.error&&h.error.data?D=`Error data: ${JSON.stringify(h.error.data,null,4)}

`:h.result?D=`Result: ${JSON.stringify(h.result,null,4)}

`:h.error===void 0&&(D=`No result returned.

`)),V.log(`Sending response '${l} - (${h.id})'. Processing request took ${Date.now()-_}ms`,D)}else Ct("send-response",h)}function Nr(h){if(!(B===Me.Off||!V))if(ee===yt.Text){let l;B===Me.Verbose&&h.params&&(l=`Params: ${JSON.stringify(h.params,null,4)}

`),V.log(`Received request '${h.method} - (${h.id})'.`,l)}else Ct("receive-request",h)}function nn(h){if(!(B===Me.Off||!V||h.method===ja.type.method))if(ee===yt.Text){let l;B===Me.Verbose&&(h.params?l=`Params: ${JSON.stringify(h.params,null,4)}

`:l=`No parameters provided.

`),V.log(`Received notification '${h.method}'.`,l)}else Ct("receive-notification",h)}function sn(h,l){if(!(B===Me.Off||!V))if(ee===yt.Text){let _;if(B===Me.Verbose&&(h.error&&h.error.data?_=`Error data: ${JSON.stringify(h.error.data,null,4)}

`:h.result?_=`Result: ${JSON.stringify(h.result,null,4)}

`:h.error===void 0&&(_=`No result returned.

`)),l){let D=h.error?` Request failed: ${h.error.message} (${h.error.code}).`:"";V.log(`Received response '${l.method} - (${h.id})' in ${Date.now()-l.timerStart}ms.${D}`,_)}else V.log(`Received response ${h.id} without active response promise.`,_)}else Ct("receive-response",h)}function Ct(h,l){if(!V||B===Me.Off)return;let _={isLSPMessage:!0,type:h,message:l,timestamp:Date.now()};V.log(_)}function At(){if(J())throw new Br(wi.Closed,"Connection is closed.");if(re())throw new Br(wi.Disposed,"Connection is disposed.")}function on(){if(Z())throw new Br(wi.AlreadyListening,"Connection is already listening")}function M(){if(!Z())throw new Error("Call listen() first.")}function p(h){return h===void 0?null:h}function A(h,l){let _,D=h.numberOfParams;switch(D){case 0:_=null;break;case 1:_=p(l[0]);break;default:_=[];for(let u=0;u<l.length&&u<D;u++)_.push(p(l[u]));if(l.length<D)for(let u=l.length;u<D;u++)_.push(null);break}return _}let P={sendNotification:(h,...l)=>{At();let _,D;if(He.string(h))switch(_=h,l.length){case 0:D=null;break;case 1:D=l[0];break;default:D=l;break}else _=h.method,D=A(h,l);let u={jsonrpc:a,method:_,params:D};Dt(u),t.write(u)},onNotification:(h,l)=>{At(),He.func(h)?d=h:l&&(He.string(h)?m[h]={type:void 0,handler:l}:m[h.method]={type:h,handler:l})},onProgress:(h,l,_)=>{if(g.has(l))throw new Error(`Progress handler for token ${l} already registered`);return g.set(l,_),{dispose:()=>{g.delete(l)}}},sendProgress:(h,l,_)=>{P.sendNotification(Li.type,{token:l,value:_})},onUnhandledProgress:U.event,sendRequest:(h,...l)=>{At(),M();let _,D,u;if(He.string(h))switch(_=h,l.length){case 0:D=null;break;case 1:Ur.CancellationToken.is(l[0])?(D=null,u=l[0]):D=p(l[0]);break;default:let T=l.length-1;Ur.CancellationToken.is(l[T])?(u=l[T],l.length===2?D=p(l[0]):D=l.slice(0,T).map(O=>p(O))):D=l.map(O=>p(O));break}else{_=h.method,D=A(h,l);let T=h.numberOfParams;u=Ur.CancellationToken.is(l[T])?l[T]:void 0}let E=i++,v=new Promise((T,O)=>{let H={jsonrpc:a,id:E,method:_,params:D},Y={method:_,timerStart:Date.now(),resolve:T,reject:O};Je(H);try{t.write(H)}catch(te){Y.reject(new ne.ResponseError(ne.ErrorCodes.MessageWriteError,te.message?te.message:"Unknown reason")),Y=null}Y&&(x[String(E)]=Y)});return u&&u.onCancellationRequested(()=>{P.sendNotification(In.type,{id:E})}),v},onRequest:(h,l)=>{At(),He.func(h)?c=h:l&&(He.string(h)?f[h]={type:void 0,handler:l}:f[h.method]={type:h,handler:l})},trace:(h,l,_)=>{let D=!1,u=yt.Text;_!==void 0&&(He.boolean(_)?D=_:(D=_.sendNotification||!1,u=_.traceFormat||yt.Text)),B=h,ee=u,B===Me.Off?V=void 0:V=l,D&&!J()&&!re()&&P.sendNotification(Th.type,{value:Me.toString(h)})},onError:y.event,onClose:I.event,onUnhandledNotification:z.event,onDispose:Q.event,dispose:()=>{if(re())return;N=Tt.Disposed,Q.fire(void 0);let h=new Error("Connection got disposed.");Object.keys(x).forEach(l=>{x[l].reject(h)}),x=Object.create(null),G=Object.create(null),b=new vh.LinkedMap,He.func(t.dispose)&&t.dispose(),He.func(e.dispose)&&e.dispose()},listen:()=>{At(),on(),N=Tt.Listening,e.listen(Ue)},inspect:()=>{console.log("inspect")}};return P.onNotification(ja.type,h=>{B===Me.Off||!V||V.log(h.message,B===Me.Verbose?h.verbose:void 0)}),P.onNotification(Li.type,h=>{let l=g.get(h.token);l?l(h.value):U.fire(h)}),P}function UR(e){return e.listen!==void 0&&e.read===void 0}function BR(e){return e.write!==void 0&&e.end===void 0}function jR(e,t,r,n){r||(r=X.NullLogger);let i=UR(e)?e:new wn.StreamMessageReader(e),s=BR(t)?t:new Ln.StreamMessageWriter(t);return FR(i,s,r,n)}X.createMessageConnection=jR});var _h=S((Rh,Pi)=>{(function(e){if(typeof Pi=="object"&&typeof Pi.exports=="object"){var t=e(require,Rh);t!==void 0&&(Pi.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;(function(p){function A(h,l){return{line:h,character:l}}p.create=A;function P(h){var l=h;return M.objectLiteral(l)&&M.number(l.line)&&M.number(l.character)}p.is=P})(r=t.Position||(t.Position={}));var n;(function(p){function A(h,l,_,D){if(M.number(h)&&M.number(l)&&M.number(_)&&M.number(D))return{start:r.create(h,l),end:r.create(_,D)};if(r.is(h)&&r.is(l))return{start:h,end:l};throw new Error("Range#create called with invalid arguments["+h+", "+l+", "+_+", "+D+"]")}p.create=A;function P(h){var l=h;return M.objectLiteral(l)&&r.is(l.start)&&r.is(l.end)}p.is=P})(n=t.Range||(t.Range={}));var i;(function(p){function A(h,l){return{uri:h,range:l}}p.create=A;function P(h){var l=h;return M.defined(l)&&n.is(l.range)&&(M.string(l.uri)||M.undefined(l.uri))}p.is=P})(i=t.Location||(t.Location={}));var s;(function(p){function A(h,l,_,D){return{targetUri:h,targetRange:l,targetSelectionRange:_,originSelectionRange:D}}p.create=A;function P(h){var l=h;return M.defined(l)&&n.is(l.targetRange)&&M.string(l.targetUri)&&(n.is(l.targetSelectionRange)||M.undefined(l.targetSelectionRange))&&(n.is(l.originSelectionRange)||M.undefined(l.originSelectionRange))}p.is=P})(s=t.LocationLink||(t.LocationLink={}));var o;(function(p){function A(h,l,_,D){return{red:h,green:l,blue:_,alpha:D}}p.create=A;function P(h){var l=h;return M.number(l.red)&&M.number(l.green)&&M.number(l.blue)&&M.number(l.alpha)}p.is=P})(o=t.Color||(t.Color={}));var a;(function(p){function A(h,l){return{range:h,color:l}}p.create=A;function P(h){var l=h;return n.is(l.range)&&o.is(l.color)}p.is=P})(a=t.ColorInformation||(t.ColorInformation={}));var c;(function(p){function A(h,l,_){return{label:h,textEdit:l,additionalTextEdits:_}}p.create=A;function P(h){var l=h;return M.string(l.label)&&(M.undefined(l.textEdit)||G.is(l))&&(M.undefined(l.additionalTextEdits)||M.typedArray(l.additionalTextEdits,G.is))}p.is=P})(c=t.ColorPresentation||(t.ColorPresentation={}));var f;(function(p){p.Comment="comment",p.Imports="imports",p.Region="region"})(f=t.FoldingRangeKind||(t.FoldingRangeKind={}));var d;(function(p){function A(h,l,_,D,u){var E={startLine:h,endLine:l};return M.defined(_)&&(E.startCharacter=_),M.defined(D)&&(E.endCharacter=D),M.defined(u)&&(E.kind=u),E}p.create=A;function P(h){var l=h;return M.number(l.startLine)&&M.number(l.startLine)&&(M.undefined(l.startCharacter)||M.number(l.startCharacter))&&(M.undefined(l.endCharacter)||M.number(l.endCharacter))&&(M.undefined(l.kind)||M.string(l.kind))}p.is=P})(d=t.FoldingRange||(t.FoldingRange={}));var m;(function(p){function A(h,l){return{location:h,message:l}}p.create=A;function P(h){var l=h;return M.defined(l)&&i.is(l.location)&&M.string(l.message)}p.is=P})(m=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var g;(function(p){p.Error=1,p.Warning=2,p.Information=3,p.Hint=4})(g=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var R;(function(p){p.Unnecessary=1,p.Deprecated=2})(R=t.DiagnosticTag||(t.DiagnosticTag={}));var b;(function(p){function A(h,l,_,D,u,E){var v={range:h,message:l};return M.defined(_)&&(v.severity=_),M.defined(D)&&(v.code=D),M.defined(u)&&(v.source=u),M.defined(E)&&(v.relatedInformation=E),v}p.create=A;function P(h){var l=h;return M.defined(l)&&n.is(l.range)&&M.string(l.message)&&(M.number(l.severity)||M.undefined(l.severity))&&(M.number(l.code)||M.string(l.code)||M.undefined(l.code))&&(M.string(l.source)||M.undefined(l.source))&&(M.undefined(l.relatedInformation)||M.typedArray(l.relatedInformation,m.is))}p.is=P})(b=t.Diagnostic||(t.Diagnostic={}));var x;(function(p){function A(h,l){for(var _=[],D=2;D<arguments.length;D++)_[D-2]=arguments[D];var u={title:h,command:l};return M.defined(_)&&_.length>0&&(u.arguments=_),u}p.create=A;function P(h){var l=h;return M.defined(l)&&M.string(l.title)&&M.string(l.command)}p.is=P})(x=t.Command||(t.Command={}));var G;(function(p){function A(_,D){return{range:_,newText:D}}p.replace=A;function P(_,D){return{range:{start:_,end:_},newText:D}}p.insert=P;function h(_){return{range:_,newText:""}}p.del=h;function l(_){var D=_;return M.objectLiteral(D)&&M.string(D.newText)&&n.is(D.range)}p.is=l})(G=t.TextEdit||(t.TextEdit={}));var B;(function(p){function A(h,l){return{textDocument:h,edits:l}}p.create=A;function P(h){var l=h;return M.defined(l)&&Q.is(l.textDocument)&&Array.isArray(l.edits)}p.is=P})(B=t.TextDocumentEdit||(t.TextDocumentEdit={}));var ee;(function(p){function A(h,l){var _={kind:"create",uri:h};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(_.options=l),_}p.create=A;function P(h){var l=h;return l&&l.kind==="create"&&M.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||M.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||M.boolean(l.options.ignoreIfExists)))}p.is=P})(ee=t.CreateFile||(t.CreateFile={}));var V;(function(p){function A(h,l,_){var D={kind:"rename",oldUri:h,newUri:l};return _!==void 0&&(_.overwrite!==void 0||_.ignoreIfExists!==void 0)&&(D.options=_),D}p.create=A;function P(h){var l=h;return l&&l.kind==="rename"&&M.string(l.oldUri)&&M.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||M.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||M.boolean(l.options.ignoreIfExists)))}p.is=P})(V=t.RenameFile||(t.RenameFile={}));var N;(function(p){function A(h,l){var _={kind:"delete",uri:h};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(_.options=l),_}p.create=A;function P(h){var l=h;return l&&l.kind==="delete"&&M.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||M.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||M.boolean(l.options.ignoreIfNotExists)))}p.is=P})(N=t.DeleteFile||(t.DeleteFile={}));var y;(function(p){function A(P){var h=P;return h&&(h.changes!==void 0||h.documentChanges!==void 0)&&(h.documentChanges===void 0||h.documentChanges.every(function(l){return M.string(l.kind)?ee.is(l)||V.is(l)||N.is(l):B.is(l)}))}p.is=A})(y=t.WorkspaceEdit||(t.WorkspaceEdit={}));var I=function(){function p(A){this.edits=A}return p.prototype.insert=function(A,P){this.edits.push(G.insert(A,P))},p.prototype.replace=function(A,P){this.edits.push(G.replace(A,P))},p.prototype.delete=function(A){this.edits.push(G.del(A))},p.prototype.add=function(A){this.edits.push(A)},p.prototype.all=function(){return this.edits},p.prototype.clear=function(){this.edits.splice(0,this.edits.length)},p}(),z=function(){function p(A){var P=this;this._textEditChanges=Object.create(null),A&&(this._workspaceEdit=A,A.documentChanges?A.documentChanges.forEach(function(h){if(B.is(h)){var l=new I(h.edits);P._textEditChanges[h.textDocument.uri]=l}}):A.changes&&Object.keys(A.changes).forEach(function(h){var l=new I(A.changes[h]);P._textEditChanges[h]=l}))}return Object.defineProperty(p.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),p.prototype.getTextEditChange=function(A){if(Q.is(A)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var P=A,h=this._textEditChanges[P.uri];if(!h){var l=[],_={textDocument:P,edits:l};this._workspaceEdit.documentChanges.push(_),h=new I(l),this._textEditChanges[P.uri]=h}return h}else{if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var h=this._textEditChanges[A];if(!h){var l=[];this._workspaceEdit.changes[A]=l,h=new I(l),this._textEditChanges[A]=h}return h}},p.prototype.createFile=function(A,P){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(ee.create(A,P))},p.prototype.renameFile=function(A,P,h){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(V.create(A,P,h))},p.prototype.deleteFile=function(A,P){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(N.create(A,P))},p.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},p}();t.WorkspaceChange=z;var U;(function(p){function A(h){return{uri:h}}p.create=A;function P(h){var l=h;return M.defined(l)&&M.string(l.uri)}p.is=P})(U=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var Q;(function(p){function A(h,l){return{uri:h,version:l}}p.create=A;function P(h){var l=h;return M.defined(l)&&M.string(l.uri)&&(l.version===null||M.number(l.version))}p.is=P})(Q=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var ie;(function(p){function A(h,l,_,D){return{uri:h,languageId:l,version:_,text:D}}p.create=A;function P(h){var l=h;return M.defined(l)&&M.string(l.uri)&&M.string(l.languageId)&&M.number(l.version)&&M.string(l.text)}p.is=P})(ie=t.TextDocumentItem||(t.TextDocumentItem={}));var C;(function(p){p.PlainText="plaintext",p.Markdown="markdown"})(C=t.MarkupKind||(t.MarkupKind={})),function(p){function A(P){var h=P;return h===p.PlainText||h===p.Markdown}p.is=A}(C=t.MarkupKind||(t.MarkupKind={}));var w;(function(p){function A(P){var h=P;return M.objectLiteral(P)&&C.is(h.kind)&&M.string(h.value)}p.is=A})(w=t.MarkupContent||(t.MarkupContent={}));var F;(function(p){p.Text=1,p.Method=2,p.Function=3,p.Constructor=4,p.Field=5,p.Variable=6,p.Class=7,p.Interface=8,p.Module=9,p.Property=10,p.Unit=11,p.Value=12,p.Enum=13,p.Keyword=14,p.Snippet=15,p.Color=16,p.File=17,p.Reference=18,p.Folder=19,p.EnumMember=20,p.Constant=21,p.Struct=22,p.Event=23,p.Operator=24,p.TypeParameter=25})(F=t.CompletionItemKind||(t.CompletionItemKind={}));var W;(function(p){p.PlainText=1,p.Snippet=2})(W=t.InsertTextFormat||(t.InsertTextFormat={}));var Z;(function(p){p.Deprecated=1})(Z=t.CompletionItemTag||(t.CompletionItemTag={}));var J;(function(p){function A(P){return{label:P}}p.create=A})(J=t.CompletionItem||(t.CompletionItem={}));var re;(function(p){function A(P,h){return{items:P||[],isIncomplete:!!h}}p.create=A})(re=t.CompletionList||(t.CompletionList={}));var _e;(function(p){function A(h){return h.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}p.fromPlainText=A;function P(h){var l=h;return M.string(l)||M.objectLiteral(l)&&M.string(l.language)&&M.string(l.value)}p.is=P})(_e=t.MarkedString||(t.MarkedString={}));var Ee;(function(p){function A(P){var h=P;return!!h&&M.objectLiteral(h)&&(w.is(h.contents)||_e.is(h.contents)||M.typedArray(h.contents,_e.is))&&(P.range===void 0||n.is(P.range))}p.is=A})(Ee=t.Hover||(t.Hover={}));var he;(function(p){function A(P,h){return h?{label:P,documentation:h}:{label:P}}p.create=A})(he=t.ParameterInformation||(t.ParameterInformation={}));var ke;(function(p){function A(P,h){for(var l=[],_=2;_<arguments.length;_++)l[_-2]=arguments[_];var D={label:P};return M.defined(h)&&(D.documentation=h),M.defined(l)?D.parameters=l:D.parameters=[],D}p.create=A})(ke=t.SignatureInformation||(t.SignatureInformation={}));var Te;(function(p){p.Text=1,p.Read=2,p.Write=3})(Te=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Ue;(function(p){function A(P,h){var l={range:P};return M.number(h)&&(l.kind=h),l}p.create=A})(Ue=t.DocumentHighlight||(t.DocumentHighlight={}));var xe;(function(p){p.File=1,p.Module=2,p.Namespace=3,p.Package=4,p.Class=5,p.Method=6,p.Property=7,p.Field=8,p.Constructor=9,p.Enum=10,p.Interface=11,p.Function=12,p.Variable=13,p.Constant=14,p.String=15,p.Number=16,p.Boolean=17,p.Array=18,p.Object=19,p.Key=20,p.Null=21,p.EnumMember=22,p.Struct=23,p.Event=24,p.Operator=25,p.TypeParameter=26})(xe=t.SymbolKind||(t.SymbolKind={}));var Ke;(function(p){p.Deprecated=1})(Ke=t.SymbolTag||(t.SymbolTag={}));var ut;(function(p){function A(P,h,l,_,D){var u={name:P,kind:h,location:{uri:_,range:l}};return D&&(u.containerName=D),u}p.create=A})(ut=t.SymbolInformation||(t.SymbolInformation={}));var Qe;(function(p){function A(h,l,_,D,u,E){var v={name:h,detail:l,kind:_,range:D,selectionRange:u};return E!==void 0&&(v.children=E),v}p.create=A;function P(h){var l=h;return l&&M.string(l.name)&&M.number(l.kind)&&n.is(l.range)&&n.is(l.selectionRange)&&(l.detail===void 0||M.string(l.detail))&&(l.deprecated===void 0||M.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))}p.is=P})(Qe=t.DocumentSymbol||(t.DocumentSymbol={}));var Je;(function(p){p.Empty="",p.QuickFix="quickfix",p.Refactor="refactor",p.RefactorExtract="refactor.extract",p.RefactorInline="refactor.inline",p.RefactorRewrite="refactor.rewrite",p.Source="source",p.SourceOrganizeImports="source.organizeImports",p.SourceFixAll="source.fixAll"})(Je=t.CodeActionKind||(t.CodeActionKind={}));var Dt;(function(p){function A(h,l){var _={diagnostics:h};return l!=null&&(_.only=l),_}p.create=A;function P(h){var l=h;return M.defined(l)&&M.typedArray(l.diagnostics,b.is)&&(l.only===void 0||M.typedArray(l.only,M.string))}p.is=P})(Dt=t.CodeActionContext||(t.CodeActionContext={}));var Ot;(function(p){function A(h,l,_){var D={title:h};return x.is(l)?D.command=l:D.edit=l,_!==void 0&&(D.kind=_),D}p.create=A;function P(h){var l=h;return l&&M.string(l.title)&&(l.diagnostics===void 0||M.typedArray(l.diagnostics,b.is))&&(l.kind===void 0||M.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||x.is(l.command))&&(l.isPreferred===void 0||M.boolean(l.isPreferred))&&(l.edit===void 0||y.is(l.edit))}p.is=P})(Ot=t.CodeAction||(t.CodeAction={}));var Nr;(function(p){function A(h,l){var _={range:h};return M.defined(l)&&(_.data=l),_}p.create=A;function P(h){var l=h;return M.defined(l)&&n.is(l.range)&&(M.undefined(l.command)||x.is(l.command))}p.is=P})(Nr=t.CodeLens||(t.CodeLens={}));var nn;(function(p){function A(h,l){return{tabSize:h,insertSpaces:l}}p.create=A;function P(h){var l=h;return M.defined(l)&&M.number(l.tabSize)&&M.boolean(l.insertSpaces)}p.is=P})(nn=t.FormattingOptions||(t.FormattingOptions={}));var sn;(function(p){function A(h,l,_){return{range:h,target:l,data:_}}p.create=A;function P(h){var l=h;return M.defined(l)&&n.is(l.range)&&(M.undefined(l.target)||M.string(l.target))}p.is=P})(sn=t.DocumentLink||(t.DocumentLink={}));var Ct;(function(p){function A(h,l){return{range:h,parent:l}}p.create=A;function P(h){var l=h;return l!==void 0&&n.is(l.range)&&(l.parent===void 0||p.is(l.parent))}p.is=P})(Ct=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var At;(function(p){function A(_,D,u,E){return new on(_,D,u,E)}p.create=A;function P(_){var D=_;return!!(M.defined(D)&&M.string(D.uri)&&(M.undefined(D.languageId)||M.string(D.languageId))&&M.number(D.lineCount)&&M.func(D.getText)&&M.func(D.positionAt)&&M.func(D.offsetAt))}p.is=P;function h(_,D){for(var u=_.getText(),E=l(D,function(te,Oe){var bt=te.range.start.line-Oe.range.start.line;return bt===0?te.range.start.character-Oe.range.start.character:bt}),v=u.length,T=E.length-1;T>=0;T--){var O=E[T],H=_.offsetAt(O.range.start),Y=_.offsetAt(O.range.end);if(Y<=v)u=u.substring(0,H)+O.newText+u.substring(Y,u.length);else throw new Error("Overlapping edit");v=H}return u}p.applyEdits=h;function l(_,D){if(_.length<=1)return _;var u=_.length/2|0,E=_.slice(0,u),v=_.slice(u);l(E,D),l(v,D);for(var T=0,O=0,H=0;T<E.length&&O<v.length;){var Y=D(E[T],v[O]);Y<=0?_[H++]=E[T++]:_[H++]=v[O++]}for(;T<E.length;)_[H++]=E[T++];for(;O<v.length;)_[H++]=v[O++];return _}})(At=t.TextDocument||(t.TextDocument={}));var on=function(){function p(A,P,h,l){this._uri=A,this._languageId=P,this._version=h,this._content=l,this._lineOffsets=void 0}return Object.defineProperty(p.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),p.prototype.getText=function(A){if(A){var P=this.offsetAt(A.start),h=this.offsetAt(A.end);return this._content.substring(P,h)}return this._content},p.prototype.update=function(A,P){this._content=A.text,this._version=P,this._lineOffsets=void 0},p.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var A=[],P=this._content,h=!0,l=0;l<P.length;l++){h&&(A.push(l),h=!1);var _=P.charAt(l);h=_==="\r"||_===`
`,_==="\r"&&l+1<P.length&&P.charAt(l+1)===`
`&&l++}h&&P.length>0&&A.push(P.length),this._lineOffsets=A}return this._lineOffsets},p.prototype.positionAt=function(A){A=Math.max(Math.min(A,this._content.length),0);var P=this.getLineOffsets(),h=0,l=P.length;if(l===0)return r.create(0,A);for(;h<l;){var _=Math.floor((h+l)/2);P[_]>A?l=_:h=_+1}var D=h-1;return r.create(D,A-P[D])},p.prototype.offsetAt=function(A){var P=this.getLineOffsets();if(A.line>=P.length)return this._content.length;if(A.line<0)return 0;var h=P[A.line],l=A.line+1<P.length?P[A.line+1]:this._content.length;return Math.max(Math.min(h+A.character,l),h)},Object.defineProperty(p.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),p}(),M;(function(p){var A=Object.prototype.toString;function P(T){return typeof T!="undefined"}p.defined=P;function h(T){return typeof T=="undefined"}p.undefined=h;function l(T){return T===!0||T===!1}p.boolean=l;function _(T){return A.call(T)==="[object String]"}p.string=_;function D(T){return A.call(T)==="[object Number]"}p.number=D;function u(T){return A.call(T)==="[object Function]"}p.func=u;function E(T){return T!==null&&typeof T=="object"}p.objectLiteral=E;function v(T,O){return Array.isArray(T)&&T.every(O)}p.typedArray=v})(M||(M={}))})});var Oh=S(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});function WR(e){return e===!0||e===!1}_t.boolean=WR;function Sh(e){return typeof e=="string"||e instanceof String}_t.string=Sh;function HR(e){return typeof e=="number"||e instanceof Number}_t.number=HR;function GR(e){return e instanceof Error}_t.error=GR;function $R(e){return typeof e=="function"}_t.func=$R;function Nh(e){return Array.isArray(e)}_t.array=Nh;function VR(e){return Nh(e)&&e.every(t=>Sh(t))}_t.stringArray=VR;function QR(e,t){return Array.isArray(e)&&e.every(t)}_t.typedArray=QR;function YR(e){return e!==null&&typeof e=="object"}_t.objectLiteral=YR});var at=S(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});var Di=Rt(),Wa=class extends Di.RequestType0{constructor(t){super(t)}};jr.ProtocolRequestType0=Wa;var Ha=class extends Di.RequestType{constructor(t){super(t)}};jr.ProtocolRequestType=Ha;var Ga=class extends Di.NotificationType{constructor(t){super(t)}};jr.ProtocolNotificationType=Ga;var $a=class extends Di.NotificationType0{constructor(t){super(t)}};jr.ProtocolNotificationType0=$a});var Ch=S(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var zR=Rt(),XR=at(),KR;(function(e){e.method="textDocument/implementation",e.type=new XR.ProtocolRequestType(e.method),e.resultType=new zR.ProgressType})(KR=Mi.ImplementationRequest||(Mi.ImplementationRequest={}))});var Ah=S(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});var JR=Rt(),ZR=at(),e0;(function(e){e.method="textDocument/typeDefinition",e.type=new ZR.ProtocolRequestType(e.method),e.resultType=new JR.ProgressType})(e0=ki.TypeDefinitionRequest||(ki.TypeDefinitionRequest={}))});var Ih=S(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});var bh=at(),t0;(function(e){e.type=new bh.ProtocolRequestType0("workspace/workspaceFolders")})(t0=Wr.WorkspaceFoldersRequest||(Wr.WorkspaceFoldersRequest={}));var r0;(function(e){e.type=new bh.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(r0=Wr.DidChangeWorkspaceFoldersNotification||(Wr.DidChangeWorkspaceFoldersNotification={}))});var wh=S(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});var n0=at(),i0;(function(e){e.type=new n0.ProtocolRequestType("workspace/configuration")})(i0=xi.ConfigurationRequest||(xi.ConfigurationRequest={}))});var Ph=S(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});var s0=Rt(),Lh=at(),o0;(function(e){e.method="textDocument/documentColor",e.type=new Lh.ProtocolRequestType(e.method),e.resultType=new s0.ProgressType})(o0=Hr.DocumentColorRequest||(Hr.DocumentColorRequest={}));var a0;(function(e){e.type=new Lh.ProtocolRequestType("textDocument/colorPresentation")})(a0=Hr.ColorPresentationRequest||(Hr.ColorPresentationRequest={}))});var Dh=S(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});var c0=Rt(),u0=at(),l0;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(l0=Gr.FoldingRangeKind||(Gr.FoldingRangeKind={}));var f0;(function(e){e.method="textDocument/foldingRange",e.type=new u0.ProtocolRequestType(e.method),e.resultType=new c0.ProgressType})(f0=Gr.FoldingRangeRequest||(Gr.FoldingRangeRequest={}))});var Mh=S(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var h0=Rt(),d0=at(),p0;(function(e){e.method="textDocument/declaration",e.type=new d0.ProtocolRequestType(e.method),e.resultType=new h0.ProgressType})(p0=qi.DeclarationRequest||(qi.DeclarationRequest={}))});var kh=S(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var E0=Rt(),m0=at(),g0;(function(e){e.method="textDocument/selectionRange",e.type=new m0.ProtocolRequestType(e.method),e.resultType=new E0.ProgressType})(g0=Fi.SelectionRangeRequest||(Fi.SelectionRangeRequest={}))});var qh=S(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var v0=Rt(),xh=at(),y0;(function(e){e.type=new v0.ProgressType})(y0=Jt.WorkDoneProgress||(Jt.WorkDoneProgress={}));var T0;(function(e){e.type=new xh.ProtocolRequestType("window/workDoneProgress/create")})(T0=Jt.WorkDoneProgressCreateRequest||(Jt.WorkDoneProgressCreateRequest={}));var R0;(function(e){e.type=new xh.ProtocolNotificationType("window/workDoneProgress/cancel")})(R0=Jt.WorkDoneProgressCancelNotification||(Jt.WorkDoneProgressCancelNotification={}))});var Wh=S(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var Zt=Oh(),Ut=Rt(),ue=at(),_0=Ch();k.ImplementationRequest=_0.ImplementationRequest;var S0=Ah();k.TypeDefinitionRequest=S0.TypeDefinitionRequest;var Fh=Ih();k.WorkspaceFoldersRequest=Fh.WorkspaceFoldersRequest;k.DidChangeWorkspaceFoldersNotification=Fh.DidChangeWorkspaceFoldersNotification;var N0=wh();k.ConfigurationRequest=N0.ConfigurationRequest;var Uh=Ph();k.DocumentColorRequest=Uh.DocumentColorRequest;k.ColorPresentationRequest=Uh.ColorPresentationRequest;var O0=Dh();k.FoldingRangeRequest=O0.FoldingRangeRequest;var C0=Mh();k.DeclarationRequest=C0.DeclarationRequest;var A0=kh();k.SelectionRangeRequest=A0.SelectionRangeRequest;var Va=qh();k.WorkDoneProgress=Va.WorkDoneProgress;k.WorkDoneProgressCreateRequest=Va.WorkDoneProgressCreateRequest;k.WorkDoneProgressCancelNotification=Va.WorkDoneProgressCancelNotification;var Bh;(function(e){function t(r){let n=r;return Zt.string(n.language)||Zt.string(n.scheme)||Zt.string(n.pattern)}e.is=t})(Bh=k.DocumentFilter||(k.DocumentFilter={}));var jh;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Zt.string(n)&&!Bh.is(n))return!1;return!0}e.is=t})(jh=k.DocumentSelector||(k.DocumentSelector={}));var b0;(function(e){e.type=new ue.ProtocolRequestType("client/registerCapability")})(b0=k.RegistrationRequest||(k.RegistrationRequest={}));var I0;(function(e){e.type=new ue.ProtocolRequestType("client/unregisterCapability")})(I0=k.UnregistrationRequest||(k.UnregistrationRequest={}));var w0;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(w0=k.ResourceOperationKind||(k.ResourceOperationKind={}));var L0;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(L0=k.FailureHandlingKind||(k.FailureHandlingKind={}));var P0;(function(e){function t(r){let n=r;return n&&Zt.string(n.id)&&n.id.length>0}e.hasId=t})(P0=k.StaticRegistrationOptions||(k.StaticRegistrationOptions={}));var D0;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||jh.is(n.documentSelector))}e.is=t})(D0=k.TextDocumentRegistrationOptions||(k.TextDocumentRegistrationOptions={}));var M0;(function(e){function t(n){let i=n;return Zt.objectLiteral(i)&&(i.workDoneProgress===void 0||Zt.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&Zt.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(M0=k.WorkDoneProgressOptions||(k.WorkDoneProgressOptions={}));var k0;(function(e){e.type=new ue.ProtocolRequestType("initialize")})(k0=k.InitializeRequest||(k.InitializeRequest={}));var x0;(function(e){e.unknownProtocolVersion=1})(x0=k.InitializeError||(k.InitializeError={}));var q0;(function(e){e.type=new ue.ProtocolNotificationType("initialized")})(q0=k.InitializedNotification||(k.InitializedNotification={}));var F0;(function(e){e.type=new ue.ProtocolRequestType0("shutdown")})(F0=k.ShutdownRequest||(k.ShutdownRequest={}));var U0;(function(e){e.type=new ue.ProtocolNotificationType0("exit")})(U0=k.ExitNotification||(k.ExitNotification={}));var B0;(function(e){e.type=new ue.ProtocolNotificationType("workspace/didChangeConfiguration")})(B0=k.DidChangeConfigurationNotification||(k.DidChangeConfigurationNotification={}));var j0;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(j0=k.MessageType||(k.MessageType={}));var W0;(function(e){e.type=new ue.ProtocolNotificationType("window/showMessage")})(W0=k.ShowMessageNotification||(k.ShowMessageNotification={}));var H0;(function(e){e.type=new ue.ProtocolRequestType("window/showMessageRequest")})(H0=k.ShowMessageRequest||(k.ShowMessageRequest={}));var G0;(function(e){e.type=new ue.ProtocolNotificationType("window/logMessage")})(G0=k.LogMessageNotification||(k.LogMessageNotification={}));var $0;(function(e){e.type=new ue.ProtocolNotificationType("telemetry/event")})($0=k.TelemetryEventNotification||(k.TelemetryEventNotification={}));var V0;(function(e){e.None=0,e.Full=1,e.Incremental=2})(V0=k.TextDocumentSyncKind||(k.TextDocumentSyncKind={}));var Q0;(function(e){e.method="textDocument/didOpen",e.type=new ue.ProtocolNotificationType(e.method)})(Q0=k.DidOpenTextDocumentNotification||(k.DidOpenTextDocumentNotification={}));var Y0;(function(e){e.method="textDocument/didChange",e.type=new ue.ProtocolNotificationType(e.method)})(Y0=k.DidChangeTextDocumentNotification||(k.DidChangeTextDocumentNotification={}));var z0;(function(e){e.method="textDocument/didClose",e.type=new ue.ProtocolNotificationType(e.method)})(z0=k.DidCloseTextDocumentNotification||(k.DidCloseTextDocumentNotification={}));var X0;(function(e){e.method="textDocument/didSave",e.type=new ue.ProtocolNotificationType(e.method)})(X0=k.DidSaveTextDocumentNotification||(k.DidSaveTextDocumentNotification={}));var K0;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(K0=k.TextDocumentSaveReason||(k.TextDocumentSaveReason={}));var J0;(function(e){e.method="textDocument/willSave",e.type=new ue.ProtocolNotificationType(e.method)})(J0=k.WillSaveTextDocumentNotification||(k.WillSaveTextDocumentNotification={}));var Z0;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new ue.ProtocolRequestType(e.method)})(Z0=k.WillSaveTextDocumentWaitUntilRequest||(k.WillSaveTextDocumentWaitUntilRequest={}));var e_;(function(e){e.type=new ue.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(e_=k.DidChangeWatchedFilesNotification||(k.DidChangeWatchedFilesNotification={}));var t_;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(t_=k.FileChangeType||(k.FileChangeType={}));var r_;(function(e){e.Create=1,e.Change=2,e.Delete=4})(r_=k.WatchKind||(k.WatchKind={}));var n_;(function(e){e.type=new ue.ProtocolNotificationType("textDocument/publishDiagnostics")})(n_=k.PublishDiagnosticsNotification||(k.PublishDiagnosticsNotification={}));var i_;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(i_=k.CompletionTriggerKind||(k.CompletionTriggerKind={}));var s_;(function(e){e.method="textDocument/completion",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(s_=k.CompletionRequest||(k.CompletionRequest={}));var o_;(function(e){e.method="completionItem/resolve",e.type=new ue.ProtocolRequestType(e.method)})(o_=k.CompletionResolveRequest||(k.CompletionResolveRequest={}));var a_;(function(e){e.method="textDocument/hover",e.type=new ue.ProtocolRequestType(e.method)})(a_=k.HoverRequest||(k.HoverRequest={}));var c_;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(c_=k.SignatureHelpTriggerKind||(k.SignatureHelpTriggerKind={}));var u_;(function(e){e.method="textDocument/signatureHelp",e.type=new ue.ProtocolRequestType(e.method)})(u_=k.SignatureHelpRequest||(k.SignatureHelpRequest={}));var l_;(function(e){e.method="textDocument/definition",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(l_=k.DefinitionRequest||(k.DefinitionRequest={}));var f_;(function(e){e.method="textDocument/references",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(f_=k.ReferencesRequest||(k.ReferencesRequest={}));var h_;(function(e){e.method="textDocument/documentHighlight",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(h_=k.DocumentHighlightRequest||(k.DocumentHighlightRequest={}));var d_;(function(e){e.method="textDocument/documentSymbol",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(d_=k.DocumentSymbolRequest||(k.DocumentSymbolRequest={}));var p_;(function(e){e.method="textDocument/codeAction",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(p_=k.CodeActionRequest||(k.CodeActionRequest={}));var E_;(function(e){e.method="workspace/symbol",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(E_=k.WorkspaceSymbolRequest||(k.WorkspaceSymbolRequest={}));var m_;(function(e){e.type=new ue.ProtocolRequestType("textDocument/codeLens"),e.resultType=new Ut.ProgressType})(m_=k.CodeLensRequest||(k.CodeLensRequest={}));var g_;(function(e){e.type=new ue.ProtocolRequestType("codeLens/resolve")})(g_=k.CodeLensResolveRequest||(k.CodeLensResolveRequest={}));var v_;(function(e){e.method="textDocument/documentLink",e.type=new ue.ProtocolRequestType(e.method),e.resultType=new Ut.ProgressType})(v_=k.DocumentLinkRequest||(k.DocumentLinkRequest={}));var y_;(function(e){e.type=new ue.ProtocolRequestType("documentLink/resolve")})(y_=k.DocumentLinkResolveRequest||(k.DocumentLinkResolveRequest={}));var T_;(function(e){e.method="textDocument/formatting",e.type=new ue.ProtocolRequestType(e.method)})(T_=k.DocumentFormattingRequest||(k.DocumentFormattingRequest={}));var R_;(function(e){e.method="textDocument/rangeFormatting",e.type=new ue.ProtocolRequestType(e.method)})(R_=k.DocumentRangeFormattingRequest||(k.DocumentRangeFormattingRequest={}));var __;(function(e){e.method="textDocument/onTypeFormatting",e.type=new ue.ProtocolRequestType(e.method)})(__=k.DocumentOnTypeFormattingRequest||(k.DocumentOnTypeFormattingRequest={}));var S_;(function(e){e.method="textDocument/rename",e.type=new ue.ProtocolRequestType(e.method)})(S_=k.RenameRequest||(k.RenameRequest={}));var N_;(function(e){e.method="textDocument/prepareRename",e.type=new ue.ProtocolRequestType(e.method)})(N_=k.PrepareRenameRequest||(k.PrepareRenameRequest={}));var O_;(function(e){e.type=new ue.ProtocolRequestType("workspace/executeCommand")})(O_=k.ExecuteCommandRequest||(k.ExecuteCommandRequest={}));var C_;(function(e){e.type=new ue.ProtocolRequestType("workspace/applyEdit")})(C_=k.ApplyWorkspaceEditRequest||(k.ApplyWorkspaceEditRequest={}))});var Hh=S(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});var Qa=at(),A_;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new Qa.ProtocolRequestType(e.method)})(A_=er.CallHierarchyPrepareRequest||(er.CallHierarchyPrepareRequest={}));var b_;(function(e){e.method="callHierarchy/incomingCalls",e.type=new Qa.ProtocolRequestType(e.method)})(b_=er.CallHierarchyIncomingCallsRequest||(er.CallHierarchyIncomingCallsRequest={}));var I_;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new Qa.ProtocolRequestType(e.method)})(I_=er.CallHierarchyOutgoingCallsRequest||(er.CallHierarchyOutgoingCallsRequest={}))});var Gh=S(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});var Ya=at(),w_;(function(e){e.comment="comment",e.keyword="keyword",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.namespace="namespace",e.type="type",e.struct="struct",e.class="class",e.interface="interface",e.enum="enum",e.typeParameter="typeParameter",e.function="function",e.member="member",e.property="property",e.macro="macro",e.variable="variable",e.parameter="parameter",e.label="label"})(w_=rt.SemanticTokenTypes||(rt.SemanticTokenTypes={}));var L_;(function(e){e.documentation="documentation",e.declaration="declaration",e.definition="definition",e.reference="reference",e.static="static",e.abstract="abstract",e.deprecated="deprecated",e.async="async",e.volatile="volatile",e.readonly="readonly"})(L_=rt.SemanticTokenModifiers||(rt.SemanticTokenModifiers={}));var P_;(function(e){function t(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(P_=rt.SemanticTokens||(rt.SemanticTokens={}));var D_;(function(e){e.method="textDocument/semanticTokens",e.type=new Ya.ProtocolRequestType(e.method)})(D_=rt.SemanticTokensRequest||(rt.SemanticTokensRequest={}));var M_;(function(e){e.method="textDocument/semanticTokens/edits",e.type=new Ya.ProtocolRequestType(e.method)})(M_=rt.SemanticTokensEditsRequest||(rt.SemanticTokensEditsRequest={}));var k_;(function(e){e.method="textDocument/semanticTokens/range",e.type=new Ya.ProtocolRequestType(e.method)})(k_=rt.SemanticTokensRangeRequest||(rt.SemanticTokensRangeRequest={}))});var tr=S(pe=>{"use strict";function $h(e){for(var t in e)pe.hasOwnProperty(t)||(pe[t]=e[t])}Object.defineProperty(pe,"__esModule",{value:!0});var Re=Rt();pe.ErrorCodes=Re.ErrorCodes;pe.ResponseError=Re.ResponseError;pe.CancellationToken=Re.CancellationToken;pe.CancellationTokenSource=Re.CancellationTokenSource;pe.Disposable=Re.Disposable;pe.Event=Re.Event;pe.Emitter=Re.Emitter;pe.Trace=Re.Trace;pe.TraceFormat=Re.TraceFormat;pe.SetTraceNotification=Re.SetTraceNotification;pe.LogTraceNotification=Re.LogTraceNotification;pe.RequestType=Re.RequestType;pe.RequestType0=Re.RequestType0;pe.NotificationType=Re.NotificationType;pe.NotificationType0=Re.NotificationType0;pe.MessageReader=Re.MessageReader;pe.MessageWriter=Re.MessageWriter;pe.ConnectionStrategy=Re.ConnectionStrategy;pe.StreamMessageReader=Re.StreamMessageReader;pe.StreamMessageWriter=Re.StreamMessageWriter;pe.IPCMessageReader=Re.IPCMessageReader;pe.IPCMessageWriter=Re.IPCMessageWriter;pe.createClientPipeTransport=Re.createClientPipeTransport;pe.createServerPipeTransport=Re.createServerPipeTransport;pe.generateRandomPipeName=Re.generateRandomPipeName;pe.createClientSocketTransport=Re.createClientSocketTransport;pe.createServerSocketTransport=Re.createServerSocketTransport;pe.ProgressType=Re.ProgressType;$h(_h());$h(Wh());var $r=Hh(),Bt=Gh(),x_;(function(e){let t;(function(a){a.method=$r.CallHierarchyPrepareRequest.method,a.type=$r.CallHierarchyPrepareRequest.type})(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={}));let r;(function(a){a.method=$r.CallHierarchyIncomingCallsRequest.method,a.type=$r.CallHierarchyIncomingCallsRequest.type})(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={}));let n;(function(a){a.method=$r.CallHierarchyOutgoingCallsRequest.method,a.type=$r.CallHierarchyOutgoingCallsRequest.type})(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=Bt.SemanticTokenTypes,e.SemanticTokenModifiers=Bt.SemanticTokenModifiers,e.SemanticTokens=Bt.SemanticTokens;let i;(function(a){a.method=Bt.SemanticTokensRequest.method,a.type=Bt.SemanticTokensRequest.type})(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={}));let s;(function(a){a.method=Bt.SemanticTokensEditsRequest.method,a.type=Bt.SemanticTokensEditsRequest.type})(s=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={}));let o;(function(a){a.method=Bt.SemanticTokensRangeRequest.method,a.type=Bt.SemanticTokensRangeRequest.type})(o=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))})(x_=pe.Proposed||(pe.Proposed={}));function q_(e,t,r,n){return Re.createMessageConnection(e,t,r,n)}pe.createProtocolConnection=q_});var za=S(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});function F_(e){return e===!0||e===!1}St.boolean=F_;function Vh(e){return typeof e=="string"||e instanceof String}St.string=Vh;function U_(e){return typeof e=="number"||e instanceof Number}St.number=U_;function B_(e){return e instanceof Error}St.error=B_;function Qh(e){return typeof e=="function"}St.func=Qh;function Yh(e){return Array.isArray(e)}St.array=Yh;function j_(e){return Yh(e)&&e.every(t=>Vh(t))}St.stringArray=j_;function W_(e,t){return Array.isArray(e)&&e.every(t)}St.typedArray=W_;function H_(e){return e&&Qh(e.then)}St.thenable=H_});var zh=S(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});var G_=tr(),$_=za();Xa.ConfigurationFeature=e=>class extends e{getConfiguration(t){return t?$_.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(G_.ConfigurationRequest.type,r).then(n=>Array.isArray(t)?n:n[0])}}});var Xh=S(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var Ui=tr();Ka.WorkspaceFoldersFeature=e=>class extends e{initialize(t){let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Ui.Emitter,this.connection.onNotification(Ui.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Ui.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Ui.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}});var Ja=S(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});var Pn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Dn=class e extends Pn{constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}};Dn._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Dn._timeHighBits=["8","9","a","b"];hr.empty=new Pn("00000000-0000-0000-0000-000000000000");function Kh(){return new Dn}hr.v4=Kh;var V_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Jh(e){return V_.test(e)}hr.isUUID=Jh;function Q_(e){if(!Jh(e))throw new Error("invalid uuid");return new Pn(e)}hr.parse=Q_;function Y_(){return Kh().asHex()}hr.generateUuid=Y_});var Zh=S(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});var rr=tr(),z_=Ja(),dr=class e{constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this),this._source=new rr.CancellationTokenSource}get token(){return this._source.token}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(rr.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(rr.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(rr.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}};dr.Instances=new Map;var Mn=class{constructor(){this._source=new rr.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}};function X_(e,t){if(t===void 0||t.workDoneToken===void 0)return new Mn;let r=t.workDoneToken;return delete t.workDoneToken,new dr(e,r)}kn.attachWorkDone=X_;kn.ProgressFeature=e=>class extends e{initialize(t){var r;((r=t==null?void 0:t.window)===null||r===void 0?void 0:r.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(rr.WorkDoneProgressCancelNotification.type,n=>{let i=dr.Instances.get(n.token);i!==void 0&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Mn:new dr(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=z_.generateUuid();return this.connection.sendRequest(rr.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new dr(this.connection,t))}else return Promise.resolve(new Mn)}};var Za;(function(e){e.type=new rr.ProgressType})(Za||(Za={}));var ec=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(Za.type,this._token,t)}};function K_(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new ec(e,r)}kn.attachPartialResult=K_});var td=S(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});var J_=require("url"),Nt=require("path"),tc=require("fs"),ic=require("child_process");function Z_(e){let t=J_.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return Nt.normalize(r.join("/"))}jt.uriToFilePath=Z_;function rc(){return process.platform==="win32"}function Bi(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let c=process.env,f=Object.create(null);Object.keys(c).forEach(d=>f[d]=c[d]),t&&tc.existsSync(t)&&(f[i]?f[i]=t+Nt.delimiter+f[i]:f[i]=t,n&&n(`NODE_PATH value is: ${f[i]}`)),f.ELECTRON_RUN_AS_NODE="1";try{let d=ic.fork("",[],{cwd:r,env:f,execArgv:["-e",s]});if(d.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}d.on("error",g=>{a(g)}),d.on("message",g=>{g.c==="r"&&(d.send({c:"e"}),g.s?o(g.r):a(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};d.send(m)}catch(d){a(d)}})}jt.resolve=Bi;function nc(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};rc()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=ic.spawnSync(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let o=s.trim();return e&&e(`'npm config get prefix' value is: ${o}`),o.length>0?rc()?Nt.join(o,"node_modules"):Nt.join(o,"lib","node_modules"):void 0}catch(s){return}finally{process.removeListener("SIGPIPE",i)}}jt.resolveGlobalNodePath=nc;function eS(e){let t="yarn",r={encoding:"utf8"};rc()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=ic.spawnSync(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let c=JSON.parse(a);if(c.type==="log")return Nt.join(c.data,"node_modules")}catch(c){}return}catch(i){return}finally{process.removeListener("SIGPIPE",n)}}jt.resolveGlobalYarnPath=eS;var ed;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!tc.existsSync(__filename.toUpperCase())||!tc.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=r;function n(i,s){return r()?Nt.normalize(s).indexOf(Nt.normalize(i))===0:Nt.normalize(s).toLowerCase().indexOf(Nt.normalize(i).toLowerCase())===0}e.isParent=n})(ed=jt.FileSystem||(jt.FileSystem={}));function tS(e,t,r,n){return r?(Nt.isAbsolute(r)||(r=Nt.join(e,r)),Bi(t,r,r,n).then(i=>ed.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>Bi(t,nc(n),e,n))):Bi(t,nc(n),e,n)}jt.resolveModulePath=tS});var rd=S(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});var sc=tr();oc.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(sc.Proposed.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))},onIncomingCalls:t=>{let r=sc.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=sc.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}}});var nd=S(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var ac=tr();ji.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:t=>{let r=ac.Proposed.SemanticTokensRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onEdits:t=>{let r=ac.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=ac.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};var cc=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let o=t,a=r;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let t=this._prevData.length,r=this._data.length,n=0;for(;n<r&&n<t&&this._prevData[n]===this._data[n];)n++;if(n<r&&n<t){let i=0;for(;i<r&&i<t&&this._prevData[t-1-i]===this._data[r-1-i];)i++;let s=this._data.slice(n,r-i);return{resultId:this.id,edits:[{start:n,deleteCount:t-i-n,data:s}]}}else return n<r?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<t?{resultId:this.id,edits:[{start:n,deleteCount:t-n}]}:{resultId:this.id,edits:[]}}else return this.build()}};ji.SemanticTokensBuilder=cc});var Ed=S(be=>{"use strict";function rS(e){for(var t in e)be.hasOwnProperty(t)||(be[t]=e[t])}Object.defineProperty(be,"__esModule",{value:!0});var $=tr();be.Event=$.Event;var nS=zh(),iS=Xh(),ae=Zh(),ze=za(),lc=Ja();rS(tr());var xn=td(),sS;(function(e){e.uriToFilePath=xn.uriToFilePath,e.resolveGlobalNodePath=xn.resolveGlobalNodePath,e.resolveGlobalYarnPath=xn.resolveGlobalYarnPath,e.resolve=xn.resolve,e.resolveModulePath=xn.resolveModulePath})(sS=be.Files||(be.Files={}));var Vr=!1,ad;function oS(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(ad=setInterval(()=>{try{process.kill(n,0)}catch(i){process.exit(Vr?0:1)}},3e3))}catch(n){}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}oS();function uc(e){if(e!==null)return e}var fc=class{constructor(t){this._documents=Object.create(null),this._configuration=t,this._onDidChangeContent=new $.Emitter,this._onDidOpen=new $.Emitter,this._onDidClose=new $.Emitter,this._onDidSave=new $.Emitter,this._onWillSave=new $.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=$.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(r=>{let n=r.textDocument,i=this._configuration.create(n.uri,n.languageId,n.version,n.text);this._documents[n.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),t.onDidChangeTextDocument(r=>{let n=r.textDocument,i=r.contentChanges;if(i.length===0)return;let s=this._documents[n.uri],{version:o}=n;if(o==null)throw new Error(`Received document change event for ${n.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[n.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),t.onDidCloseTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&(delete this._documents[r.textDocument.uri],this._onDidClose.fire(Object.freeze({document:n})))}),t.onWillSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onWillSave.fire(Object.freeze({document:n,reason:r.reason}))}),t.onWillSaveTextDocumentWaitUntil((r,n)=>{let i=this._documents[r.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:r.reason}),n):[]}),t.onDidSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onDidSave.fire(Object.freeze({document:n}))})}};be.TextDocuments=fc;var hc=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};be.ErrorMessageTracker=hc;var Wi=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send($.MessageType.Error,t)}warn(t){this.send($.MessageType.Warning,t)}info(t){this.send($.MessageType.Info,t)}log(t){this.send($.MessageType.Log,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification($.LogMessageNotification.type,{type:t,message:r})}},dc=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:$.MessageType.Error,message:t,actions:r};return this._connection.sendRequest($.ShowMessageRequest.type,n).then(uc)}showWarningMessage(t,...r){let n={type:$.MessageType.Warning,message:t,actions:r};return this._connection.sendRequest($.ShowMessageRequest.type,n).then(uc)}showInformationMessage(t,...r){let n={type:$.MessageType.Info,message:t,actions:r};return this._connection.sendRequest($.ShowMessageRequest.type,n).then(uc)}},id=ae.ProgressFeature(dc),aS;(function(e){function t(){return new Hi}e.create=t})(aS=be.BulkRegistration||(be.BulkRegistration={}));var Hi=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=ze.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=lc.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},cS;(function(e){function t(){return new qn(void 0,[])}e.create=t})(cS=be.BulkUnregistration||(be.BulkUnregistration={}));var qn=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest($.UnregistrationRequest.type,r).then(void 0,n=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=ze.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest($.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}},Gi=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof Hi?this.registerMany(t):t instanceof qn?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=ze.string(r)?r:r.method,s=lc.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this._connection),this._connection.sendRequest($.RegistrationRequest.type,o).then(a=>(t.add({id:s,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=ze.string(t)?t:t.method,i=lc.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this._connection.sendRequest($.RegistrationRequest.type,s).then(o=>$.Disposable.create(()=>{this.unregisterSingle(i,n)}),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this._connection.sendRequest($.UnregistrationRequest.type,n).then(void 0,i=>{this.connection.console.info(`Unregistering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this._connection.sendRequest($.RegistrationRequest.type,r).then(()=>new qn(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},pc=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this._connection.sendRequest($.ApplyWorkspaceEditRequest.type,n)}},sd=iS.WorkspaceFoldersFeature(nS.ConfigurationFeature(pc)),$i=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this._connection.sendNotification($.TelemetryEventNotification.type,t)}},Vi=class{constructor(){this._trace=$.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==$.Trace.Off&&this._connection.sendNotification($.LogTraceNotification.type,{message:t,verbose:this._trace===$.Trace.Verbose?r:void 0})}},Fn=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return ae.attachWorkDone(this.connection,t)}attachPartialResultProgress(t,r){return ae.attachPartialResult(this.connection,r)}};be.LanguagesImpl=Fn;function cd(e,t){return function(r){return t(e(r))}}be.combineConsoleFeatures=cd;function ud(e,t){return function(r){return t(e(r))}}be.combineTelemetryFeatures=ud;function ld(e,t){return function(r){return t(e(r))}}be.combineTracerFeatures=ld;function fd(e,t){return function(r){return t(e(r))}}be.combineClientFeatures=fd;function hd(e,t){return function(r){return t(e(r))}}be.combineWindowFeatures=hd;function dd(e,t){return function(r){return t(e(r))}}be.combineWorkspaceFeatures=dd;function pd(e,t){return function(r){return t(e(r))}}be.combineLanguagesFeatures=pd;function uS(e,t){function r(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:r(e.console,t.console,cd),tracer:r(e.tracer,t.tracer,ld),telemetry:r(e.telemetry,t.telemetry,ud),client:r(e.client,t.client,fd),window:r(e.window,t.window,hd),workspace:r(e.workspace,t.workspace,dd)}}be.combineFeatures=uS;function lS(e,t,r,n){let i,s,o,a;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),$.ConnectionStrategy.is(e)?a=e:(s=e,o=t,a=r),fS(s,o,a,i)}be.createConnection=lS;function fS(e,t,r,n){if(!e&&!t&&process.argv.length>2){let N,y,I=process.argv.slice(2);for(let z=0;z<I.length;z++){let U=I[z];if(U==="--node-ipc"){e=new $.IPCMessageReader(process),t=new $.IPCMessageWriter(process);break}else if(U==="--stdio"){e=process.stdin,t=process.stdout;break}else if(U==="--socket"){N=parseInt(I[z+1]);break}else if(U==="--pipe"){y=I[z+1];break}else{var i=U.split("=");if(i[0]==="--socket"){N=parseInt(i[1]);break}else if(i[0]==="--pipe"){y=i[1];break}}}if(N){let z=$.createServerSocketTransport(N);e=z[0],t=z[1]}else if(y){let z=$.createServerPipeTransport(y);e=z[0],t=z[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(ze.func(e.read)&&ze.func(e.on)){let N=e;N.on("end",()=>{process.exit(Vr?0:1)}),N.on("close",()=>{process.exit(Vr?0:1)})}let o=n&&n.console?new(n.console(Wi)):new Wi,a=$.createProtocolConnection(e,t,o,r);o.rawAttach(a);let c=n&&n.tracer?new(n.tracer(Vi)):new Vi,f=n&&n.telemetry?new(n.telemetry($i)):new $i,d=n&&n.client?new(n.client(Gi)):new Gi,m=n&&n.window?new(n.window(id)):new id,g=n&&n.workspace?new(n.workspace(sd)):new sd,R=n&&n.languages?new(n.languages(Fn)):new Fn,b=[o,c,f,d,m,g,R];function x(N){return N instanceof Promise?N:ze.thenable(N)?new Promise((y,I)=>{N.then(z=>y(z),z=>I(z))}):Promise.resolve(N)}let G,B,ee,V={listen:()=>a.listen(),sendRequest:(N,...y)=>a.sendRequest(ze.string(N)?N:N.method,...y),onRequest:(N,y)=>a.onRequest(N,y),sendNotification:(N,y)=>{let I=ze.string(N)?N:N.method;arguments.length===1?a.sendNotification(I):a.sendNotification(I,y)},onNotification:(N,y)=>a.onNotification(N,y),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:N=>B=N,onInitialized:N=>a.onNotification($.InitializedNotification.type,N),onShutdown:N=>G=N,onExit:N=>ee=N,get console(){return o},get telemetry(){return f},get tracer(){return c},get client(){return d},get window(){return m},get workspace(){return g},get languages(){return R},onDidChangeConfiguration:N=>a.onNotification($.DidChangeConfigurationNotification.type,N),onDidChangeWatchedFiles:N=>a.onNotification($.DidChangeWatchedFilesNotification.type,N),__textDocumentSync:void 0,onDidOpenTextDocument:N=>a.onNotification($.DidOpenTextDocumentNotification.type,N),onDidChangeTextDocument:N=>a.onNotification($.DidChangeTextDocumentNotification.type,N),onDidCloseTextDocument:N=>a.onNotification($.DidCloseTextDocumentNotification.type,N),onWillSaveTextDocument:N=>a.onNotification($.WillSaveTextDocumentNotification.type,N),onWillSaveTextDocumentWaitUntil:N=>a.onRequest($.WillSaveTextDocumentWaitUntilRequest.type,N),onDidSaveTextDocument:N=>a.onNotification($.DidSaveTextDocumentNotification.type,N),sendDiagnostics:N=>a.sendNotification($.PublishDiagnosticsNotification.type,N),onHover:N=>a.onRequest($.HoverRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onCompletion:N=>a.onRequest($.CompletionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCompletionResolve:N=>a.onRequest($.CompletionResolveRequest.type,N),onSignatureHelp:N=>a.onRequest($.SignatureHelpRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onDeclaration:N=>a.onRequest($.DeclarationRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDefinition:N=>a.onRequest($.DefinitionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onTypeDefinition:N=>a.onRequest($.TypeDefinitionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onImplementation:N=>a.onRequest($.ImplementationRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onReferences:N=>a.onRequest($.ReferencesRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDocumentHighlight:N=>a.onRequest($.DocumentHighlightRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDocumentSymbol:N=>a.onRequest($.DocumentSymbolRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onWorkspaceSymbol:N=>a.onRequest($.WorkspaceSymbolRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCodeAction:N=>a.onRequest($.CodeActionRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCodeLens:N=>a.onRequest($.CodeLensRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onCodeLensResolve:N=>a.onRequest($.CodeLensResolveRequest.type,(y,I)=>N(y,I)),onDocumentFormatting:N=>a.onRequest($.DocumentFormattingRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onDocumentRangeFormatting:N=>a.onRequest($.DocumentRangeFormattingRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onDocumentOnTypeFormatting:N=>a.onRequest($.DocumentOnTypeFormattingRequest.type,(y,I)=>N(y,I)),onRenameRequest:N=>a.onRequest($.RenameRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),onPrepareRename:N=>a.onRequest($.PrepareRenameRequest.type,(y,I)=>N(y,I)),onDocumentLinks:N=>a.onRequest($.DocumentLinkRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onDocumentLinkResolve:N=>a.onRequest($.DocumentLinkResolveRequest.type,(y,I)=>N(y,I)),onDocumentColor:N=>a.onRequest($.DocumentColorRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onColorPresentation:N=>a.onRequest($.ColorPresentationRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onFoldingRanges:N=>a.onRequest($.FoldingRangeRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onSelectionRanges:N=>a.onRequest($.SelectionRangeRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),ae.attachPartialResult(a,y))),onExecuteCommand:N=>a.onRequest($.ExecuteCommandRequest.type,(y,I)=>N(y,I,ae.attachWorkDone(a,y),void 0)),dispose:()=>a.dispose()};for(let N of b)N.attach(V);return a.onRequest($.InitializeRequest.type,N=>{let y=N.processId;ze.number(y)&&ad===void 0&&setInterval(()=>{try{process.kill(y,0)}catch(I){process.exit(Vr?0:1)}},3e3),ze.string(N.trace)&&(c.trace=$.Trace.fromString(N.trace));for(let I of b)I.initialize(N.capabilities);if(B){let I=B(N,new $.CancellationTokenSource().token,ae.attachWorkDone(a,N),void 0);return x(I).then(z=>{if(z instanceof $.ResponseError)return z;let U=z;U||(U={capabilities:{}});let Q=U.capabilities;Q||(Q={},U.capabilities=Q),Q.textDocumentSync===void 0||Q.textDocumentSync===null?Q.textDocumentSync=ze.number(V.__textDocumentSync)?V.__textDocumentSync:$.TextDocumentSyncKind.None:!ze.number(Q.textDocumentSync)&&!ze.number(Q.textDocumentSync.change)&&(Q.textDocumentSync.change=ze.number(V.__textDocumentSync)?V.__textDocumentSync:$.TextDocumentSyncKind.None);for(let ie of b)ie.fillServerCapabilities(Q);return U})}else{let I={capabilities:{textDocumentSync:$.TextDocumentSyncKind.None}};for(let z of b)z.fillServerCapabilities(I.capabilities);return I}}),a.onRequest($.ShutdownRequest.type,()=>{if(Vr=!0,G)return G(new $.CancellationTokenSource().token)}),a.onNotification($.ExitNotification.type,()=>{try{ee&&ee()}finally{Vr?process.exit(0):process.exit(1)}}),a.onNotification($.SetTraceNotification.type,N=>{c.trace=$.Trace.fromString(N.value)}),V}var hS=rd(),od=nd(),dS;(function(e){e.all={__brand:"features",languages:pd(hS.CallHierarchyFeature,od.SemanticTokensFeature)},e.SemanticTokensBuilder=od.SemanticTokensBuilder})(dS=be.ProposedFeatures||(be.ProposedFeatures={}))});var Ec=S(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.NotifyResponseError=void 0;var pS=Ed(),Qi=class extends pS.ResponseError{constructor(t,r,n){super(t,r,n)}};Un.NotifyResponseError=Qi;Un.default=Qi});var mc=S(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.MissingModuleNotification=Qr.ElectronNotSupportedNotification=void 0;Qr.ElectronNotSupportedNotification="Core/electronNotSupported";Qr.MissingModuleNotification="Core/missingModule"});var md=S(pr=>{"use strict";var ES=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});pr.ElectronNotSupportedError=void 0;var mS=ES(Ec()),gS=mc(),Yi=class extends mS.default{constructor(t="Electron is not supported. You should enable 'sqltools.useNodeRuntime' and have NodeJS installed to continue."){super(1001,t,{notification:gS.ElectronNotSupportedNotification,dontNotify:!0})}};pr.ElectronNotSupportedError=Yi;pr.default=Yi});var gd=S(Er=>{"use strict";var vS=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Er,"__esModule",{value:!0});Er.MissingModuleError=void 0;var yS=vS(Ec()),TS=mc(),zi=class extends yS.default{constructor(t,r,n=!1){super(1e3,`Missing module "${t.map((i,s)=>`${i.name}@${i.version||"latest"}${s===t.length-2?" and ":s===t.length-1?"":", "}`).join("")}". Need to ${n?"upgrade":"install"}.`,{notification:TS.MissingModuleNotification,dontNotify:!0,args:{conn:r,action:n?"upgrade":"install",deps:t}})}};Er.MissingModuleError=zi;Er.default=zi});var Td=S((nL,vc)=>{"use strict";var Le=require("path"),vd=require("os"),nr=vd.homedir(),gc=vd.tmpdir(),{env:Yr}=process,RS=e=>{let t=Le.join(nr,"Library");return{data:Le.join(t,"Application Support",e),config:Le.join(t,"Preferences",e),cache:Le.join(t,"Caches",e),log:Le.join(t,"Logs",e),temp:Le.join(gc,e)}},_S=e=>{let t=Yr.APPDATA||Le.join(nr,"AppData","Roaming"),r=Yr.LOCALAPPDATA||Le.join(nr,"AppData","Local");return{data:Le.join(r,e,"Data"),config:Le.join(t,e,"Config"),cache:Le.join(r,e,"Cache"),log:Le.join(r,e,"Log"),temp:Le.join(gc,e)}},SS=e=>{let t=Le.basename(nr);return{data:Le.join(Yr.XDG_DATA_HOME||Le.join(nr,".local","share"),e),config:Le.join(Yr.XDG_CONFIG_HOME||Le.join(nr,".config"),e),cache:Le.join(Yr.XDG_CACHE_HOME||Le.join(nr,".cache"),e),log:Le.join(Yr.XDG_STATE_HOME||Le.join(nr,".local","state"),e),temp:Le.join(gc,t,e)}},yd=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?RS(e):process.platform==="win32"?_S(e):SS(e)};vc.exports=yd;vc.exports.default=yd});var yc=S((iL,Rd)=>{Rd.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var _d=S((sL,Bn)=>{"use strict";var NS=process.platform==="win32",OS=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Tc={};function CS(e){return OS.exec(e).slice(1)}Tc.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=CS(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0]===t[1]?t[0]:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};var AS=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Rc={};function bS(e){return AS.exec(e).slice(1)}Rc.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=bS(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};NS?Bn.exports=Tc.parse:Bn.exports=Rc.parse;Bn.exports.posix=Rc.parse;Bn.exports.win32=Tc.parse});var _c=S((oL,Cd)=>{var Od=require("path"),Sd=Od.parse||_d(),Nd=function(t,r){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var i=[t],s=Sd(t);s.dir!==i[i.length-1];)i.push(s.dir),s=Sd(s.dir);return i.reduce(function(o,a){return o.concat(r.map(function(c){return Od.resolve(n,a,c)}))},[])};Cd.exports=function(t,r,n){var i=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,t,function(){return Nd(t,i)},r);var s=Nd(t,i);return r&&r.paths?s.concat(r.paths):s}});var Sc=S((aL,Ad)=>{Ad.exports=function(e,t){return t||{}}});var bd=S((cL,IS)=>{IS.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":[">= 10 && < 10.1",">= 14"],_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:">= 1",vm:!0,wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7",zlib:!0}});var Oc=S((uL,Ld)=>{var wS=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function LS(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",n=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(wS[i]||0),o=Number(n[i]||0);if(s!==o)return r==="<"?s<o:r===">="?s>=o:!1}return r===">="}function Id(e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var r=0;r<t.length;++r)if(!LS(t[r]))return!1;return!0}function PS(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){for(var t=0;t<e.length;++t)if(Id(e[t]))return!0;return!1}return Id(e)}var Nc=bd(),wd={};for(Xi in Nc)Object.prototype.hasOwnProperty.call(Nc,Xi)&&(wd[Xi]=PS(Nc[Xi]));var Xi;Ld.exports=wd});var Ki=S((lL,Pd)=>{var DS=Oc();Pd.exports=function(t){return Object.prototype.hasOwnProperty.call(DS,t)}});var Md=S((fL,Dd)=>{var mr=require("fs"),je=require("path"),MS=yc(),kS=_c(),xS=Sc(),qS=Ki(),FS=mr.realpath&&typeof mr.realpath.native=="function"?mr.realpath.native:mr.realpath,US=function(t,r){mr.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isFile()||i.isFIFO())})},BS=function(t,r){mr.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isDirectory())})},jS=function(t,r){FS(t,function(n,i){n&&n.code!=="ENOENT"?r(n):r(null,n?t:i)})},jn=function(t,r,n,i){n&&n.preserveSymlinks===!1?t(r,i):i(null,r)},WS=function(t,r,n){for(var i=kS(r,n,t),s=0;s<i.length;s++)i[s]=je.join(i[s],t);return i};Dd.exports=function(t,r,n){var i=n,s=r;if(typeof r=="function"&&(i=s,s={}),typeof t!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=xS(t,s);var a=s.isFile||US,c=s.isDirectory||BS,f=s.readFile||mr.readFile,d=s.realpath||jS,m=s.packageIterator,g=s.extensions||[".js"],R=s.basedir||je.dirname(MS()),b=s.filename||R;s.paths=s.paths||[];var x=je.resolve(R);jn(d,x,s,function(U,Q){U?i(U):B(Q)});var G;function B(U){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))G=je.resolve(U,t),(t==="."||t===".."||t.slice(-1)==="/")&&(G+="/"),/\/$/.test(t)&&G===U?y(G,s.package,ee):V(G,s.package,ee);else{if(qS(t))return i(null,t);z(t,U,function(Q,ie,C){if(Q)i(Q);else{if(ie)return jn(d,ie,s,function(F,W){F?i(F):i(null,W,C)});var w=new Error("Cannot find module '"+t+"' from '"+b+"'");w.code="MODULE_NOT_FOUND",i(w)}})}}function ee(U,Q,ie){U?i(U):Q?i(null,Q,ie):y(G,function(C,w,F){if(C)i(C);else if(w)jn(d,w,s,function(Z,J){Z?i(Z):i(null,J,F)});else{var W=new Error("Cannot find module '"+t+"' from '"+b+"'");W.code="MODULE_NOT_FOUND",i(W)}})}function V(U,Q,ie){var C=Q,w=ie;typeof C=="function"&&(w=C,C=void 0);var F=[""].concat(g);W(F,U,C);function W(Z,J,re){if(Z.length===0)return w(null,void 0,re);var _e=J+Z[0],Ee=re;Ee?he(null,Ee):N(je.dirname(_e),he);function he(Te,Ue,xe){if(Ee=Ue,Te)return w(Te);if(xe&&Ee&&s.pathFilter){var Ke=je.relative(xe,_e),ut=Ke.slice(0,Ke.length-Z[0].length),Qe=s.pathFilter(Ee,J,ut);if(Qe)return W([""].concat(g.slice()),je.resolve(xe,Qe),Ee)}a(_e,ke)}function ke(Te,Ue){if(Te)return w(Te);if(Ue)return w(null,_e,Ee);W(Z.slice(1),J,Ee)}}}function N(U,Q){if(U===""||U==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(U)||/[/\\]node_modules[/\\]*$/.test(U))return Q(null);jn(d,U,s,function(ie,C){if(ie)return N(je.dirname(U),Q);var w=je.join(C,"package.json");a(w,function(F,W){if(!W)return N(je.dirname(U),Q);f(w,function(Z,J){Z&&Q(Z);try{var re=JSON.parse(J)}catch(_e){}re&&s.packageFilter&&(re=s.packageFilter(re,w)),Q(null,re,U)})})})}function y(U,Q,ie){var C=ie,w=Q;typeof w=="function"&&(C=w,w=s.package),jn(d,U,s,function(F,W){if(F)return C(F);var Z=je.join(W,"package.json");a(Z,function(J,re){if(J)return C(J);if(!re)return V(je.join(U,"index"),w,C);f(Z,function(_e,Ee){if(_e)return C(_e);try{var he=JSON.parse(Ee)}catch(Te){}if(he&&s.packageFilter&&(he=s.packageFilter(he,Z)),he&&he.main){if(typeof he.main!="string"){var ke=new TypeError("package \u201C"+he.name+"\u201D `main` must be a string");return ke.code="INVALID_PACKAGE_MAIN",C(ke)}(he.main==="."||he.main==="./")&&(he.main="index"),V(je.resolve(U,he.main),he,function(Te,Ue,xe){if(Te)return C(Te);if(Ue)return C(null,Ue,xe);if(!xe)return V(je.join(U,"index"),xe,C);var Ke=je.resolve(U,xe.main);y(Ke,xe,function(ut,Qe,Je){if(ut)return C(ut);if(Qe)return C(null,Qe,Je);V(je.join(U,"index"),Je,C)})});return}V(je.join(U,"/index"),he,C)})})})}function I(U,Q){if(Q.length===0)return U(null,void 0);var ie=Q[0];c(je.dirname(ie),C);function C(W,Z){if(W)return U(W);if(!Z)return I(U,Q.slice(1));V(ie,s.package,w)}function w(W,Z,J){if(W)return U(W);if(Z)return U(null,Z,J);y(ie,s.package,F)}function F(W,Z,J){if(W)return U(W);if(Z)return U(null,Z,J);I(U,Q.slice(1))}}function z(U,Q,ie){var C=function(){return WS(U,Q,s)};I(ie,m?m(U,Q,C,s):C())}}});var xd=S((hL,kd)=>{var HS=Ki(),gr=require("fs"),nt=require("path"),GS=yc(),$S=_c(),VS=Sc(),QS=gr.realpathSync&&typeof gr.realpathSync.native=="function"?gr.realpathSync.native:gr.realpathSync,YS=function(t){try{var r=gr.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isFile()||r.isFIFO()},zS=function(t){try{var r=gr.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isDirectory()},XS=function(t){try{return QS(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},Wn=function(t,r,n){return n&&n.preserveSymlinks===!1?t(r):r},KS=function(t,r,n){for(var i=$S(r,n,t),s=0;s<i.length;s++)i[s]=nt.join(i[s],t);return i};kd.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var n=VS(t,r),i=n.isFile||YS,s=n.readFileSync||gr.readFileSync,o=n.isDirectory||zS,a=n.realpathSync||XS,c=n.packageIterator,f=n.extensions||[".js"],d=n.basedir||nt.dirname(GS()),m=n.filename||d;n.paths=n.paths||[];var g=Wn(a,nt.resolve(d),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var R=nt.resolve(g,t);(t==="."||t===".."||t.slice(-1)==="/")&&(R+="/");var b=B(R)||V(R);if(b)return Wn(a,b,n)}else{if(HS(t))return t;var x=N(t,g);if(x)return Wn(a,x,n)}var G=new Error("Cannot find module '"+t+"' from '"+m+"'");throw G.code="MODULE_NOT_FOUND",G;function B(y){var I=ee(nt.dirname(y));if(I&&I.dir&&I.pkg&&n.pathFilter){var z=nt.relative(I.dir,y),U=n.pathFilter(I.pkg,y,z);U&&(y=nt.resolve(I.dir,U))}if(i(y))return y;for(var Q=0;Q<f.length;Q++){var ie=y+f[Q];if(i(ie))return ie}}function ee(y){if(!(y===""||y==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(y))&&!/[/\\]node_modules[/\\]*$/.test(y)){var I=nt.join(Wn(a,y,n),"package.json");if(!i(I))return ee(nt.dirname(y));var z=s(I);try{var U=JSON.parse(z)}catch(Q){}return U&&n.packageFilter&&(U=n.packageFilter(U,y)),{pkg:U,dir:y}}}function V(y){var I=nt.join(Wn(a,y,n),"/package.json");if(i(I)){try{var z=s(I,"UTF8"),U=JSON.parse(z)}catch(w){}if(U&&n.packageFilter&&(U=n.packageFilter(U,y)),U&&U.main){if(typeof U.main!="string"){var Q=new TypeError("package \u201C"+U.name+"\u201D `main` must be a string");throw Q.code="INVALID_PACKAGE_MAIN",Q}(U.main==="."||U.main==="./")&&(U.main="index");try{var ie=B(nt.resolve(y,U.main));if(ie)return ie;var C=V(nt.resolve(y,U.main));if(C)return C}catch(w){}}}return B(nt.join(y,"/index"))}function N(y,I){for(var z=function(){return KS(y,I,n)},U=c?c(y,I,z,n):z(),Q=0;Q<U.length;Q++){var ie=U[Q];if(o(nt.dirname(ie))){var C=B(ie);if(C)return C;var w=V(ie);if(w)return w}}}}});var Fd=S((dL,qd)=>{var Ji=Md();Ji.core=Oc();Ji.isCore=Ki();Ji.sync=xd();qd.exports=Ji});var Gd=S((oe,Hd)=>{oe=Hd.exports=le;var ye;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ye=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:ye=function(){};oe.SEMVER_SPEC_VERSION="2.0.0";var Ac=256,Zi=Number.MAX_SAFE_INTEGER||9007199254740991,Cc=16,ge=oe.re=[],q=oe.src=[],L=oe.tokens={},jd=0;function fe(e){L[e]=jd++}fe("NUMERICIDENTIFIER");q[L.NUMERICIDENTIFIER]="0|[1-9]\\d*";fe("NUMERICIDENTIFIERLOOSE");q[L.NUMERICIDENTIFIERLOOSE]="[0-9]+";fe("NONNUMERICIDENTIFIER");q[L.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";fe("MAINVERSION");q[L.MAINVERSION]="("+q[L.NUMERICIDENTIFIER]+")\\.("+q[L.NUMERICIDENTIFIER]+")\\.("+q[L.NUMERICIDENTIFIER]+")";fe("MAINVERSIONLOOSE");q[L.MAINVERSIONLOOSE]="("+q[L.NUMERICIDENTIFIERLOOSE]+")\\.("+q[L.NUMERICIDENTIFIERLOOSE]+")\\.("+q[L.NUMERICIDENTIFIERLOOSE]+")";fe("PRERELEASEIDENTIFIER");q[L.PRERELEASEIDENTIFIER]="(?:"+q[L.NUMERICIDENTIFIER]+"|"+q[L.NONNUMERICIDENTIFIER]+")";fe("PRERELEASEIDENTIFIERLOOSE");q[L.PRERELEASEIDENTIFIERLOOSE]="(?:"+q[L.NUMERICIDENTIFIERLOOSE]+"|"+q[L.NONNUMERICIDENTIFIER]+")";fe("PRERELEASE");q[L.PRERELEASE]="(?:-("+q[L.PRERELEASEIDENTIFIER]+"(?:\\."+q[L.PRERELEASEIDENTIFIER]+")*))";fe("PRERELEASELOOSE");q[L.PRERELEASELOOSE]="(?:-?("+q[L.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+q[L.PRERELEASEIDENTIFIERLOOSE]+")*))";fe("BUILDIDENTIFIER");q[L.BUILDIDENTIFIER]="[0-9A-Za-z-]+";fe("BUILD");q[L.BUILD]="(?:\\+("+q[L.BUILDIDENTIFIER]+"(?:\\."+q[L.BUILDIDENTIFIER]+")*))";fe("FULL");fe("FULLPLAIN");q[L.FULLPLAIN]="v?"+q[L.MAINVERSION]+q[L.PRERELEASE]+"?"+q[L.BUILD]+"?";q[L.FULL]="^"+q[L.FULLPLAIN]+"$";fe("LOOSEPLAIN");q[L.LOOSEPLAIN]="[v=\\s]*"+q[L.MAINVERSIONLOOSE]+q[L.PRERELEASELOOSE]+"?"+q[L.BUILD]+"?";fe("LOOSE");q[L.LOOSE]="^"+q[L.LOOSEPLAIN]+"$";fe("GTLT");q[L.GTLT]="((?:<|>)?=?)";fe("XRANGEIDENTIFIERLOOSE");q[L.XRANGEIDENTIFIERLOOSE]=q[L.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";fe("XRANGEIDENTIFIER");q[L.XRANGEIDENTIFIER]=q[L.NUMERICIDENTIFIER]+"|x|X|\\*";fe("XRANGEPLAIN");q[L.XRANGEPLAIN]="[v=\\s]*("+q[L.XRANGEIDENTIFIER]+")(?:\\.("+q[L.XRANGEIDENTIFIER]+")(?:\\.("+q[L.XRANGEIDENTIFIER]+")(?:"+q[L.PRERELEASE]+")?"+q[L.BUILD]+"?)?)?";fe("XRANGEPLAINLOOSE");q[L.XRANGEPLAINLOOSE]="[v=\\s]*("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:"+q[L.PRERELEASELOOSE]+")?"+q[L.BUILD]+"?)?)?";fe("XRANGE");q[L.XRANGE]="^"+q[L.GTLT]+"\\s*"+q[L.XRANGEPLAIN]+"$";fe("XRANGELOOSE");q[L.XRANGELOOSE]="^"+q[L.GTLT]+"\\s*"+q[L.XRANGEPLAINLOOSE]+"$";fe("COERCE");q[L.COERCE]="(^|[^\\d])(\\d{1,"+Cc+"})(?:\\.(\\d{1,"+Cc+"}))?(?:\\.(\\d{1,"+Cc+"}))?(?:$|[^\\d])";fe("COERCERTL");ge[L.COERCERTL]=new RegExp(q[L.COERCE],"g");fe("LONETILDE");q[L.LONETILDE]="(?:~>?)";fe("TILDETRIM");q[L.TILDETRIM]="(\\s*)"+q[L.LONETILDE]+"\\s+";ge[L.TILDETRIM]=new RegExp(q[L.TILDETRIM],"g");var JS="$1~";fe("TILDE");q[L.TILDE]="^"+q[L.LONETILDE]+q[L.XRANGEPLAIN]+"$";fe("TILDELOOSE");q[L.TILDELOOSE]="^"+q[L.LONETILDE]+q[L.XRANGEPLAINLOOSE]+"$";fe("LONECARET");q[L.LONECARET]="(?:\\^)";fe("CARETTRIM");q[L.CARETTRIM]="(\\s*)"+q[L.LONECARET]+"\\s+";ge[L.CARETTRIM]=new RegExp(q[L.CARETTRIM],"g");var ZS="$1^";fe("CARET");q[L.CARET]="^"+q[L.LONECARET]+q[L.XRANGEPLAIN]+"$";fe("CARETLOOSE");q[L.CARETLOOSE]="^"+q[L.LONECARET]+q[L.XRANGEPLAINLOOSE]+"$";fe("COMPARATORLOOSE");q[L.COMPARATORLOOSE]="^"+q[L.GTLT]+"\\s*("+q[L.LOOSEPLAIN]+")$|^$";fe("COMPARATOR");q[L.COMPARATOR]="^"+q[L.GTLT]+"\\s*("+q[L.FULLPLAIN]+")$|^$";fe("COMPARATORTRIM");q[L.COMPARATORTRIM]="(\\s*)"+q[L.GTLT]+"\\s*("+q[L.LOOSEPLAIN]+"|"+q[L.XRANGEPLAIN]+")";ge[L.COMPARATORTRIM]=new RegExp(q[L.COMPARATORTRIM],"g");var eN="$1$2$3";fe("HYPHENRANGE");q[L.HYPHENRANGE]="^\\s*("+q[L.XRANGEPLAIN]+")\\s+-\\s+("+q[L.XRANGEPLAIN]+")\\s*$";fe("HYPHENRANGELOOSE");q[L.HYPHENRANGELOOSE]="^\\s*("+q[L.XRANGEPLAINLOOSE]+")\\s+-\\s+("+q[L.XRANGEPLAINLOOSE]+")\\s*$";fe("STAR");q[L.STAR]="(<|>)?=?\\s*\\*";for(ir=0;ir<jd;ir++)ye(ir,q[ir]),ge[ir]||(ge[ir]=new RegExp(q[ir]));var ir;oe.parse=yr;function yr(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof le)return e;if(typeof e!="string"||e.length>Ac)return null;var r=t.loose?ge[L.LOOSE]:ge[L.FULL];if(!r.test(e))return null;try{return new le(e,t)}catch(n){return null}}oe.valid=tN;function tN(e,t){var r=yr(e,t);return r?r.version:null}oe.clean=rN;function rN(e,t){var r=yr(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}oe.SemVer=le;function le(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof le){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Ac)throw new TypeError("version is longer than "+Ac+" characters");if(!(this instanceof le))return new le(e,t);ye("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?ge[L.LOOSE]:ge[L.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Zi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zi||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Zi)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}le.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};le.prototype.toString=function(){return this.version};le.prototype.compare=function(e){return ye("SemVer.compare",this.version,this.options,e),e instanceof le||(e=new le(e,this.options)),this.compareMain(e)||this.comparePre(e)};le.prototype.compareMain=function(e){return e instanceof le||(e=new le(e,this.options)),vr(this.major,e.major)||vr(this.minor,e.minor)||vr(this.patch,e.patch)};le.prototype.comparePre=function(e){if(e instanceof le||(e=new le(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(ye("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return vr(r,n)}while(++t)};le.prototype.compareBuild=function(e){e instanceof le||(e=new le(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(ye("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return vr(r,n)}while(++t)};le.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};oe.inc=nN;function nN(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new le(e,r).inc(t,n).version}catch(i){return null}}oe.diff=iN;function iN(e,t){if(bc(e,t))return null;var r=yr(e),n=yr(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}oe.compareIdentifiers=vr;var Ud=/^[0-9]+$/;function vr(e,t){var r=Ud.test(e),n=Ud.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}oe.rcompareIdentifiers=sN;function sN(e,t){return vr(t,e)}oe.major=oN;function oN(e,t){return new le(e,t).major}oe.minor=aN;function aN(e,t){return new le(e,t).minor}oe.patch=cN;function cN(e,t){return new le(e,t).patch}oe.compare=Wt;function Wt(e,t,r){return new le(e,r).compare(new le(t,r))}oe.compareLoose=uN;function uN(e,t){return Wt(e,t,!0)}oe.compareBuild=lN;function lN(e,t,r){var n=new le(e,r),i=new le(t,r);return n.compare(i)||n.compareBuild(i)}oe.rcompare=fN;function fN(e,t,r){return Wt(t,e,r)}oe.sort=hN;function hN(e,t){return e.sort(function(r,n){return oe.compareBuild(r,n,t)})}oe.rsort=dN;function dN(e,t){return e.sort(function(r,n){return oe.compareBuild(n,r,t)})}oe.gt=Hn;function Hn(e,t,r){return Wt(e,t,r)>0}oe.lt=es;function es(e,t,r){return Wt(e,t,r)<0}oe.eq=bc;function bc(e,t,r){return Wt(e,t,r)===0}oe.neq=Wd;function Wd(e,t,r){return Wt(e,t,r)!==0}oe.gte=Ic;function Ic(e,t,r){return Wt(e,t,r)>=0}oe.lte=wc;function wc(e,t,r){return Wt(e,t,r)<=0}oe.cmp=ts;function ts(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return bc(e,r,n);case"!=":return Wd(e,r,n);case">":return Hn(e,r,n);case">=":return Ic(e,r,n);case"<":return es(e,r,n);case"<=":return wc(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}oe.Comparator=mt;function mt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof mt){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof mt))return new mt(e,t);ye("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===zr?this.value="":this.value=this.operator+this.semver.version,ye("comp",this)}var zr={};mt.prototype.parse=function(e){var t=this.options.loose?ge[L.COMPARATORLOOSE]:ge[L.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new le(r[2],this.options.loose):this.semver=zr};mt.prototype.toString=function(){return this.value};mt.prototype.test=function(e){if(ye("Comparator.test",e,this.options.loose),this.semver===zr||e===zr)return!0;if(typeof e=="string")try{e=new le(e,this.options)}catch(t){return!1}return ts(e,this.operator,this.semver,this.options)};mt.prototype.intersects=function(e,t){if(!(e instanceof mt))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new Pe(e.value,t),rs(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new Pe(this.value,t),rs(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=ts(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=ts(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||c};oe.Range=Pe;function Pe(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Pe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Pe(e.raw,t);if(e instanceof mt)return new Pe(e.value,t);if(!(this instanceof Pe))return new Pe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Pe.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Pe.prototype.toString=function(){return this.range};Pe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?ge[L.HYPHENRANGELOOSE]:ge[L.HYPHENRANGE];e=e.replace(r,SN),ye("hyphen replace",e),e=e.replace(ge[L.COMPARATORTRIM],eN),ye("comparator trim",e,ge[L.COMPARATORTRIM]),e=e.replace(ge[L.TILDETRIM],JS),e=e.replace(ge[L.CARETTRIM],ZS),e=e.split(/\s+/).join(" ");var n=t?ge[L.COMPARATORLOOSE]:ge[L.COMPARATOR],i=e.split(" ").map(function(s){return EN(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new mt(s,this.options)},this),i};Pe.prototype.intersects=function(e,t){if(!(e instanceof Pe))throw new TypeError("a Range is required");return this.set.some(function(r){return Bd(r,t)&&e.set.some(function(n){return Bd(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function Bd(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}oe.toComparators=pN;function pN(e,t){return new Pe(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function EN(e,t){return ye("comp",e,t),e=vN(e,t),ye("caret",e),e=mN(e,t),ye("tildes",e),e=TN(e,t),ye("xrange",e),e=_N(e,t),ye("stars",e),e}function Xe(e){return!e||e.toLowerCase()==="x"||e==="*"}function mN(e,t){return e.trim().split(/\s+/).map(function(r){return gN(r,t)}).join(" ")}function gN(e,t){var r=t.loose?ge[L.TILDELOOSE]:ge[L.TILDE];return e.replace(r,function(n,i,s,o,a){ye("tilde",e,n,i,s,o,a);var c;return Xe(i)?c="":Xe(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Xe(o)?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(ye("replaceTilde pr",a),c=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",ye("tilde return",c),c})}function vN(e,t){return e.trim().split(/\s+/).map(function(r){return yN(r,t)}).join(" ")}function yN(e,t){ye("caret",e,t);var r=t.loose?ge[L.CARETLOOSE]:ge[L.CARET];return e.replace(r,function(n,i,s,o,a){ye("caret",e,n,i,s,o,a);var c;return Xe(i)?c="":Xe(s)?c=">="+i+".0.0 <"+(+i+1)+".0.0":Xe(o)?i==="0"?c=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(ye("replaceCaret pr",a),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(ye("no pr"),i==="0"?s==="0"?c=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):c=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":c=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),ye("caret return",c),c})}function TN(e,t){return ye("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return RN(r,t)}).join(" ")}function RN(e,t){e=e.trim();var r=t.loose?ge[L.XRANGELOOSE]:ge[L.XRANGE];return e.replace(r,function(n,i,s,o,a,c){ye("xRange",e,n,i,s,o,a,c);var f=Xe(s),d=f||Xe(o),m=d||Xe(a),g=m;return i==="="&&g&&(i=""),c=t.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(d&&(o=0),a=0,i===">"?(i=">=",d?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",d?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+c):d?n=">="+s+".0.0"+c+" <"+(+s+1)+".0.0"+c:m&&(n=">="+s+"."+o+".0"+c+" <"+s+"."+(+o+1)+".0"+c),ye("xRange return",n),n})}function _N(e,t){return ye("replaceStars",e,t),e.trim().replace(ge[L.STAR],"")}function SN(e,t,r,n,i,s,o,a,c,f,d,m,g){return Xe(r)?t="":Xe(n)?t=">="+r+".0.0":Xe(i)?t=">="+r+"."+n+".0":t=">="+t,Xe(c)?a="":Xe(f)?a="<"+(+c+1)+".0.0":Xe(d)?a="<"+c+"."+(+f+1)+".0":m?a="<="+c+"."+f+"."+d+"-"+m:a="<="+a,(t+" "+a).trim()}Pe.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new le(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(NN(this.set[t],e,this.options))return!0;return!1};function NN(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(ye(e[n].semver),e[n].semver!==zr&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}oe.satisfies=rs;function rs(e,t,r){try{t=new Pe(t,r)}catch(n){return!1}return t.test(e)}oe.maxSatisfying=ON;function ON(e,t,r){var n=null,i=null;try{var s=new Pe(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new le(n,r))}),n}oe.minSatisfying=CN;function CN(e,t,r){var n=null,i=null;try{var s=new Pe(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new le(n,r))}),n}oe.minVersion=AN;function AN(e,t){e=new Pe(e,t);var r=new le("0.0.0");if(e.test(r)||(r=new le("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new le(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Hn(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}oe.validRange=bN;function bN(e,t){try{return new Pe(e,t).range||"*"}catch(r){return null}}oe.ltr=IN;function IN(e,t,r){return Lc(e,t,"<",r)}oe.gtr=wN;function wN(e,t,r){return Lc(e,t,">",r)}oe.outside=Lc;function Lc(e,t,r,n){e=new le(e,n),t=new Pe(t,n);var i,s,o,a,c;switch(r){case">":i=Hn,s=wc,o=es,a=">",c=">=";break;case"<":i=es,s=Ic,o=Hn,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(rs(e,t,n))return!1;for(var f=0;f<t.set.length;++f){var d=t.set[f],m=null,g=null;if(d.forEach(function(R){R.semver===zr&&(R=new mt(">=0.0.0")),m=m||R,g=g||R,i(R.semver,m.semver,n)?m=R:o(R.semver,g.semver,n)&&(g=R)}),m.operator===a||m.operator===c||(!g.operator||g.operator===a)&&s(e,g.semver))return!1;if(g.operator===c&&o(e,g.semver))return!1}return!0}oe.prerelease=LN;function LN(e,t){var r=yr(e,t);return r&&r.prerelease.length?r.prerelease:null}oe.intersects=PN;function PN(e,t,r){return e=new Pe(e,r),t=new Pe(t,r),e.intersects(t)}oe.coerce=DN;function DN(e,t){if(e instanceof le)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(ge[L.COERCE]);else{for(var n;(n=ge[L.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),ge[L.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ge[L.COERCERTL].lastIndex=-1}return r===null?null:yr(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var Xd=S((Pc,Dc)=>{"use strict";var ns=require("fs"),Ht=require("path"),{promisify:$d}=require("util"),MN=Gd(),Vd=MN.satisfies(process.version,">=10.12.0"),Qd=e=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Ht.parse(e).root,""))){let r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}},Yd=e=>st(st({},{mode:511,fs:ns}),e),zd=e=>{let t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},kN=(e,t)=>ft(Pc,null,function*(){Qd(e),t=Yd(t);let r=$d(t.fs.mkdir),n=$d(t.fs.stat);if(Vd&&t.fs.mkdir===ns.mkdir){let s=Ht.resolve(e);return yield r(s,{mode:t.mode,recursive:!0}),s}let i=s=>ft(Pc,null,function*(){try{return yield r(s,t.mode),s}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(Ht.dirname(s)===s)throw zd(s);if(o.message.includes("null bytes"))throw o;return yield i(Ht.dirname(s)),i(s)}try{if(!(yield n(s)).isDirectory())throw new Error("The path is not a directory")}catch(a){throw o}return s}});return i(Ht.resolve(e))});Dc.exports=kN;Dc.exports.sync=(e,t)=>{if(Qd(e),t=Yd(t),Vd&&t.fs.mkdirSync===ns.mkdirSync){let n=Ht.resolve(e);return ns.mkdirSync(n,{mode:t.mode,recursive:!0}),n}let r=n=>{try{t.fs.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Ht.dirname(n)===n)throw zd(n);if(i.message.includes("null bytes"))throw i;return r(Ht.dirname(n)),r(n)}try{if(!t.fs.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(s){throw i}}return n};return r(Ht.resolve(e))}});var Zd=S(it=>{"use strict";var xN=it&&it.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qN=it&&it.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FN=it&&it.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&xN(t,e,r);return qN(t,e),t},xc=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(it,"__esModule",{value:!0});it.sqltoolsResolve=void 0;var UN=xc(Td()),BN=xc(require("path")),Kd=xc(require("fs")),jN=Fd(),Jd=FN(Xd()),Mc=UN.default(`vscode-${process.env.EXT_NAMESPACE||"sqltools"}`,{suffix:null});Kd.default.existsSync(Mc.data)||Jd.sync(Mc.data);Kd.default.existsSync(kc("node_modules"))||Jd.sync(kc("node_modules"));function kc(...e){return BN.default.resolve(Mc.data,...e)}it.sqltoolsResolve=e=>jN.sync(e,{basedir:kc()});var WN=e=>require(it.sqltoolsResolve(e));it.default=WN});var np=S((mL,rp)=>{"use strict";rp.exports=tp;var qc=Symbol("circular-ref-tag"),Fc=Symbol("pino-raw-err-ref"),ep=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Fc]},set:function(e){this[Fc]=e}}});Object.defineProperty(ep,Fc,{writable:!0,value:{}});function tp(e){if(!(e instanceof Error))return e;e[qc]=void 0;let t=Object.create(ep);t.type=e.constructor.name,t.message=e.message,t.stack=e.stack;for(let r in e)if(t[r]===void 0){let n=e[r];n instanceof Error?n.hasOwnProperty(qc)||(t[r]=tp(n)):t[r]=n}return delete e[qc],t.raw=e,t}});var ap=S((gL,op)=>{"use strict";op.exports={mapHttpRequest:HN,reqSerializer:sp};var Uc=Symbol("pino-raw-req-ref"),ip=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Uc]},set:function(e){this[Uc]=e}}});Object.defineProperty(ip,Uc,{writable:!0,value:{}});function sp(e){var t=e.info||e.connection;let r=Object.create(ip);return r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.path||(e.url?e.url.path||e.url:void 0),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function HN(e){return{req:sp(e)}}});var fp=S((vL,lp)=>{"use strict";lp.exports={mapHttpResponse:GN,resSerializer:up};var Bc=Symbol("pino-raw-res-ref"),cp=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Bc]},set:function(e){this[Bc]=e}}});Object.defineProperty(cp,Bc,{writable:!0,value:{}});function up(e){let t=Object.create(cp);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function GN(e){return{res:up(e)}}});var Wc=S((yL,hp)=>{"use strict";var jc=np(),is=ap(),ss=fp();hp.exports={err:jc,mapHttpRequest:is.mapHttpRequest,mapHttpResponse:ss.mapHttpResponse,req:is.reqSerializer,res:ss.resSerializer,wrapErrorSerializer:function(t){return t===jc?t:function(n){return t(jc(n))}},wrapRequestSerializer:function(t){return t===is.reqSerializer?t:function(n){return t(is.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===ss.resSerializer?t:function(n){return t(ss.resSerializer(n))}}}});var pp=S((TL,dp)=>{"use strict";var{createContext:$N,runInContext:VN}=require("vm");dp.exports=QN;function QN(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(//.test(s))throw Error();let o=new Proxy({},{get:()=>o,set:()=>{throw Error()}}),a=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(a)||/\/\*/.test(a))throw Error();VN(`
          (function () {
            'use strict'
            o${a}
            if ([o${a}].length !== 1) throw Error()
          })()
        `,$N({o,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(o){throw Error(r(s))}})}}});var os=S((RL,Ep)=>{"use strict";Ep.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var gp=S((_L,mp)=>{"use strict";var YN=os();mp.exports=zN;function zN({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,s,o){var a=s.match(YN).map(d=>d.replace(/'|"|`/g,""));let c=s[0]==="[";a=a.map(d=>d[0]==="["?d.substr(1,d.length-2):d);let f=a.indexOf("*");if(f>-1){let d=a.slice(0,f),m=d.join("."),g=a.slice(f+1,a.length);if(g.indexOf("*")>-1)throw Error("fast-redact \u2013 Only one wildcard per path is supported");let R=g.length>0;r++,t.push({before:d,beforeStr:m,after:g,nested:R})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:c};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var yp=S((SL,vp)=>{"use strict";var XN=os();vp.exports=KN;function KN({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i},s){let o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${tO(n,t)}
    }
    const { censor, secret } = this
    ${JN(e,i)}
    this.compileRestore()
    ${ZN(r>0,i)}
    ${eO(t)}
  `).bind(s);return t===!1&&(o.restore=a=>s.restore(a)),o}function JN(e,t){return Object.keys(e).map(r=>{let{escPath:n,leadingBracket:i}=e[r],s=i?1:0,o=i?"":".",a=[];for(var c;(c=XN.exec(r))!==null;){let[,m]=c,{index:g,input:R}=c;g>s&&a.push(R.substring(0,g-(m?0:1)))}var f=a.map(m=>`o${o}${m}`).join(" && ");f.length===0?f+=`o${o}${r} != null`:f+=` && o${o}${r} != null`;let d=`
      switch (true) {
        ${a.reverse().map(m=>`
          case o${o}${m} === censor:
            secret[${n}].circle = ${JSON.stringify(m)}
            break
        `).join(`
`)}
      }
    `;return`
      if (${f}) {
        const val = o${o}${r}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${o}${r} = ${t?"censor(val)":"censor"}
          ${d}
        }
      }
    `}).join(`
`)}function ZN(e,t){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})
      }
    }
  `:""}function eO(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function tO(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var Hc=S((NL,Rp)=>{"use strict";Rp.exports={groupRedact:nO,groupRestore:rO,nestedRedact:sO,nestedRestore:iO};function rO({keys:e,values:t,target:r}){if(r==null)return;let n=e.length;for(var i=0;i<n;i++){let s=e[i];r[s]=t[i]}}function nO(e,t,r,n){let i=Tp(e,t);if(i==null)return{keys:null,values:null,target:null,flat:!0};let s=Object.keys(i),o=s.length,a=new Array(o);for(var c=0;c<o;c++){let f=s[c];a[c]=i[f],i[f]=n?r(i[f]):r}return{keys:s,values:a,target:i,flat:!0}}function iO(e){let t=e.length;for(var r=0;r<t;r++){let{key:n,target:i,value:s}=e[r];i[n]=s}}function sO(e,t,r,n,i,s){let o=Tp(t,r);if(o==null)return;let a=Object.keys(o),c=a.length;for(var f=0;f<c;f++){let d=a[f],{value:m,parent:g,exists:R}=aO(o,d,n,i,s);R===!0&&g!==null&&e.push({key:n[n.length-1],target:g,value:m})}return e}function oO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function aO(e,t,r,n,i){var s=-1,o=r.length,a=o-1,c,f,d,m=null,g=!0;if(d=c=e[t],typeof c!="object")return{value:null,parent:null,exists:g};for(;c!=null&&++s<o;){if(t=r[s],m=d,!(t in c)){g=!1;break}if(d=c[t],f=i?n(d):n,f=s!==a?d:f,c[t]=oO(c,t)&&f===d||f===void 0&&n!==void 0?c[t]:f,c=c[t],typeof c!="object")break}return{value:d,parent:m,exists:g}}function Tp(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var Sp=S((OL,_p)=>{"use strict";var{groupRestore:cO,nestedRestore:uO}=Hc();_p.exports=lO;function lO({secret:e,wcLen:t}){return function(){if(this.restore)return;let n=Object.keys(e).filter(a=>e[a].precensored===!1),i=fO(e,n),s=t>0,o=s?{secret:e,groupRestore:cO,nestedRestore:uO}:{secret:e};this.restore=Function("o",hO(i,n,s)).bind(o)}}function fO(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:s}=e[r],a=n?`o.${n} = secret[${i}].val`:`o${s?"":"."}${r} = secret[${i}].val`,c=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${c}
      }
    `}).join("")}function hO(e,t,r){let n=r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = ${t.length}; i < len; i++) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:"";return`
    const secret = this.secret
    ${e}
    ${n}
    return o
  `}});var Op=S((CL,Np)=>{"use strict";Np.exports=dO;function dO(e){let{secret:t,censor:r,isCensorFct:n,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:c,wcLen:f}=e,d=[{secret:t,censor:r,isCensorFct:n,compileRestore:i}];return d.push({secret:t}),s!==!1&&d.push({serialize:s}),f>0&&d.push({groupRedact:o,nestedRedact:a,wildcards:c,wcLen:f}),Object.assign(...d)}});var bp=S((AL,Ap)=>{"use strict";var Cp=pp(),pO=gp(),EO=yp(),mO=Sp(),{groupRedact:gO,nestedRedact:vO}=Hc(),yO=Op(),TO=os(),RO=Cp(),Gc=e=>e;Gc.restore=Gc;var _O="[REDACTED]";$c.rx=TO;$c.validator=Cp;Ap.exports=$c;function $c(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:_O,s=typeof i=="function";if(t.length===0)return r||Gc;RO({paths:t,serialize:r,censor:i});let{wildcards:o,wcLen:a,secret:c}=pO({paths:t,censor:i}),f=mO({secret:c,wcLen:a}),d="strict"in e?e.strict:!0;return EO({secret:c,wcLen:a,serialize:r,strict:d,isCensorFct:s},yO({secret:c,censor:i,compileRestore:f,serialize:r,groupRedact:gO,nestedRedact:vO,wildcards:o,wcLen:a}))}});var Xr=S((bL,Ip)=>{"use strict";var SO=Symbol("pino.setLevel"),NO=Symbol("pino.getLevel"),OO=Symbol("pino.levelVal"),CO=Symbol("pino.useLevelLabels"),AO=Symbol("pino.useOnlyCustomLevels"),bO=Symbol("pino.mixin"),IO=Symbol("pino.lsCache"),wO=Symbol("pino.chindings"),LO=Symbol("pino.parsedChindings"),PO=Symbol("pino.asJson"),DO=Symbol("pino.write"),MO=Symbol("pino.redactFmt"),kO=Symbol("pino.time"),xO=Symbol("pino.timeSliceIndex"),qO=Symbol("pino.stream"),FO=Symbol("pino.stringify"),UO=Symbol("pino.stringifiers"),BO=Symbol("pino.end"),jO=Symbol("pino.formatOpts"),WO=Symbol("pino.messageKey"),HO=Symbol("pino.nestedKey"),GO=Symbol("pino.wildcardFirst"),$O=Symbol.for("pino.serializers"),VO=Symbol.for("pino.formatters"),QO=Symbol.for("pino.hooks"),YO=Symbol.for("pino.metadata");Ip.exports={setLevelSym:SO,getLevelSym:NO,levelValSym:OO,useLevelLabelsSym:CO,mixinSym:bO,lsCacheSym:IO,chindingsSym:wO,parsedChindingsSym:LO,asJsonSym:PO,writeSym:DO,serializersSym:$O,redactFmtSym:MO,timeSym:kO,timeSliceIndexSym:xO,streamSym:qO,stringifySym:FO,stringifiersSym:UO,endSym:BO,formatOptsSym:jO,messageKeySym:WO,nestedKeySym:HO,wildcardFirstSym:GO,needsMetadataGsym:YO,useOnlyCustomLevelsSym:AO,formattersSym:VO,hooksSym:QO}});var Mp=S((IL,Dp)=>{"use strict";var Qc=bp(),{redactFmtSym:zO,wildcardFirstSym:as}=Xr(),{rx:Vc,validator:XO}=Qc,wp=XO({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),Lp="[Redacted]",Pp=!1;function KO(e,t){let{paths:r,censor:n}=JO(e),i=r.reduce((a,c)=>{Vc.lastIndex=0;let f=Vc.exec(c),d=Vc.exec(c),m=f[1]!==void 0?f[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):f[0];if(m==="*"&&(m=as),d===null)return a[m]=null,a;if(a[m]===null)return a;let{index:g}=d,R=`${c.substr(g,c.length-1)}`;return a[m]=a[m]||[],m!==as&&a[m].length===0&&a[m].push(...a[as]||[]),m===as&&Object.keys(a).forEach(function(b){a[b]&&a[b].push(R)}),a[m].push(R),a},{}),s={[zO]:Qc({paths:r,censor:n,serialize:t,strict:Pp})},o=(...a)=>t(typeof n=="function"?n(...a):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,c)=>(i[c]===null?a[c]=o:a[c]=Qc({paths:i[c],censor:n,serialize:t,strict:Pp}),a),s)}function JO(e){if(Array.isArray(e))return e={paths:e,censor:Lp},wp(e),e;var{paths:t,censor:r=Lp,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),wp({paths:t,censor:r}),{paths:t,censor:r}}Dp.exports=KO});var xp=S((wL,kp)=>{"use strict";var ZO=()=>"",eC=()=>`,"time":${Date.now()}`,tC=()=>`,"time":${Math.round(Date.now()/1e3)}`,rC=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;kp.exports={nullTime:ZO,epochTime:eC,unixTime:tC,isoTime:rC}});var cs=S((LL,qp)=>{"use strict";function nC(e){return e|0,e}qp.exports=nC});var Fp=S((PL,Yc)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));Yc.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};Yc.exports=e}});var Xc=S((DL,jp)=>{"use strict";var wt=require("fs"),iC=require("events"),sC=cs(),oC=require("util").inherits,Up=100,aC=Fp(),zc=16*1024*1024;function Bp(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1,t.file=e;function r(n,i){if(n){t.emit("error",n);return}if(t.fd=i,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),!t._reopening){var s=t._buf.length;s>0&&s>t.minLength&&!t.destroyed&&Kr(t)}}if(t.sync){let n=wt.openSync(e,"a");r(null,n),process.nextTick(()=>t.emit("ready"))}else wt.open(e,"a",r)}function Lt(e){if(!(this instanceof Lt))return new Lt(e);var{fd:t,dest:r,minLength:n,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=n||0,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")Bp(t,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(s,o)=>{if(s){if(s.code==="EAGAIN")if(this.sync)try{aC(Up),this.release(void 0,0)}catch(c){this.release(c)}else setTimeout(()=>{wt.write(this.fd,this._writingBuf,"utf8",this.release)},Up);else this.emit("error",s);return}if(this._writingBuf.length!==o)if(this._writingBuf=this._writingBuf.slice(o),this.sync)try{do o=wt.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(o);while(this._writingBuf.length!==0)}catch(c){this.release(c);return}else{wt.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",!this.destroyed){var a=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>0&&a>this.minLength?Kr(this):this._ending?a>0?Kr(this):(this._writing=!1,us(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(cC,this)):this.emit("drain"))}},this.on("newListener",function(s){s==="drain"&&(this._asyncDrainScheduled=!1)})}function cC(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}oC(Lt,iC);Lt.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&Kr(this),t<16384};Lt.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||Kr(this)};Lt.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(!this._ending){if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");this._reopening=!0,!this._writing&&(wt.close(this.fd,t=>{if(t)return this.emit("error",t)}),Bp(e||this.file,this))}};Lt.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(!this._ending){if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){Kr(this);return}this._writing||us(this)}};Lt.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(wt.writeSync(this.fd,this._buf,"utf8"),this._buf="")};Lt.prototype.destroy=function(){this.destroyed||us(this)};function Kr(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>zc?(t=t.slice(0,zc),e._buf=e._buf.slice(zc)):e._buf="",sC(t),e._writingBuf=t,e.sync)try{var n=wt.writeSync(e.fd,t,"utf8");r(null,n)}catch(i){r(i)}else wt.write(e.fd,t,"utf8",r)}function us(e){if(e.fd===-1){e.once("ready",us.bind(null,e));return}wt.close(e.fd,t=>{if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}),e.destroyed=!0,e._buf=""}jp.exports=Lt});var Hp=S((ML,Wp)=>{"use strict";function uC(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}Wp.exports=lC;function lC(e,t,r){var n=r&&r.stringify||uC,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var f="",d="",m=1-i,g=-1,R=e&&e.length||0,b=0;b<R;){if(e.charCodeAt(b)===37&&b+1<R){switch(g=g>-1?g:0,e.charCodeAt(b+1)){case 100:if(m>=c||(g<b&&(d+=e.slice(g,b)),t[m]==null))break;d+=Number(t[m]),g=b=b+2;break;case 79:case 111:case 106:if(m>=c||(g<b&&(d+=e.slice(g,b)),t[m]===void 0))break;var x=typeof t[m];if(x==="string"){d+="'"+t[m]+"'",g=b+2,b++;break}if(x==="function"){d+=t[m].name||"<anonymous>",g=b+2,b++;break}d+=n(t[m]),g=b+2,b++;break;case 115:if(m>=c)break;g<b&&(d+=e.slice(g,b)),d+=String(t[m]),g=b+2,b++;break;case 37:g<b&&(d+=e.slice(g,b)),d+="%",g=b+2,b++;break}++m}++b}return g===-1?e:(g<R&&(d+=e.slice(g)),d)}});var Zc=S((kL,Vp)=>{Vp.exports=Gn;Gn.default=Gn;Gn.stable=Gp;Gn.stableStringify=Gp;var Gt=[],sr=[];function Gn(e,t,r){Kc(e,"",[],void 0);var n;for(sr.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,$p(t),r);Gt.length!==0;){var i=Gt.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function Kc(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Gt.push([n,t,e,s])):sr.push([e,t]):(n[t]="[Circular]",Gt.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Kc(e[i],i,r,e);else{var o=Object.keys(e);for(i=0;i<o.length;i++){var a=o[i];Kc(e[a],a,r,e)}}r.pop()}}function fC(e,t){return e<t?-1:e>t?1:0}function Gp(e,t,r){var n=Jc(e,"",[],void 0)||e,i;for(sr.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,$p(t),r);Gt.length!==0;){var s=Gt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function Jc(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Gt.push([n,t,e,s])):sr.push([e,t]):(n[t]="[Circular]",Gt.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Jc(e[i],i,r,e);else{var o={},a=Object.keys(e).sort(fC);for(i=0;i<a.length;i++){var c=a[i];Jc(e[c],c,r,e),o[c]=e[c]}if(n!==void 0)Gt.push([n,t,e]),n[t]=o;else return o}r.pop()}}function $p(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(sr.length>0)for(var n=0;n<sr.length;n++){var i=sr[n];if(i[1]===t&&i[0]===r){r="[Circular]",sr.splice(n,1);break}}return e.call(this,t,r)}}});var Yp=S((xL,Qp)=>{"use strict";Qp.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var eu=S((qL,Xp)=>{var $n=Yp(),zp={};for(let e of Object.keys($n))zp[$n[e]]=e;var K={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Xp.exports=K;for(let e of Object.keys(K)){if(!("channels"in K[e]))throw new Error("missing channels property: "+e);if(!("labels"in K[e]))throw new Error("missing channel labels property: "+e);if(K[e].labels.length!==K[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=K[e];delete K[e].channels,delete K[e].labels,Object.defineProperty(K[e],"channels",{value:t}),Object.defineProperty(K[e],"labels",{value:r})}K.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,c;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let f=(i+s)/2;return s===i?c=0:f<=.5?c=o/(s+i):c=o/(2-s-i),[a,c*100,f*100]};K.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,c=e[2]/255,f=Math.max(o,a,c),d=f-Math.min(o,a,c),m=function(g){return(f-g)/6/d+1/2};return d===0?(i=0,s=0):(s=d/f,t=m(o),r=m(a),n=m(c),o===f?i=n-r:a===f?i=1/3+t-n:c===f&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,f*100]};K.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=K.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};K.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function hC(e,t){return qe(e[0]-t[0],2)+qe(e[1]-t[1],2)+qe(e[2]-t[2],2)}K.rgb.keyword=function(e){let t=zp[e];if(t)return t;let r=1/0,n;for(let i of Object.keys($n)){let s=$n[i],o=hC(e,s);o<r&&(r=o,n=i)}return n};K.keyword.rgb=function(e){return $n[e]};K.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?qe((t+.055)/1.055,2.4):t/12.92,r=r>.04045?qe((r+.055)/1.055,2.4):r/12.92,n=n>.04045?qe((n+.055)/1.055,2.4):n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};K.rgb.lab=function(e){let t=K.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?qe(r,1/3):7.787*r+16/116,n=n>.008856?qe(n,1/3):7.787*n+16/116,i=i>.008856?qe(i,1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};K.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,c=[0,0,0];for(let f=0;f<3;f++)s=t+1/3*-(f-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,c[f]=o*255;return c};K.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};K.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}};K.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};K.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);let c=r+s*(a-r),f,d,m;switch(o){default:case 6:case 0:f=a,d=c,m=r;break;case 1:f=c,d=a,m=r;break;case 2:f=r,d=a,m=c;break;case 3:f=r,d=c,m=a;break;case 4:f=c,d=r,m=a;break;case 5:f=a,d=r,m=c;break}return[f*255,d*255,m*255]};K.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};K.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*qe(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*qe(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*qe(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};K.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?qe(t,1/3):7.787*t+16/116,r=r>.008856?qe(r,1/3):7.787*r+16/116,n=n>.008856?qe(n,1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};K.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=qe(s,3),c=qe(i,3),f=qe(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,o=f>.008856?f:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};K.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};K.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};K.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?K.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};K.hsv.ansi16=function(e){return K.rgb.ansi16(K.hsv.rgb(e),e[2])};K.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};K.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};K.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};K.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};K.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};K.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,c;return o<1?a=s/(1-o):a=0,o<=0?c=0:i===t?c=(r-n)/o%6:i===r?c=2+(n-t)/o:c=4+(t-r)/o,c/=6,c%=1,[c*360,o*100,a*100]};K.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};K.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};K.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,c=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};K.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};K.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};K.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};K.hwb.hcg=function(e){let t=e[1]/100,n=1-e[2]/100,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};K.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};K.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};K.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};K.gray.hsl=function(e){return[0,0,e[0]]};K.gray.hsv=K.gray.hsl;K.gray.hwb=function(e){return[0,100,e[0]]};K.gray.cmyk=function(e){return[0,0,0,e[0]]};K.gray.lab=function(e){return[e[0],0,0]};K.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};K.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var Jp=S((UL,Kp)=>{var ls=eu();function dC(){let e={},t=Object.keys(ls);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function pC(e){let t=dC(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(ls[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],c=t[a];c.distance===-1&&(c.distance=t[n].distance+1,c.parent=n,r.unshift(a))}}return t}function EC(e,t){return function(r){return t(e(r))}}function mC(e,t){let r=[t[e].parent,e],n=ls[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=EC(ls[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}Kp.exports=function(e){let t=pC(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=mC(o,t))}return r}});var eE=S((BL,Zp)=>{var tu=eu(),gC=Jp(),Jr={},vC=Object.keys(tu);function yC(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function TC(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}vC.forEach(e=>{Jr[e]={},Object.defineProperty(Jr[e],"channels",{value:tu[e].channels}),Object.defineProperty(Jr[e],"labels",{value:tu[e].labels});let t=gC(e);Object.keys(t).forEach(n=>{let i=t[n];Jr[e][n]=TC(i),Jr[e][n].raw=yC(i)})});Zp.exports=Jr});var oE=S((jL,sE)=>{"use strict";var tE=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,rE=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};5;${n}m`},nE=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},fs=e=>e,iE=(e,t,r)=>[e,t,r],Zr=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},ru,en=(e,t,r,n)=>{ru===void 0&&(ru=eE());let i=n?10:0,s={};for(let[o,a]of Object.entries(ru)){let c=o==="ansi16"?"ansi":o;o===t?s[c]=e(r,i):typeof a=="object"&&(s[c]=e(a[t],i))}return s};function RC(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",Zr(t.color,"ansi",()=>en(tE,"ansi16",fs,!1)),Zr(t.color,"ansi256",()=>en(rE,"ansi256",fs,!1)),Zr(t.color,"ansi16m",()=>en(nE,"rgb",iE,!1)),Zr(t.bgColor,"ansi",()=>en(tE,"ansi16",fs,!0)),Zr(t.bgColor,"ansi256",()=>en(rE,"ansi256",fs,!0)),Zr(t.bgColor,"ansi16m",()=>en(nE,"rgb",iE,!0)),t}Object.defineProperty(sE,"exports",{enumerable:!0,get:RC})});var cE=S((WL,aE)=>{"use strict";aE.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var fE=S((HL,lE)=>{"use strict";var _C=require("os"),uE=require("tty"),gt=cE(),{env:Fe}=process,or;gt("no-color")||gt("no-colors")||gt("color=false")||gt("color=never")?or=0:(gt("color")||gt("colors")||gt("color=true")||gt("color=always"))&&(or=1);"FORCE_COLOR"in Fe&&(Fe.FORCE_COLOR==="true"?or=1:Fe.FORCE_COLOR==="false"?or=0:or=Fe.FORCE_COLOR.length===0?1:Math.min(parseInt(Fe.FORCE_COLOR,10),3));function nu(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function iu(e,t){if(or===0)return 0;if(gt("color=16m")||gt("color=full")||gt("color=truecolor"))return 3;if(gt("color=256"))return 2;if(e&&!t&&or===void 0)return 0;let r=or||0;if(Fe.TERM==="dumb")return r;if(process.platform==="win32"){let n=_C.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Fe)||Fe.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Fe.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in Fe)return 1;if(Fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Fe){let n=parseInt((Fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Fe.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Fe.TERM)||"COLORTERM"in Fe?1:r}function SC(e){let t=iu(e,e&&e.isTTY);return nu(t)}lE.exports={supportsColor:SC,stdout:nu(iu(!0,uE.isatty(1))),stderr:nu(iu(!0,uE.isatty(2)))}});var dE=S((GL,hE)=>{"use strict";var NC=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;let i=t.length,s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},OC=(e,t,r,n)=>{let i=0,s="";do{let o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};hE.exports={stringReplaceAll:NC,stringEncaseCRLFWithFirstIndex:OC}});var vE=S(($L,gE)=>{"use strict";var CC=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,pE=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,AC=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,bC=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,IC=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function mE(e){let t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):IC.get(e)||e}function wC(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(AC))r.push(i[2].replace(bC,(a,c,f)=>c?mE(c):f));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function LC(e){pE.lastIndex=0;let t=[],r;for(;(r=pE.exec(e))!==null;){let n=r[1];if(r[2]){let i=wC(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function EE(e,t){let r={};for(let i of t)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(let[i,s]of Object.entries(r))if(Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}gE.exports=(e,t)=>{let r=[],n=[],i=[];if(t.replace(CC,(s,o,a,c,f,d)=>{if(o)i.push(mE(o));else if(c){let m=i.join("");i=[],n.push(r.length===0?m:EE(e,r)(m)),r.push({inverse:a,styles:LC(c)})}else if(f){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(EE(e,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var lu=S((VL,NE)=>{"use strict";var Vn=oE(),{stdout:ou,stderr:au}=fE(),{stringReplaceAll:PC,stringEncaseCRLFWithFirstIndex:DC}=dE(),{isArray:hs}=Array,TE=["ansi","ansi","ansi256","ansi16m"],tn=Object.create(null),MC=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=ou?ou.level:0;e.level=t.level===void 0?r:t.level},cu=class{constructor(t){return RE(t)}},RE=e=>{let t={};return MC(t,e),t.template=(...r)=>SE(t.template,...r),Object.setPrototypeOf(t,ds.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=cu,t.template};function ds(e){return RE(e)}for(let[e,t]of Object.entries(Vn))tn[e]={get(){let r=ps(this,uu(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};tn.visible={get(){let e=ps(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};var _E=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of _E)tn[e]={get(){let{level:t}=this;return function(...r){let n=uu(Vn.color[TE[t]][e](...r),Vn.color.close,this._styler);return ps(this,n,this._isEmpty)}}};for(let e of _E){let t="bg"+e[0].toUpperCase()+e.slice(1);tn[t]={get(){let{level:r}=this;return function(...n){let i=uu(Vn.bgColor[TE[r]][e](...n),Vn.bgColor.close,this._styler);return ps(this,i,this._isEmpty)}}}}var kC=Object.defineProperties(()=>{},cn(st({},tn),{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),uu=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},ps=(e,t,r)=>{let n=(...i)=>hs(i[0])&&hs(i[0].raw)?yE(n,SE(n,...i)):yE(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,kC),n._generator=e,n._styler=t,n._isEmpty=r,n},yE=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.indexOf("\x1B")!==-1)for(;r!==void 0;)t=PC(t,r.close,r.open),r=r.parent;let s=t.indexOf(`
`);return s!==-1&&(t=DC(t,i,n,s)),n+t+i},su,SE=(e,...t)=>{let[r]=t;if(!hs(r)||!hs(r.raw))return t.join(" ");let n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return su===void 0&&(su=vE()),su(e,i.join(""))};Object.defineProperties(ds.prototype,tn);var Es=ds();Es.supportsColor=ou;Es.stderr=ds({level:au?au.level:0});Es.stderr.supportsColor=au;NE.exports=Es});var OE=S(ms=>{(function(e){"use strict";function t(u){return u!==null?Object.prototype.toString.call(u)==="[object Array]":!1}function r(u){return u!==null?Object.prototype.toString.call(u)==="[object Object]":!1}function n(u,E){if(u===E)return!0;var v=Object.prototype.toString.call(u);if(v!==Object.prototype.toString.call(E))return!1;if(t(u)===!0){if(u.length!==E.length)return!1;for(var T=0;T<u.length;T++)if(n(u[T],E[T])===!1)return!1;return!0}if(r(u)===!0){var O={};for(var H in u)if(hasOwnProperty.call(u,H)){if(n(u[H],E[H])===!1)return!1;O[H]=!0}for(var Y in E)if(hasOwnProperty.call(E,Y)&&O[Y]!==!0)return!1;return!0}return!1}function i(u){if(u===""||u===!1||u===null)return!0;if(t(u)&&u.length===0)return!0;if(r(u)){for(var E in u)if(u.hasOwnProperty(E))return!1;return!0}else return!1}function s(u){for(var E=Object.keys(u),v=[],T=0;T<E.length;T++)v.push(u[E[T]]);return v}function o(u,E){var v={};for(var T in u)v[T]=u[T];for(var O in E)v[O]=E[O];return v}var a;typeof String.prototype.trimLeft=="function"?a=function(u){return u.trimLeft()}:a=function(u){return u.match(/^\s*(.*)/)[1]};var c=0,f=1,d=2,m=3,g=4,R=5,b=6,x=7,G=8,B=9,ee="EOF",V="UnquotedIdentifier",N="QuotedIdentifier",y="Rbracket",I="Rparen",z="Comma",U="Colon",Q="Rbrace",ie="Number",C="Current",w="Expref",F="Pipe",W="Or",Z="And",J="EQ",re="GT",_e="LT",Ee="GTE",he="LTE",ke="NE",Te="Flatten",Ue="Star",xe="Filter",Ke="Dot",ut="Not",Qe="Lbrace",Je="Lbracket",Dt="Lparen",Ot="Literal",Nr={".":Ke,"*":Ue,",":z,":":U,"{":Qe,"}":Q,"]":y,"(":Dt,")":I,"@":C},nn={"<":!0,">":!0,"=":!0,"!":!0},sn={" ":!0,"	":!0,"\n":!0};function Ct(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"||u==="_"}function At(u){return u>="0"&&u<="9"||u==="-"}function on(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"||u>="0"&&u<="9"||u==="_"}function M(){}M.prototype={tokenize:function(u){var E=[];this._current=0;for(var v,T,O;this._current<u.length;)if(Ct(u[this._current]))v=this._current,T=this._consumeUnquotedIdentifier(u),E.push({type:V,value:T,start:v});else if(Nr[u[this._current]]!==void 0)E.push({type:Nr[u[this._current]],value:u[this._current],start:this._current}),this._current++;else if(At(u[this._current]))O=this._consumeNumber(u),E.push(O);else if(u[this._current]==="[")O=this._consumeLBracket(u),E.push(O);else if(u[this._current]==='"')v=this._current,T=this._consumeQuotedIdentifier(u),E.push({type:N,value:T,start:v});else if(u[this._current]==="'")v=this._current,T=this._consumeRawStringLiteral(u),E.push({type:Ot,value:T,start:v});else if(u[this._current]==="`"){v=this._current;var H=this._consumeLiteral(u);E.push({type:Ot,value:H,start:v})}else if(nn[u[this._current]]!==void 0)E.push(this._consumeOperator(u));else if(sn[u[this._current]]!==void 0)this._current++;else if(u[this._current]==="&")v=this._current,this._current++,u[this._current]==="&"?(this._current++,E.push({type:Z,value:"&&",start:v})):E.push({type:w,value:"&",start:v});else if(u[this._current]==="|")v=this._current,this._current++,u[this._current]==="|"?(this._current++,E.push({type:W,value:"||",start:v})):E.push({type:F,value:"|",start:v});else{var Y=new Error("Unknown character:"+u[this._current]);throw Y.name="LexerError",Y}return E},_consumeUnquotedIdentifier:function(u){var E=this._current;for(this._current++;this._current<u.length&&on(u[this._current]);)this._current++;return u.slice(E,this._current)},_consumeQuotedIdentifier:function(u){var E=this._current;this._current++;for(var v=u.length;u[this._current]!=='"'&&this._current<v;){var T=this._current;u[T]==="\\"&&(u[T+1]==="\\"||u[T+1]==='"')?T+=2:T++,this._current=T}return this._current++,JSON.parse(u.slice(E,this._current))},_consumeRawStringLiteral:function(u){var E=this._current;this._current++;for(var v=u.length;u[this._current]!=="'"&&this._current<v;){var T=this._current;u[T]==="\\"&&(u[T+1]==="\\"||u[T+1]==="'")?T+=2:T++,this._current=T}this._current++;var O=u.slice(E+1,this._current-1);return O.replace("\\'","'")},_consumeNumber:function(u){var E=this._current;this._current++;for(var v=u.length;At(u[this._current])&&this._current<v;)this._current++;var T=parseInt(u.slice(E,this._current));return{type:ie,value:T,start:E}},_consumeLBracket:function(u){var E=this._current;return this._current++,u[this._current]==="?"?(this._current++,{type:xe,value:"[?",start:E}):u[this._current]==="]"?(this._current++,{type:Te,value:"[]",start:E}):{type:Je,value:"[",start:E}},_consumeOperator:function(u){var E=this._current,v=u[E];if(this._current++,v==="!")return u[this._current]==="="?(this._current++,{type:ke,value:"!=",start:E}):{type:ut,value:"!",start:E};if(v==="<")return u[this._current]==="="?(this._current++,{type:he,value:"<=",start:E}):{type:_e,value:"<",start:E};if(v===">")return u[this._current]==="="?(this._current++,{type:Ee,value:">=",start:E}):{type:re,value:">",start:E};if(v==="="&&u[this._current]==="=")return this._current++,{type:J,value:"==",start:E}},_consumeLiteral:function(u){this._current++;for(var E=this._current,v=u.length,T;u[this._current]!=="`"&&this._current<v;){var O=this._current;u[O]==="\\"&&(u[O+1]==="\\"||u[O+1]==="`")?O+=2:O++,this._current=O}var H=a(u.slice(E,this._current));return H=H.replace("\\`","`"),this._looksLikeJSON(H)?T=JSON.parse(H):T=JSON.parse('"'+H+'"'),this._current++,T},_looksLikeJSON:function(u){var E='[{"',v=["true","false","null"],T="-0123456789";if(u==="")return!1;if(E.indexOf(u[0])>=0)return!0;if(v.indexOf(u)>=0)return!0;if(T.indexOf(u[0])>=0)try{return JSON.parse(u),!0}catch(O){return!1}else return!1}};var p={};p[ee]=0,p[V]=0,p[N]=0,p[y]=0,p[I]=0,p[z]=0,p[Q]=0,p[ie]=0,p[C]=0,p[w]=0,p[F]=1,p[W]=2,p[Z]=3,p[J]=5,p[re]=5,p[_e]=5,p[Ee]=5,p[he]=5,p[ke]=5,p[Te]=9,p[Ue]=20,p[xe]=21,p[Ke]=40,p[ut]=45,p[Qe]=50,p[Je]=55,p[Dt]=60;function A(){}A.prototype={parse:function(u){this._loadTokens(u),this.index=0;var E=this.expression(0);if(this._lookahead(0)!==ee){var v=this._lookaheadToken(0),T=new Error("Unexpected token type: "+v.type+", value: "+v.value);throw T.name="ParserError",T}return E},_loadTokens:function(u){var E=new M,v=E.tokenize(u);v.push({type:ee,value:"",start:u.length}),this.tokens=v},expression:function(u){var E=this._lookaheadToken(0);this._advance();for(var v=this.nud(E),T=this._lookahead(0);u<p[T];)this._advance(),v=this.led(T,v),T=this._lookahead(0);return v},_lookahead:function(u){return this.tokens[this.index+u].type},_lookaheadToken:function(u){return this.tokens[this.index+u]},_advance:function(){this.index++},nud:function(u){var E,v,T;switch(u.type){case Ot:return{type:"Literal",value:u.value};case V:return{type:"Field",name:u.value};case N:var O={type:"Field",name:u.value};if(this._lookahead(0)===Dt)throw new Error("Quoted identifier not allowed for function names.");return O;case ut:return v=this.expression(p.Not),{type:"NotExpression",children:[v]};case Ue:return E={type:"Identity"},v=null,this._lookahead(0)===y?v={type:"Identity"}:v=this._parseProjectionRHS(p.Star),{type:"ValueProjection",children:[E,v]};case xe:return this.led(u.type,{type:"Identity"});case Qe:return this._parseMultiselectHash();case Te:return E={type:Te,children:[{type:"Identity"}]},v=this._parseProjectionRHS(p.Flatten),{type:"Projection",children:[E,v]};case Je:return this._lookahead(0)===ie||this._lookahead(0)===U?(v=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},v)):this._lookahead(0)===Ue&&this._lookahead(1)===y?(this._advance(),this._advance(),v=this._parseProjectionRHS(p.Star),{type:"Projection",children:[{type:"Identity"},v]}):this._parseMultiselectList();case C:return{type:C};case w:return T=this.expression(p.Expref),{type:"ExpressionReference",children:[T]};case Dt:for(var H=[];this._lookahead(0)!==I;)this._lookahead(0)===C?(T={type:C},this._advance()):T=this.expression(0),H.push(T);return this._match(I),H[0];default:this._errorToken(u)}},led:function(u,E){var v;switch(u){case Ke:var T=p.Dot;return this._lookahead(0)!==Ue?(v=this._parseDotRHS(T),{type:"Subexpression",children:[E,v]}):(this._advance(),v=this._parseProjectionRHS(T),{type:"ValueProjection",children:[E,v]});case F:return v=this.expression(p.Pipe),{type:F,children:[E,v]};case W:return v=this.expression(p.Or),{type:"OrExpression",children:[E,v]};case Z:return v=this.expression(p.And),{type:"AndExpression",children:[E,v]};case Dt:for(var O=E.name,H=[],Y,te;this._lookahead(0)!==I;)this._lookahead(0)===C?(Y={type:C},this._advance()):Y=this.expression(0),this._lookahead(0)===z&&this._match(z),H.push(Y);return this._match(I),te={type:"Function",name:O,children:H},te;case xe:var Oe=this.expression(0);return this._match(y),this._lookahead(0)===Te?v={type:"Identity"}:v=this._parseProjectionRHS(p.Filter),{type:"FilterProjection",children:[E,v,Oe]};case Te:var bt={type:Te,children:[E]},We=this._parseProjectionRHS(p.Flatten);return{type:"Projection",children:[bt,We]};case J:case ke:case re:case Ee:case _e:case he:return this._parseComparator(E,u);case Je:var se=this._lookaheadToken(0);return se.type===ie||se.type===U?(v=this._parseIndexExpression(),this._projectIfSlice(E,v)):(this._match(Ue),this._match(y),v=this._parseProjectionRHS(p.Star),{type:"Projection",children:[E,v]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(u){if(this._lookahead(0)===u)this._advance();else{var E=this._lookaheadToken(0),v=new Error("Expected "+u+", got: "+E.type);throw v.name="ParserError",v}},_errorToken:function(u){var E=new Error("Invalid token ("+u.type+'): "'+u.value+'"');throw E.name="ParserError",E},_parseIndexExpression:function(){if(this._lookahead(0)===U||this._lookahead(1)===U)return this._parseSliceExpression();var u={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(y),u},_projectIfSlice:function(u,E){var v={type:"IndexExpression",children:[u,E]};return E.type==="Slice"?{type:"Projection",children:[v,this._parseProjectionRHS(p.Star)]}:v},_parseSliceExpression:function(){for(var u=[null,null,null],E=0,v=this._lookahead(0);v!==y&&E<3;){if(v===U)E++,this._advance();else if(v===ie)u[E]=this._lookaheadToken(0).value,this._advance();else{var T=this._lookahead(0),O=new Error("Syntax error, unexpected token: "+T.value+"("+T.type+")");throw O.name="Parsererror",O}v=this._lookahead(0)}return this._match(y),{type:"Slice",children:u}},_parseComparator:function(u,E){var v=this.expression(p[E]);return{type:"Comparator",name:E,children:[u,v]}},_parseDotRHS:function(u){var E=this._lookahead(0),v=[V,N,Ue];if(v.indexOf(E)>=0)return this.expression(u);if(E===Je)return this._match(Je),this._parseMultiselectList();if(E===Qe)return this._match(Qe),this._parseMultiselectHash()},_parseProjectionRHS:function(u){var E;if(p[this._lookahead(0)]<10)E={type:"Identity"};else if(this._lookahead(0)===Je)E=this.expression(u);else if(this._lookahead(0)===xe)E=this.expression(u);else if(this._lookahead(0)===Ke)this._match(Ke),E=this._parseDotRHS(u);else{var v=this._lookaheadToken(0),T=new Error("Sytanx error, unexpected token: "+v.value+"("+v.type+")");throw T.name="ParserError",T}return E},_parseMultiselectList:function(){for(var u=[];this._lookahead(0)!==y;){var E=this.expression(0);if(u.push(E),this._lookahead(0)===z&&(this._match(z),this._lookahead(0)===y))throw new Error("Unexpected token Rbracket")}return this._match(y),{type:"MultiSelectList",children:u}},_parseMultiselectHash:function(){for(var u=[],E=[V,N],v,T,O,H;;){if(v=this._lookaheadToken(0),E.indexOf(v.type)<0)throw new Error("Expecting an identifier token, got: "+v.type);if(T=v.value,this._advance(),this._match(U),O=this.expression(0),H={type:"KeyValuePair",name:T,value:O},u.push(H),this._lookahead(0)===z)this._match(z);else if(this._lookahead(0)===Q){this._match(Q);break}}return{type:"MultiSelectHash",children:u}}};function P(u){this.runtime=u}P.prototype={search:function(u,E){return this.visit(u,E)},visit:function(u,E){var v,T,O,H,Y,te,Oe,bt,We,se;switch(u.type){case"Field":return E===null?null:r(E)?(te=E[u.name],te===void 0?null:te):null;case"Subexpression":for(O=this.visit(u.children[0],E),se=1;se<u.children.length;se++)if(O=this.visit(u.children[1],O),O===null)return null;return O;case"IndexExpression":return Oe=this.visit(u.children[0],E),bt=this.visit(u.children[1],Oe),bt;case"Index":if(!t(E))return null;var Mt=u.value;return Mt<0&&(Mt=E.length+Mt),O=E[Mt],O===void 0&&(O=null),O;case"Slice":if(!t(E))return null;var qg=u.children.slice(0),Cs=this.computeSliceParams(E.length,qg),Hu=Cs[0],Gu=Cs[1],As=Cs[2];if(O=[],As>0)for(se=Hu;se<Gu;se+=As)O.push(E[se]);else for(se=Hu;se>Gu;se+=As)O.push(E[se]);return O;case"Projection":var vt=this.visit(u.children[0],E);if(!t(vt))return null;for(We=[],se=0;se<vt.length;se++)T=this.visit(u.children[1],vt[se]),T!==null&&We.push(T);return We;case"ValueProjection":if(vt=this.visit(u.children[0],E),!r(vt))return null;We=[];var $u=s(vt);for(se=0;se<$u.length;se++)T=this.visit(u.children[1],$u[se]),T!==null&&We.push(T);return We;case"FilterProjection":if(vt=this.visit(u.children[0],E),!t(vt))return null;var bs=[],Vu=[];for(se=0;se<vt.length;se++)v=this.visit(u.children[2],vt[se]),i(v)||bs.push(vt[se]);for(var Is=0;Is<bs.length;Is++)T=this.visit(u.children[1],bs[Is]),T!==null&&Vu.push(T);return Vu;case"Comparator":switch(H=this.visit(u.children[0],E),Y=this.visit(u.children[1],E),u.name){case J:O=n(H,Y);break;case ke:O=!n(H,Y);break;case re:O=H>Y;break;case Ee:O=H>=Y;break;case _e:O=H<Y;break;case he:O=H<=Y;break;default:throw new Error("Unknown comparator: "+u.name)}return O;case Te:var ws=this.visit(u.children[0],E);if(!t(ws))return null;var ei=[];for(se=0;se<ws.length;se++)T=ws[se],t(T)?ei.push.apply(ei,T):ei.push(T);return ei;case"Identity":return E;case"MultiSelectList":if(E===null)return null;for(We=[],se=0;se<u.children.length;se++)We.push(this.visit(u.children[se],E));return We;case"MultiSelectHash":if(E===null)return null;We={};var Ls;for(se=0;se<u.children.length;se++)Ls=u.children[se],We[Ls.name]=this.visit(Ls.value,E);return We;case"OrExpression":return v=this.visit(u.children[0],E),i(v)&&(v=this.visit(u.children[1],E)),v;case"AndExpression":return H=this.visit(u.children[0],E),i(H)===!0?H:this.visit(u.children[1],E);case"NotExpression":return H=this.visit(u.children[0],E),i(H);case"Literal":return u.value;case F:return Oe=this.visit(u.children[0],E),this.visit(u.children[1],Oe);case C:return E;case"Function":var Qu=[];for(se=0;se<u.children.length;se++)Qu.push(this.visit(u.children[se],E));return this.runtime.callFunction(u.name,Qu);case"ExpressionReference":var Yu=u.children[0];return Yu.jmespathType=w,Yu;default:throw new Error("Unknown node type: "+u.type)}},computeSliceParams:function(u,E){var v=E[0],T=E[1],O=E[2],H=[null,null,null];if(O===null)O=1;else if(O===0){var Y=new Error("Invalid slice, step cannot be 0");throw Y.name="RuntimeError",Y}var te=O<0;return v===null?v=te?u-1:0:v=this.capSliceRange(u,v,O),T===null?T=te?-1:u:T=this.capSliceRange(u,T,O),H[0]=v,H[1]=T,H[2]=O,H},capSliceRange:function(u,E,v){return E<0?(E+=u,E<0&&(E=v<0?-1:0)):E>=u&&(E=v<0?u-1:u),E}};function h(u){this._interpreter=u,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[c]}]},avg:{_func:this._functionAvg,_signature:[{types:[G]}]},ceil:{_func:this._functionCeil,_signature:[{types:[c]}]},contains:{_func:this._functionContains,_signature:[{types:[d,m]},{types:[f]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[d]},{types:[d]}]},floor:{_func:this._functionFloor,_signature:[{types:[c]}]},length:{_func:this._functionLength,_signature:[{types:[d,m,g]}]},map:{_func:this._functionMap,_signature:[{types:[b]},{types:[m]}]},max:{_func:this._functionMax,_signature:[{types:[G,B]}]},merge:{_func:this._functionMerge,_signature:[{types:[g],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[m]},{types:[b]}]},sum:{_func:this._functionSum,_signature:[{types:[G]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[d]},{types:[d]}]},min:{_func:this._functionMin,_signature:[{types:[G,B]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[m]},{types:[b]}]},type:{_func:this._functionType,_signature:[{types:[f]}]},keys:{_func:this._functionKeys,_signature:[{types:[g]}]},values:{_func:this._functionValues,_signature:[{types:[g]}]},sort:{_func:this._functionSort,_signature:[{types:[B,G]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[m]},{types:[b]}]},join:{_func:this._functionJoin,_signature:[{types:[d]},{types:[B]}]},reverse:{_func:this._functionReverse,_signature:[{types:[d,m]}]},to_array:{_func:this._functionToArray,_signature:[{types:[f]}]},to_string:{_func:this._functionToString,_signature:[{types:[f]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[f]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[f],variadic:!0}]}}}h.prototype={callFunction:function(u,E){var v=this.functionTable[u];if(v===void 0)throw new Error("Unknown function: "+u+"()");return this._validateArgs(u,E,v._signature),v._func.call(this,E)},_validateArgs:function(u,E,v){var T;if(v[v.length-1].variadic){if(E.length<v.length)throw T=v.length===1?" argument":" arguments",new Error("ArgumentError: "+u+"() takes at least"+v.length+T+" but received "+E.length)}else if(E.length!==v.length)throw T=v.length===1?" argument":" arguments",new Error("ArgumentError: "+u+"() takes "+v.length+T+" but received "+E.length);for(var O,H,Y,te=0;te<v.length;te++){Y=!1,O=v[te].types,H=this._getTypeName(E[te]);for(var Oe=0;Oe<O.length;Oe++)if(this._typeMatches(H,O[Oe],E[te])){Y=!0;break}if(!Y)throw new Error("TypeError: "+u+"() expected argument "+(te+1)+" to be type "+O+" but received type "+H+" instead.")}},_typeMatches:function(u,E,v){if(E===f)return!0;if(E===B||E===G||E===m){if(E===m)return u===m;if(u===m){var T;E===G?T=c:E===B&&(T=d);for(var O=0;O<v.length;O++)if(!this._typeMatches(this._getTypeName(v[O]),T,v[O]))return!1;return!0}}else return u===E},_getTypeName:function(u){switch(Object.prototype.toString.call(u)){case"[object String]":return d;case"[object Number]":return c;case"[object Array]":return m;case"[object Boolean]":return R;case"[object Null]":return x;case"[object Object]":return u.jmespathType===w?b:g}},_functionStartsWith:function(u){return u[0].lastIndexOf(u[1])===0},_functionEndsWith:function(u){var E=u[0],v=u[1];return E.indexOf(v,E.length-v.length)!==-1},_functionReverse:function(u){var E=this._getTypeName(u[0]);if(E===d){for(var v=u[0],T="",O=v.length-1;O>=0;O--)T+=v[O];return T}else{var H=u[0].slice(0);return H.reverse(),H}},_functionAbs:function(u){return Math.abs(u[0])},_functionCeil:function(u){return Math.ceil(u[0])},_functionAvg:function(u){for(var E=0,v=u[0],T=0;T<v.length;T++)E+=v[T];return E/v.length},_functionContains:function(u){return u[0].indexOf(u[1])>=0},_functionFloor:function(u){return Math.floor(u[0])},_functionLength:function(u){return r(u[0])?Object.keys(u[0]).length:u[0].length},_functionMap:function(u){for(var E=[],v=this._interpreter,T=u[0],O=u[1],H=0;H<O.length;H++)E.push(v.visit(T,O[H]));return E},_functionMerge:function(u){for(var E={},v=0;v<u.length;v++){var T=u[v];for(var O in T)E[O]=T[O]}return E},_functionMax:function(u){if(u[0].length>0){var E=this._getTypeName(u[0][0]);if(E===c)return Math.max.apply(Math,u[0]);for(var v=u[0],T=v[0],O=1;O<v.length;O++)T.localeCompare(v[O])<0&&(T=v[O]);return T}else return null},_functionMin:function(u){if(u[0].length>0){var E=this._getTypeName(u[0][0]);if(E===c)return Math.min.apply(Math,u[0]);for(var v=u[0],T=v[0],O=1;O<v.length;O++)v[O].localeCompare(T)<0&&(T=v[O]);return T}else return null},_functionSum:function(u){for(var E=0,v=u[0],T=0;T<v.length;T++)E+=v[T];return E},_functionType:function(u){switch(this._getTypeName(u[0])){case c:return"number";case d:return"string";case m:return"array";case g:return"object";case R:return"boolean";case b:return"expref";case x:return"null"}},_functionKeys:function(u){return Object.keys(u[0])},_functionValues:function(u){for(var E=u[0],v=Object.keys(E),T=[],O=0;O<v.length;O++)T.push(E[v[O]]);return T},_functionJoin:function(u){var E=u[0],v=u[1];return v.join(E)},_functionToArray:function(u){return this._getTypeName(u[0])===m?u[0]:[u[0]]},_functionToString:function(u){return this._getTypeName(u[0])===d?u[0]:JSON.stringify(u[0])},_functionToNumber:function(u){var E=this._getTypeName(u[0]),v;return E===c?u[0]:E===d&&(v=+u[0],!isNaN(v))?v:null},_functionNotNull:function(u){for(var E=0;E<u.length;E++)if(this._getTypeName(u[E])!==x)return u[E];return null},_functionSort:function(u){var E=u[0].slice(0);return E.sort(),E},_functionSortBy:function(u){var E=u[0].slice(0);if(E.length===0)return E;var v=this._interpreter,T=u[1],O=this._getTypeName(v.visit(T,E[0]));if([c,d].indexOf(O)<0)throw new Error("TypeError");for(var H=this,Y=[],te=0;te<E.length;te++)Y.push([te,E[te]]);Y.sort(function(bt,We){var se=v.visit(T,bt[1]),Mt=v.visit(T,We[1]);if(H._getTypeName(se)!==O)throw new Error("TypeError: expected "+O+", received "+H._getTypeName(se));if(H._getTypeName(Mt)!==O)throw new Error("TypeError: expected "+O+", received "+H._getTypeName(Mt));return se>Mt?1:se<Mt?-1:bt[0]-We[0]});for(var Oe=0;Oe<Y.length;Oe++)E[Oe]=Y[Oe][1];return E},_functionMaxBy:function(u){for(var E=u[1],v=u[0],T=this.createKeyFunction(E,[c,d]),O=-1/0,H,Y,te=0;te<v.length;te++)Y=T(v[te]),Y>O&&(O=Y,H=v[te]);return H},_functionMinBy:function(u){for(var E=u[1],v=u[0],T=this.createKeyFunction(E,[c,d]),O=1/0,H,Y,te=0;te<v.length;te++)Y=T(v[te]),Y<O&&(O=Y,H=v[te]);return H},createKeyFunction:function(u,E){var v=this,T=this._interpreter,O=function(H){var Y=T.visit(u,H);if(E.indexOf(v._getTypeName(Y))<0){var te="TypeError: expected one of "+E+", received "+v._getTypeName(Y);throw new Error(te)}return Y};return O}};function l(u){var E=new A,v=E.parse(u);return v}function _(u){var E=new M;return E.tokenize(u)}function D(u,E){var v=new A,T=new h,O=new P(T);T._interpreter=O;var H=v.parse(E);return O.search(H,u)}e.tokenize=_,e.compile=l,e.search=D,e.strictDeepEqual=n})(typeof ms=="undefined"?ms.jmespath={}:ms)});var gs=S((zL,CE)=>{"use strict";CE.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}});var fu=S((XL,PE)=>{"use strict";var{LEVELS:vs,LEVEL_NAMES:xC}=gs(),ar=e=>e,AE={default:ar,60:ar,50:ar,40:ar,30:ar,20:ar,10:ar,message:ar},qC=lu(),cr=new qC.Instance({level:3}),bE={default:cr.white,60:cr.bgRed,50:cr.red,40:cr.yellow,30:cr.green,20:cr.blue,10:cr.grey,message:cr.cyan};function IE(e,t){if(Number.isInteger(+e))return Object.prototype.hasOwnProperty.call(vs,e)?t[e](vs[e]):t.default(vs.default);let r=xC[e.toLowerCase()]||"default";return t[r](vs[r])}function wE(e){return IE(e,AE)}wE.message=AE.message;function LE(e){return IE(e,bE)}LE.message=bE.message;PE.exports=function(t=!1){return t?LE:wE}});var ME=S((hu,DE)=>{(function(e){"use strict";var t=function(){var o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g;return function(f,d,m,g){if(arguments.length===1&&s(f)==="string"&&!/\d/.test(f)&&(d=f,f=void 0),f=f||new Date,f instanceof Date||(f=new Date(f)),isNaN(f))throw TypeError("Invalid date");d=String(t.masks[d]||d||t.masks.default);var R=d.slice(0,4);(R==="UTC:"||R==="GMT:")&&(d=d.slice(4),m=!0,R==="GMT:"&&(g=!0));var b=m?"getUTC":"get",x=f[b+"Date"](),G=f[b+"Day"](),B=f[b+"Month"](),ee=f[b+"FullYear"](),V=f[b+"Hours"](),N=f[b+"Minutes"](),y=f[b+"Seconds"](),I=f[b+"Milliseconds"](),z=m?0:f.getTimezoneOffset(),U=n(f),Q=i(f),ie={d:x,dd:r(x),ddd:t.i18n.dayNames[G],dddd:t.i18n.dayNames[G+7],m:B+1,mm:r(B+1),mmm:t.i18n.monthNames[B],mmmm:t.i18n.monthNames[B+12],yy:String(ee).slice(2),yyyy:ee,h:V%12||12,hh:r(V%12||12),H:V,HH:r(V),M:N,MM:r(N),s:y,ss:r(y),l:r(I,3),L:r(Math.round(I/10)),t:V<12?t.i18n.timeNames[0]:t.i18n.timeNames[1],tt:V<12?t.i18n.timeNames[2]:t.i18n.timeNames[3],T:V<12?t.i18n.timeNames[4]:t.i18n.timeNames[5],TT:V<12?t.i18n.timeNames[6]:t.i18n.timeNames[7],Z:g?"GMT":m?"UTC":(String(f).match(a)||[""]).pop().replace(c,""),o:(z>0?"-":"+")+r(Math.floor(Math.abs(z)/60)*100+Math.abs(z)%60,4),S:["th","st","nd","rd"][x%10>3?0:(x%100-x%10!=10)*x%10],W:U,N:Q};return d.replace(o,function(C){return C in ie?ie[C]:C.slice(1,C.length-1)})}}();t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function r(o,a){for(o=String(o),a=a||2;o.length<a;)o="0"+o;return o}function n(o){var a=new Date(o.getFullYear(),o.getMonth(),o.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var c=new Date(a.getFullYear(),0,4);c.setDate(c.getDate()-(c.getDay()+6)%7+3);var f=a.getTimezoneOffset()-c.getTimezoneOffset();a.setHours(a.getHours()-f);var d=(a-c)/(864e5*7);return 1+Math.floor(d)}function i(o){var a=o.getDay();return a===0&&(a=7),a}function s(o){return o===null?"null":o===void 0?"undefined":typeof o!="object"?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase()}typeof define=="function"&&define.amd?define(function(){return t}):typeof hu=="object"?DE.exports=t:e.dateFormat=t})(hu)});var HE=S((KL,pu)=>{"use strict";var Qn=ME(),FC=Zc(),xE=fu()(),{DATE_FORMAT:kE,ERROR_LIKE_KEYS:qE,MESSAGE_KEY:FE,LEVEL_KEY:UC,TIMESTAMP_KEY:BC,LOGGER_KEYS:UE}=gs();pu.exports={isObject:jE,prettifyErrorLog:jC,prettifyLevel:WC,prettifyMessage:HC,prettifyMetadata:GC,prettifyObject:WE,prettifyTime:$C};pu.exports.internals={formatTime:BE,joinLinesWithIndentation:du};function BE(e,t=!1){if(t===!1)return e;let r=new Date(e);if(t===!0)return Qn(r,"UTC:"+kE);let n=t.toUpperCase();if(n==="SYS:STANDARD")return Qn(r,kE);let i=n.substr(0,4);return i==="SYS:"||i==="UTC:"?i==="UTC:"?Qn(r,t):Qn(r,t.slice(4)):Qn(r,`UTC:${t}`)}function jE(e){return Object.prototype.toString.apply(e)==="[object Object]"}function du({input:e,ident:t="    ",eol:r=`
`}){let n=e.split(/\r?\n/);for(var i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}function jC({log:e,messageKey:t=FE,ident:r="    ",eol:n=`
`,errorLikeKeys:i=qE,errorProperties:s=[]}){let o=e.stack,a=du({input:o,ident:r,eol:n}),c=`${r}${a}${n}`;if(s.length>0){let d=UE.concat(t,"type","stack"),m;s[0]==="*"?m=Object.keys(e).filter(g=>d.includes(g)===!1):m=s.filter(g=>d.includes(g)===!1);for(var f=0;f<m.length;f+=1){let g=m[f];if(g in e){if(jE(e[g])){let R=WE({input:e[g],errorLikeKeys:i,excludeLoggerKeys:!1,eol:n,ident:r});c=`${c}${g}: {${n}${R}}${n}`;continue}c=`${c}${g}: ${e[g]}${n}`}}}return c}function WC({log:e,colorizer:t=xE,levelKey:r=UC}){if(r in e)return t(e[r])}function HC({log:e,messageFormat:t,messageKey:r=FE,colorizer:n=xE}){if(t){let i=String(t).replace(/{([^{}]+)}/g,function(s,o){return o&&e[o]?e[o]:""});return n.message(i)}if(r in e&&typeof e[r]=="string")return n.message(e[r])}function GC({log:e}){let t="";if((e.name||e.pid||e.hostname)&&(t+="(",e.name&&(t+=e.name),e.name&&e.pid?t+="/"+e.pid:e.pid&&(t+=e.pid),e.hostname&&(t+=`${t==="("?"on":" on"} ${e.hostname}`),t+=")"),e.caller&&(t+=`${t===""?"":" "}<${e.caller}>`),t!=="")return t}function WE({input:e,ident:t="    ",eol:r=`
`,skipKeys:n=[],customPrettifiers:i={},errorLikeKeys:s=qE,excludeLoggerKeys:o=!0}){let a=Object.keys(e),c=[].concat(n);o===!0&&Array.prototype.push.apply(c,UE);let f="",d=a.filter(R=>c.includes(R)===!1);for(var m=0;m<a.length;m+=1){let R=d[m],b=e[R];if(b===void 0)continue;let x;if(typeof i[R]=="function"?x=i[R](b,R,e):x=FC(b,null,2),x===void 0)continue;let G=du({input:x,ident:t,eol:r});if(s.includes(R)===!0){let B=`${t}${R}: ${G}${r}`.split(r);for(var g=0;g<B.length;g+=1){g!==0&&(f+=r);let ee=B[g];if(/^\s*"stack"/.test(ee)){let V=/^(\s*"stack":)\s*(".*"),?$/.exec(ee);if(V&&V.length===3){let N=/^\s*/.exec(ee)[0].length+4,y=" ".repeat(N),I=V[2];f+=V[1]+r+y+JSON.parse(I).replace(/\n/g,r+y)}}else f+=ee}}else f+=`${t}${R}: ${G}${r}`}return f}function $C({log:e,timestampKey:t=BC,translateFormat:r=void 0}){let n=null;if(t in e?n=e[t]:"timestamp"in e&&(n=e.timestamp),n!==null)return r?"["+BE(n,r)+"]":`[${n}]`}});var GE=S(rn=>{"use strict";var VC={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/};rn.parse=function(e,...t){let r=typeof t[0]=="object"&&t[0],n=t.length>1||!r?t[0]:void 0,i=t.length>1&&t[1]||r||{},s=JSON.parse(e,n);return i.protoAction==="ignore"||!s||typeof s!="object"||!e.match(VC.suspectRx)||rn.scan(s,i),s};rn.scan=function(e,t={}){let r=[e];for(;r.length;){let n=r;r=[];for(let i of n){if(Object.prototype.hasOwnProperty.call(i,"__proto__")){if(t.protoAction!=="remove")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}for(let s in i){let o=i[s];o&&typeof o=="object"&&r.push(i[s])}}}};rn.safeParse=function(e,t){try{return rn.parse(e,t)}catch(r){return null}}});var QE=S((ZL,VE)=>{"use strict";var QC=lu(),YC=OE(),zC=fu(),{ERROR_LIKE_KEYS:XC,MESSAGE_KEY:KC,TIMESTAMP_KEY:JC}=gs(),{isObject:$E,prettifyErrorLog:ZC,prettifyLevel:eA,prettifyMessage:tA,prettifyMetadata:rA,prettifyObject:nA,prettifyTime:iA}=HE(),sA=GE(),oA=e=>{try{return{value:sA.parse(e,{protoAction:"remove"})}}catch(t){return{err:t}}},aA={colorize:QC.supportsColor,crlf:!1,errorLikeObjectKeys:XC,errorProps:"",levelFirst:!1,messageKey:KC,messageFormat:!1,timestampKey:JC,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}};VE.exports=function(t){let r=Object.assign({},aA,t),n=r.crlf?`\r
`:`
`,i="    ",s=r.messageKey,o=r.levelKey,a=r.messageFormat,c=r.timestampKey,f=r.errorLikeObjectKeys,d=r.errorProps.split(","),m=r.customPrettifiers,g=r.ignore?new Set(r.ignore.split(",")):void 0,R=zC(r.colorize),b=r.search;return x;function x(G){let B;if($E(G))B=G;else{let z=oA(G);if(z.err||!$E(z.value))return G+n;B=z.value}if(b&&!YC.search(B,b))return;let ee=tA({log:B,messageKey:s,colorizer:R,messageFormat:a});g&&(B=Object.keys(B).filter(z=>!g.has(z)).reduce((z,U)=>(z[U]=B[U],z),{}));let V=eA({log:B,colorizer:R,levelKey:o}),N=rA({log:B}),y=iA({log:B,translateFormat:r.translateTime,timestampKey:c}),I="";if(r.levelFirst&&V&&(I=`${V}`),y&&I===""?I=`${y}`:y&&(I=`${I} ${y}`),!r.levelFirst&&V&&(I.length>0?I=`${I} ${V}`:I=V),N&&(I=`${I} ${N}:`),I.endsWith(":")===!1&&I!==""&&(I+=":"),ee&&(I=`${I} ${ee}`),I.length>0&&(I+=n),B.type==="Error"&&B.stack){let z=ZC({log:B,errorLikeKeys:f,errorProperties:d,ident:i,eol:n});I+=z}else{let z=[s,o,c].filter(Q=>typeof B[Q]=="string"||typeof B[Q]=="number"),U=nA({input:B,skipKeys:z,customPrettifiers:m,errorLikeKeys:f,eol:n,ident:i});I+=U}return I}}});var Ts=S((eP,sm)=>{"use strict";var YE=Hp(),{mapHttpRequest:cA,mapHttpResponse:uA}=Wc(),ZE=Xc(),lA=Zc(),{lsCacheSym:fA,chindingsSym:gu,parsedChindingsSym:Eu,writeSym:zE,serializersSym:vu,formatOptsSym:XE,endSym:hA,stringifiersSym:yu,stringifySym:em,wildcardFirstSym:tm,needsMetadataGsym:rm,redactFmtSym:dA,streamSym:pA,nestedKeySym:KE,formattersSym:Tu,messageKeySym:nm}=Xr();function Yn(){}function EA(e,t){if(!t)return r;return function(...i){t.call(this,i,r)};function r(n,...i){if(typeof n=="object"){var s=n;n!==null&&(n.method&&n.headers&&n.socket?n=cA(n):typeof n.setHeader=="function"&&(n=uA(n))),this[KE]&&(n={[this[KE]]:n});var o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),this[zE](n,YE(s,o,this[XE]),e)}else this[zE](null,YE(n,i,this[XE]),e)}}function mA(e){var t="",r=0,n=!1,i=255;let s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function gA(e,t,r,n){let i=this[em],s=this[yu],o=this[hA],a=this[gu],c=this[vu],f=this[Tu],d=this[nm];var m=this[fA][r]+n;m=m+a;var g,R=e.hasOwnProperty===void 0;f.log&&(e=f.log(e)),t!==void 0&&(e[d]=t);let b=s[tm];for(var x in e)if(g=e[x],(R||e.hasOwnProperty(x))&&g!==void 0){g=c[x]?c[x](g):g;let G=s[x]||b;switch(typeof g){case"undefined":case"function":continue;case"number":Number.isFinite(g)===!1&&(g=null);case"boolean":G&&(g=G(g));break;case"string":g=(G||mA)(g);break;default:g=(G||i)(g)}if(g===void 0)continue;m+=',"'+x+'":'+g}return m+o}function vA(e,t){var r,n,i=e[gu];let s=e[em],o=e[yu],a=o[tm],c=e[vu],f=e[Tu].bindings;t=f(t);for(r in t)if(n=t[r],(r!=="level"&&r!=="serializers"&&r!=="formatters"&&r!=="customLevels"&&t.hasOwnProperty(r)&&n!==void 0)===!0){if(n=c[r]?c[r](n):n,n=(o[r]||a||s)(n),n===void 0)continue;i+=',"'+r+'":'+n}return i}function im(e,t,r,n){if(t&&typeof t=="function")return t=t.bind(n),mu(t(e),r,e);try{var i=QE();return i.asMetaWrapper=mu,mu(i(e),r,e)}catch(s){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function mu(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[rm]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){r.suppressFlushSyncWarning||n||(n=!0,JE(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let i=this.lastLogger;var s=null;return i?(i.hasOwnProperty(Eu)?s=i[Eu]:(s=JSON.parse("{"+i[gu].substr(1)+"}"),i[Eu]=s),s):null},write(i){let s=this.lastLogger,o=this.chindings();var a=this.lastTime;a.match(/^\d+/)&&(a=parseInt(a));var c=this.lastObj,f=this.lastMsg,d=null;let m=s[Tu],g=m.log?m.log(c):c,R=s[nm];f&&g&&!g.hasOwnProperty(R)&&(g[R]=f);let b=Object.assign({level:this.lastLevel,time:a},g,d),x=s[vu],G=Object.keys(x);for(var B,ee=0;ee<G.length;ee++)B=G[ee],b[B]!==void 0&&(b[B]=x[B](b[B]));for(B in o)b.hasOwnProperty(B)||(b[B]=o[B]);let N=s[yu][dA],y=e(typeof N=="function"?N(b):b);y!==void 0&&(JE(t,this),t.write(y))}}}function yA(e){return e.write!==e.constructor.prototype.write}function ys(e){let t=new ZE(e);return t.on("error",r),t;function r(n){if(n.code==="EPIPE"){t.write=Yn,t.end=Yn,t.flushSync=Yn,t.destroy=Yn;return}t.removeListener("error",r),t.emit("error",n)}}function TA(e){return function(r,n={},i){if(typeof n=="string"?(i=ys({dest:n,sync:!0}),n={}):typeof i=="string"?i=ys({dest:i,sync:!0}):(n instanceof ZE||n.writable||n._writableState)&&(i=n,n=null),n=Object.assign({},e,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);let{enabled:s,prettyPrint:o,prettifier:a,messageKey:c}=n;if(s===!1&&(n.level="silent"),i=i||process.stdout,i===process.stdout&&i.fd>=0&&!yA(i)&&(i=ys({fd:i.fd,sync:!0})),o){let f=Object.assign({messageKey:c},o);i=im(f,a,i,r)}return{opts:n,stream:i}}}function RA(e,t){if(typeof e=="undefined"||typeof e.child!="function")throw Error("expected a pino logger instance");let r=typeof t!="undefined";if(r&&typeof t!="function")throw Error("if supplied, the handler parameter should be a function");let n=e[pA];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");let i=new Proxy(e,{get:(s,o)=>o in s.levels.values?(...a)=>{s[o](...a),n.flushSync()}:s[o]});return r?(s=null,...o)=>{try{n.flushSync()}catch(a){}return t(s,i,...o)}:i}function _A(e){try{return JSON.stringify(e)}catch(t){return lA(e)}}function SA(e,t,r){return{level:e,bindings:t,log:r}}function JE(e,t){e[rm]===!0&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}sm.exports={noop:Yn,buildSafeSonicBoom:ys,getPrettyStream:im,asChindings:vA,asJson:gA,genLog:EA,createArgsNormalizer:TA,final:RA,stringify:_A,buildFormatters:SA}});var Su=S((tP,am)=>{"use strict";var NA=cs(),{lsCacheSym:OA,levelValSym:Ru,useOnlyCustomLevelsSym:CA,streamSym:AA,formattersSym:bA,hooksSym:IA}=Xr(),{noop:wA,genLog:Tr}=Ts(),Pt={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},om={fatal:e=>{let t=Tr(Pt.fatal,e);return function(...r){let n=this[AA];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch(i){}}},error:e=>Tr(Pt.error,e),warn:e=>Tr(Pt.warn,e),info:e=>Tr(Pt.info,e),debug:e=>Tr(Pt.debug,e),trace:e=>Tr(Pt.trace,e)},_u=Object.keys(Pt).reduce((e,t)=>(e[Pt[t]]=t,e),{}),LA=Object.keys(_u).reduce((e,t)=>(e[t]=NA('{"level":'+Number(t)),e),{});function PA(e){let t=e[bA].level,{labels:r}=e.levels,n={};for(let i in r){let s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[OA]=n,e}function DA(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function MA(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[Ru],i=this[Ru]=r[e],s=this[CA],o=this[IA].logMethod;for(var a in r){if(i>r[a]){this[a]=wA;continue}this[a]=DA(a,s)?om[a](o):Tr(r[a],o)}this.emit("level-change",e,i,t[n],n)}function kA(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function xA(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[Ru]}function qA(e=null,t=!1){let r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:_u,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:Pt,e);return{labels:n,values:i}}function FA(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(_u).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:Pt,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function UA(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}am.exports={initialLsCache:LA,genLsCache:PA,levelMethods:om,getLevel:kA,setLevel:MA,isLevelEnabled:xA,mappings:qA,assertNoLevelCollisions:UA,assertDefaultLevelFound:FA}});var cm=S((rP,BA)=>{BA.exports={name:"pino",version:"6.5.1",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",test:"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"3.0.0",benchmark:"^2.1.4",bole:"^4.0.0",bunyan:"^1.8.14","docsify-cli":"^4.4.1",execa:"^4.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^6.0.0",loglevel:"^1.6.7","pino-pretty":"^4.1.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^7.0.0",snazzy:"^8.0.0",split2:"^3.1.1",standard:"^14.3.3",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^14.10.8",tape:"^5.0.0",through2:"^4.0.0",winston:"^3.3.3"},dependencies:{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7",flatstr:"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.2"}}});var Nu=S((nP,um)=>{"use strict";var{version:jA}=cm();um.exports={version:jA}});var vm=S((sP,gm)=>{"use strict";var{EventEmitter:WA}=require("events"),HA=Xc(),GA=cs(),{lsCacheSym:$A,levelValSym:VA,setLevelSym:Cu,getLevelSym:lm,chindingsSym:Au,parsedChindingsSym:QA,mixinSym:YA,asJsonSym:dm,writeSym:zA,timeSym:XA,timeSliceIndexSym:KA,streamSym:pm,serializersSym:Rr,formattersSym:Ou,useOnlyCustomLevelsSym:JA,needsMetadataGsym:ZA}=Xr(),{getLevel:eb,setLevel:tb,isLevelEnabled:rb,mappings:nb,initialLsCache:ib,genLsCache:sb,assertNoLevelCollisions:ob}=Su(),{asChindings:Em,asJson:ab,buildFormatters:fm}=Ts(),{version:cb}=Nu(),ub=class{},mm={constructor:ub,child:lb,bindings:fb,setBindings:hb,flush:pb,isLevelEnabled:rb,version:cb,get level(){return this[lm]()},set level(e){this[Cu](e)},get levelVal(){return this[VA]},set levelVal(e){throw Error("levelVal is read-only")},[$A]:ib,[zA]:db,[dm]:ab,[lm]:eb,[Cu]:tb};Object.setPrototypeOf(mm,WA.prototype);gm.exports=function(){return Object.create(mm)};var hm=e=>e;function lb(e){if(!e)throw Error("missing bindings for child Pino");let t=this[Rr],r=this[Ou],n=Object.create(this);if(e.hasOwnProperty("serializers")===!0){n[Rr]=Object.create(null);for(var i in t)n[Rr][i]=t[i];let f=Object.getOwnPropertySymbols(t);for(var s=0;s<f.length;s++){let m=f[s];n[Rr][m]=t[m]}for(var o in e.serializers)n[Rr][o]=e.serializers[o];let d=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<d.length;a++){let m=d[a];n[Rr][m]=e.serializers[m]}}else n[Rr]=t;if(e.hasOwnProperty("formatters")){let{level:f,bindings:d,log:m}=e.formatters;n[Ou]=fm(f||r.level,d||hm,m||r.log)}else n[Ou]=fm(r.level,hm,r.log);e.hasOwnProperty("customLevels")===!0&&(ob(this.levels,e.customLevels),n.levels=nb(e.customLevels,n[JA]),sb(n)),n[Au]=Em(n,e);let c=e.level||this.level;return n[Cu](c),n}function fb(){var t=`{${this[Au].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function hb(e){let t=Em(this,e);this[Au]=t,delete this[QA]}function db(e,t,r){let n=this[XA](),i=this[YA],s=e instanceof Error;var o;e==null?o=i?i():{}:(o=Object.assign(i?i():{},e),!t&&s&&(t=e.message),s&&(o.stack=e.stack,o.type||(o.type="Error")));let a=this[dm](o,t,r,n),c=this[pm];c[ZA]===!0&&(c.lastLevel=r,c.lastObj=o,c.lastMsg=t,c.lastTime=n.slice(this[KA]),c.lastLogger=this),c instanceof HA?c.write(a):c.write(GA(a))}function pb(){let e=this[pm];"flush"in e&&e.flush()}});var wm=S((oP,Im)=>{"use strict";var Eb=require("os"),Nm=Wc(),mb=Mp(),Om=xp(),gb=vm(),Cm=Xr(),{assertDefaultLevelFound:vb,mappings:Am,genLsCache:yb}=Su(),{createArgsNormalizer:Tb,asChindings:Rb,final:_b,stringify:Rs,buildSafeSonicBoom:bu,buildFormatters:Sb,noop:Nb}=Ts(),{version:Ob}=Nu(),{chindingsSym:ym,redactFmtSym:Cb,serializersSym:Tm,timeSym:Ab,timeSliceIndexSym:bb,streamSym:Ib,stringifySym:Rm,stringifiersSym:_m,setLevelSym:wb,endSym:Lb,formatOptsSym:Pb,messageKeySym:Db,nestedKeySym:Mb,mixinSym:kb,useOnlyCustomLevelsSym:xb,formattersSym:Sm,hooksSym:qb}=Cm,{epochTime:bm,nullTime:Fb}=Om,{pid:Ub}=process,Bb=Eb.hostname(),jb=Nm.err,Iu={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:Ub,hostname:Bb},serializers:Object.assign(Object.create(null),{err:jb}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:bm,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},Wb=Tb(Iu),Hb=Object.assign(Object.create(null),Nm);function $t(...e){let t={},{opts:r,stream:n}=Wb(t,...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:c,nestedKey:f,base:d,name:m,level:g,customLevels:R,useLevelLabels:b,changeLevelName:x,levelKey:G,mixin:B,useOnlyCustomLevels:ee,formatters:V,hooks:N}=r,y=Sb(V.level,V.bindings,V.log);b&&!(x||G)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),y.level=Gb):(x||G)&&!b?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=$b(x||G)):(x||G)&&b&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),y.level=Vb(x||G)),o[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),y.log=o[Symbol.for("pino.*")]),y.bindings||(y.bindings=Iu.formatters.bindings),y.level||(y.level=Iu.formatters.level);let I=i?mb(i,Rs):{},z=i?{stringify:I[Cb]}:{stringify:Rs},U="}"+(s?`\r
`:`
`),Q=Rb.bind(null,{[ym]:"",[Tm]:o,[_m]:I,[Rm]:Rs,[Sm]:y}),ie=d===null?"":Q(m===void 0?d:Object.assign({},d,{name:m})),C=a instanceof Function?a:a?bm:Fb,w=C().indexOf(":")+1;if(ee&&!R)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(B&&typeof B!="function")throw Error(`Unknown mixin type "${typeof B}" - expected "function"`);vb(g,R,ee);let F=Am(R,ee);return Object.assign(t,{levels:F,[xb]:ee,[Ib]:n,[Ab]:C,[bb]:w,[Rm]:Rs,[_m]:I,[Lb]:U,[Pb]:z,[Db]:c,[Mb]:f,[Tm]:o,[kb]:B,[ym]:ie,[Sm]:y,[qb]:N,silent:Nb}),Object.setPrototypeOf(t,gb()),yb(t),t[wb](g),t}function Gb(e,t){return{level:e}}function $b(e){return function(t,r){return{[e]:r}}}function Vb(e){return function(t,r){return{[e]:t}}}$t.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),bu({dest:e,minLength:4096,sync:!1}));$t.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=e.dest||process.stdout.fd,bu(e)):bu({dest:e,minLength:0,sync:!0});$t.final=_b;$t.levels=Am();$t.stdSerializers=Hb;$t.stdTimeFunctions=Object.assign({},Om);$t.symbols=Cm;$t.version=Ob;Im.exports=$t});var Lm=S(_r=>{"use strict";var wu=_r&&_r.__assign||function(){return wu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},wu.apply(this,arguments)},Qb=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};_r.__esModule=!0;var Yb=Qb(wm());function zb(e,t){e===void 0&&(e={});var r=Yb.default(wu({name:"ls",base:{},level:"info",formatters:{level:function(n){return{level:n}}},prettyPrint:!0},e),t);return r.show=function(){},r}_r.default=zb});var Pm=S(zn=>{"use strict";var Xb=zn&&zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};zn.__esModule=!0;var Kb=Xb(Lm());zn.default=Kb.default()});var Dm=S(Sr=>{"use strict";var _s=Sr&&Sr.__assign||function(){return _s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_s.apply(this,arguments)};Sr.__esModule=!0;Sr.createLogger=void 0;var Ss;Ss=Pm().default;function Jb(e,t){return t===void 0&&(t={}),e?Ss.child(_s(_s({},t),{ns:e})):Ss}Sr.createLogger=Jb;Sr.default=Ss});var Mm=S((Xn,Lu)=>{(function(e,t){if(typeof Xn=="object"&&typeof Lu=="object")Lu.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof Xn=="object"?Xn:e)[n]=r[n]}})(Xn,function(){return(()=>{"use strict";var e={470:r=>{function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function i(o,a){for(var c,f="",d=0,m=-1,g=0,R=0;R<=o.length;++R){if(R<o.length)c=o.charCodeAt(R);else{if(c===47)break;c=47}if(c===47){if(!(m===R-1||g===1))if(m!==R-1&&g===2){if(f.length<2||d!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var b=f.lastIndexOf("/");if(b!==f.length-1){b===-1?(f="",d=0):d=(f=f.slice(0,b)).length-1-f.lastIndexOf("/"),m=R,g=0;continue}}else if(f.length===2||f.length===1){f="",d=0,m=R,g=0;continue}}a&&(f.length>0?f+="/..":f="..",d=2)}else f.length>0?f+="/"+o.slice(m+1,R):f=o.slice(m+1,R),d=R-m-1;m=R,g=0}else c===46&&g!==-1?++g:g=-1}return f}var s={resolve:function(){for(var o,a="",c=!1,f=arguments.length-1;f>=-1&&!c;f--){var d;f>=0?d=arguments[f]:(o===void 0&&(o=process.cwd()),d=o),n(d),d.length!==0&&(a=d+"/"+a,c=d.charCodeAt(0)===47)}return a=i(a,!c),c?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(o){if(n(o),o.length===0)return".";var a=o.charCodeAt(0)===47,c=o.charCodeAt(o.length-1)===47;return(o=i(o,!a)).length!==0||a||(o="."),o.length>0&&c&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var c=arguments[a];n(c),c.length>0&&(o===void 0?o=c:o+="/"+c)}return o===void 0?".":s.normalize(o)},relative:function(o,a){if(n(o),n(a),o===a||(o=s.resolve(o))===(a=s.resolve(a)))return"";for(var c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var f=o.length,d=f-c,m=1;m<a.length&&a.charCodeAt(m)===47;++m);for(var g=a.length-m,R=d<g?d:g,b=-1,x=0;x<=R;++x){if(x===R){if(g>R){if(a.charCodeAt(m+x)===47)return a.slice(m+x+1);if(x===0)return a.slice(m+x)}else d>R&&(o.charCodeAt(c+x)===47?b=x:x===0&&(b=0));break}var G=o.charCodeAt(c+x);if(G!==a.charCodeAt(m+x))break;G===47&&(b=x)}var B="";for(x=c+b+1;x<=f;++x)x!==f&&o.charCodeAt(x)!==47||(B.length===0?B+="..":B+="/..");return B.length>0?B+a.slice(m+b):(m+=b,a.charCodeAt(m)===47&&++m,a.slice(m))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var a=o.charCodeAt(0),c=a===47,f=-1,d=!0,m=o.length-1;m>=1;--m)if((a=o.charCodeAt(m))===47){if(!d){f=m;break}}else d=!1;return f===-1?c?"/":".":c&&f===1?"//":o.slice(0,f)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');n(o);var c,f=0,d=-1,m=!0;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var g=a.length-1,R=-1;for(c=o.length-1;c>=0;--c){var b=o.charCodeAt(c);if(b===47){if(!m){f=c+1;break}}else R===-1&&(m=!1,R=c+1),g>=0&&(b===a.charCodeAt(g)?--g==-1&&(d=c):(g=-1,d=R))}return f===d?d=R:d===-1&&(d=o.length),o.slice(f,d)}for(c=o.length-1;c>=0;--c)if(o.charCodeAt(c)===47){if(!m){f=c+1;break}}else d===-1&&(m=!1,d=c+1);return d===-1?"":o.slice(f,d)},extname:function(o){n(o);for(var a=-1,c=0,f=-1,d=!0,m=0,g=o.length-1;g>=0;--g){var R=o.charCodeAt(g);if(R!==47)f===-1&&(d=!1,f=g+1),R===46?a===-1?a=g:m!==1&&(m=1):a!==-1&&(m=-1);else if(!d){c=g+1;break}}return a===-1||f===-1||m===0||m===1&&a===f-1&&a===c+1?"":o.slice(a,f)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return function(a,c){var f=c.dir||c.root,d=c.base||(c.name||"")+(c.ext||"");return f?f===c.root?f+d:f+"/"+d:d}(0,o)},parse:function(o){n(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var c,f=o.charCodeAt(0),d=f===47;d?(a.root="/",c=1):c=0;for(var m=-1,g=0,R=-1,b=!0,x=o.length-1,G=0;x>=c;--x)if((f=o.charCodeAt(x))!==47)R===-1&&(b=!1,R=x+1),f===46?m===-1?m=x:G!==1&&(G=1):m!==-1&&(G=-1);else if(!b){g=x+1;break}return m===-1||R===-1||G===0||G===1&&m===R-1&&m===g+1?R!==-1&&(a.base=a.name=g===0&&d?o.slice(1,R):o.slice(g,R)):(g===0&&d?(a.name=o.slice(1,m),a.base=o.slice(1,R)):(a.name=o.slice(g,m),a.base=o.slice(g,R)),a.ext=o.slice(m,R)),g>0?a.dir=o.slice(0,g-1):d&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,r.exports=s},465:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=n.URI=void 0;var s=i(796);Object.defineProperty(n,"URI",{enumerable:!0,get:function(){return s.URI}});var o=i(679);Object.defineProperty(n,"Utils",{enumerable:!0,get:function(){return o.Utils}})},674:(r,n)=>{if(Object.defineProperty(n,"__esModule",{value:!0}),n.isWindows=void 0,typeof process=="object")n.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;n.isWindows=i.indexOf("Windows")>=0}},796:function(r,n,i){var s,o,a=this&&this.__extends||(s=function(C,w){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,W){F.__proto__=W}||function(F,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(F[Z]=W[Z])})(C,w)},function(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function F(){this.constructor=C}s(C,w),C.prototype=w===null?Object.create(w):(F.prototype=w.prototype,new F)});Object.defineProperty(n,"__esModule",{value:!0}),n.uriToFsPath=n.URI=void 0;var c=i(674),f=/^\w[\w\d+.-]*$/,d=/^\//,m=/^\/\//;function g(C,w){if(!C.scheme&&w)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(C.authority,'", path: "').concat(C.path,'", query: "').concat(C.query,'", fragment: "').concat(C.fragment,'"}'));if(C.scheme&&!f.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!d.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(m.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var R="",b="/",x=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,G=function(){function C(w,F,W,Z,J,re){re===void 0&&(re=!1),typeof w=="object"?(this.scheme=w.scheme||R,this.authority=w.authority||R,this.path=w.path||R,this.query=w.query||R,this.fragment=w.fragment||R):(this.scheme=function(_e,Ee){return _e||Ee?_e:"file"}(w,re),this.authority=F||R,this.path=function(_e,Ee){switch(_e){case"https":case"http":case"file":Ee?Ee[0]!==b&&(Ee=b+Ee):Ee=b}return Ee}(this.scheme,W||R),this.query=Z||R,this.fragment=J||R,g(this,re))}return C.isUri=function(w){return w instanceof C||!!w&&typeof w.authority=="string"&&typeof w.fragment=="string"&&typeof w.path=="string"&&typeof w.query=="string"&&typeof w.scheme=="string"&&typeof w.fsPath=="string"&&typeof w.with=="function"&&typeof w.toString=="function"},Object.defineProperty(C.prototype,"fsPath",{get:function(){return I(this,!1)},enumerable:!1,configurable:!0}),C.prototype.with=function(w){if(!w)return this;var F=w.scheme,W=w.authority,Z=w.path,J=w.query,re=w.fragment;return F===void 0?F=this.scheme:F===null&&(F=R),W===void 0?W=this.authority:W===null&&(W=R),Z===void 0?Z=this.path:Z===null&&(Z=R),J===void 0?J=this.query:J===null&&(J=R),re===void 0?re=this.fragment:re===null&&(re=R),F===this.scheme&&W===this.authority&&Z===this.path&&J===this.query&&re===this.fragment?this:new ee(F,W,Z,J,re)},C.parse=function(w,F){F===void 0&&(F=!1);var W=x.exec(w);return W?new ee(W[2]||R,ie(W[4]||R),ie(W[5]||R),ie(W[7]||R),ie(W[9]||R),F):new ee(R,R,R,R,R)},C.file=function(w){var F=R;if(c.isWindows&&(w=w.replace(/\\/g,b)),w[0]===b&&w[1]===b){var W=w.indexOf(b,2);W===-1?(F=w.substring(2),w=b):(F=w.substring(2,W),w=w.substring(W)||b)}return new ee("file",F,w,R,R)},C.from=function(w){var F=new ee(w.scheme,w.authority,w.path,w.query,w.fragment);return g(F,!0),F},C.prototype.toString=function(w){return w===void 0&&(w=!1),z(this,w)},C.prototype.toJSON=function(){return this},C.revive=function(w){if(w){if(w instanceof C)return w;var F=new ee(w);return F._formatted=w.external,F._fsPath=w._sep===B?w.fsPath:null,F}return w},C}();n.URI=G;var B=c.isWindows?1:void 0,ee=function(C){function w(){var F=C!==null&&C.apply(this,arguments)||this;return F._formatted=null,F._fsPath=null,F}return a(w,C),Object.defineProperty(w.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=I(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),w.prototype.toString=function(F){return F===void 0&&(F=!1),F?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)},w.prototype.toJSON=function(){var F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=B),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F},w}(G),V=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function N(C,w){for(var F=void 0,W=-1,Z=0;Z<C.length;Z++){var J=C.charCodeAt(Z);if(J>=97&&J<=122||J>=65&&J<=90||J>=48&&J<=57||J===45||J===46||J===95||J===126||w&&J===47)W!==-1&&(F+=encodeURIComponent(C.substring(W,Z)),W=-1),F!==void 0&&(F+=C.charAt(Z));else{F===void 0&&(F=C.substr(0,Z));var re=V[J];re!==void 0?(W!==-1&&(F+=encodeURIComponent(C.substring(W,Z)),W=-1),F+=re):W===-1&&(W=Z)}}return W!==-1&&(F+=encodeURIComponent(C.substring(W))),F!==void 0?F:C}function y(C){for(var w=void 0,F=0;F<C.length;F++){var W=C.charCodeAt(F);W===35||W===63?(w===void 0&&(w=C.substr(0,F)),w+=V[W]):w!==void 0&&(w+=C[F])}return w!==void 0?w:C}function I(C,w){var F;return F=C.authority&&C.path.length>1&&C.scheme==="file"?"//".concat(C.authority).concat(C.path):C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?w?C.path.substr(1):C.path[1].toLowerCase()+C.path.substr(2):C.path,c.isWindows&&(F=F.replace(/\//g,"\\")),F}function z(C,w){var F=w?y:N,W="",Z=C.scheme,J=C.authority,re=C.path,_e=C.query,Ee=C.fragment;if(Z&&(W+=Z,W+=":"),(J||Z==="file")&&(W+=b,W+=b),J){var he=J.indexOf("@");if(he!==-1){var ke=J.substr(0,he);J=J.substr(he+1),(he=ke.indexOf(":"))===-1?W+=F(ke,!1):(W+=F(ke.substr(0,he),!1),W+=":",W+=F(ke.substr(he+1),!1)),W+="@"}(he=(J=J.toLowerCase()).indexOf(":"))===-1?W+=F(J,!1):(W+=F(J.substr(0,he),!1),W+=J.substr(he))}if(re){if(re.length>=3&&re.charCodeAt(0)===47&&re.charCodeAt(2)===58)(Te=re.charCodeAt(1))>=65&&Te<=90&&(re="/".concat(String.fromCharCode(Te+32),":").concat(re.substr(3)));else if(re.length>=2&&re.charCodeAt(1)===58){var Te;(Te=re.charCodeAt(0))>=65&&Te<=90&&(re="".concat(String.fromCharCode(Te+32),":").concat(re.substr(2)))}W+=F(re,!0)}return _e&&(W+="?",W+=F(_e,!1)),Ee&&(W+="#",W+=w?Ee:N(Ee,!1)),W}function U(C){try{return decodeURIComponent(C)}catch(w){return C.length>3?C.substr(0,3)+U(C.substr(3)):C}}n.uriToFsPath=I;var Q=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ie(C){return C.match(Q)?C.replace(Q,function(w){return U(w)}):C}},679:function(r,n,i){var s=this&&this.__spreadArray||function(f,d,m){if(m||arguments.length===2)for(var g,R=0,b=d.length;R<b;R++)!g&&R in d||(g||(g=Array.prototype.slice.call(d,0,R)),g[R]=d[R]);return f.concat(g||Array.prototype.slice.call(d))};Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o,a=i(470),c=a.posix||a;(o=n.Utils||(n.Utils={})).joinPath=function(f){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];return f.with({path:c.join.apply(c,s([f.path],d,!1))})},o.resolvePath=function(f){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];var g=f.path||"/";return f.with({path:c.resolve.apply(c,s([g],d,!1))})},o.dirname=function(f){var d=c.dirname(f.path);return d.length===1&&d.charCodeAt(0)===46?f:f.with({path:d})},o.basename=function(f){return c.basename(f.path)},o.extname=function(f){return c.extname(f.path)}}},t={};return function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(465)})()})});var qm=S(ct=>{"use strict";var Zb=ct&&ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eI=ct&&ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tI=ct&&ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Zb(t,e,r);return eI(t,e),t},Kn=ct&&ct.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{f(n.next(d))}catch(m){o(m)}}function c(d){try{f(n.throw(d))}catch(m){o(m)}}function f(d){d.done?s(d.value):i(d.value).then(a,c)}f((n=n.apply(e,t||[])).next())})},Os=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ct,"__esModule",{value:!0});var rI=Os(md()),nI=Os(gd()),km=tI(Zd()),iI=Dm(),xm=Os(require("path")),sI=Os(require("fs")),oI=Mm(),Ns=class e{constructor(t,r){this.credentials=t,this.getWorkspaceFolders=r,this.deps=[],this.queryResults=(n,i)=>Kn(this,void 0,void 0,function*(){let s=yield this.singleQuery(n,i);if(s.error)throw s.rawError;return s.results}),this.requireDep=n=>km.default(n),this.resolveDep=n=>km.sqltoolsResolve(n),this.log=iI.createLogger(t.driver.toLowerCase())}getId(){return this.credentials.id}singleQuery(t,r){return this.query(t,r).then(([n])=>n)}describeTable(t,r){return Kn(this,void 0,void 0,function*(){let n=yield this.singleQuery(this.queries.describeTable(t),r);return n.baseQuery=this.queries.describeTable.raw,[n]})}showRecords(t,r){return Kn(this,void 0,void 0,function*(){let{limit:n,page:i=0}=r,s=Object.assign(Object.assign({},r),{limit:n,table:t,offset:i*n});if(typeof this.queries.fetchRecords=="function"&&typeof this.queries.countRecords=="function"){let[o,a]=yield Promise.all([this.singleQuery(this.queries.fetchRecords(s),r),this.singleQuery(this.queries.countRecords(s),r)]);return o.baseQuery=this.queries.fetchRecords.raw,o.pageSize=n,o.page=i,o.total=Number(a.results[0].total),o.queryType="showRecords",o.queryParams=t,[o]}return this.query(this.queries.fetchRecords(s),r)})}checkDependencies(){return Kn(this,void 0,void 0,function*(){if(!(!this.deps||this.deps.length===0)){if(Number(process.env.IS_NODE_RUNTIME||"0")!==1)throw new rI.default;this.deps.forEach(t=>{let r=!1;switch(t.type){case e.CONSTANTS.DEPENDENCY_PACKAGE:try{let{version:n}=JSON.parse(sI.default.readFileSync(this.resolveDep(t.name+"/package.json")).toString());if(t.version&&n!==t.version)throw r=!0,new Error(`Version not matching. We need to upgrade ${t.name}`);this.requireDep(t.name)}catch(n){throw new nI.default(this.deps,this.credentials,r)}break}})}})}getChildrenForItem(t){return this.log.error(`###### Attention ######getChildrenForItem not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}searchItems(t,r,n){return this.log.error(`###### Attention ######searchItems not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}toAbsolutePath(t){return Kn(this,void 0,void 0,function*(){if(!xm.default.isAbsolute(t)&&/\$\{workspaceFolder:(.+)}/g.test(t)){let r=t.match(/\$\{workspaceFolder:(.+)}/)[1];if(r){let i=(yield this.getWorkspaceFolders()).find(s=>s.name===r);t=xm.default.resolve(oI.URI.parse(i.uri,!0).fsPath,t.replace(/\$\{workspaceFolder:(.+)}/g,"./"))}}return t})}prepareMessage(t){return{message:t.toString(),date:new Date}}};ct.default=Ns;Ns.CONSTANTS={DEPENDENCY_PACKAGE:"package",DEPENDENCY_NPM_SCRIPT:"npmscript"}});var Um=S((fP,Fm)=>{var aI=typeof global=="object"&&global&&global.Object===Object&&global;Fm.exports=aI});var Pu=S((hP,Bm)=>{var cI=Um(),uI=typeof self=="object"&&self&&self.Object===Object&&self,lI=cI||uI||Function("return this")();Bm.exports=lI});var Du=S((dP,jm)=>{var fI=Pu(),hI=fI.Symbol;jm.exports=hI});var $m=S((pP,Gm)=>{var Wm=Du(),Hm=Object.prototype,dI=Hm.hasOwnProperty,pI=Hm.toString,Jn=Wm?Wm.toStringTag:void 0;function EI(e){var t=dI.call(e,Jn),r=e[Jn];try{e[Jn]=void 0;var n=!0}catch(s){}var i=pI.call(e);return n&&(t?e[Jn]=r:delete e[Jn]),i}Gm.exports=EI});var Qm=S((EP,Vm)=>{var mI=Object.prototype,gI=mI.toString;function vI(e){return gI.call(e)}Vm.exports=vI});var Km=S((mP,Xm)=>{var Ym=Du(),yI=$m(),TI=Qm(),RI="[object Null]",_I="[object Undefined]",zm=Ym?Ym.toStringTag:void 0;function SI(e){return e==null?e===void 0?_I:RI:zm&&zm in Object(e)?yI(e):TI(e)}Xm.exports=SI});var Mu=S((gP,Jm)=>{function NI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Jm.exports=NI});var eg=S((vP,Zm)=>{var OI=Km(),CI=Mu(),AI="[object AsyncFunction]",bI="[object Function]",II="[object GeneratorFunction]",wI="[object Proxy]";function LI(e){if(!CI(e))return!1;var t=OI(e);return t==bI||t==II||t==AI||t==wI}Zm.exports=LI});var rg=S((yP,tg)=>{var PI=Pu(),DI=PI["__core-js_shared__"];tg.exports=DI});var sg=S((TP,ig)=>{var ku=rg(),ng=function(){var e=/[^.]+$/.exec(ku&&ku.keys&&ku.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function MI(e){return!!ng&&ng in e}ig.exports=MI});var ag=S((RP,og)=>{var kI=Function.prototype,xI=kI.toString;function qI(e){if(e!=null){try{return xI.call(e)}catch(t){}try{return e+""}catch(t){}}return""}og.exports=qI});var ug=S((_P,cg)=>{var FI=eg(),UI=sg(),BI=Mu(),jI=ag(),WI=/[\\^$.*+?()[\]{}|]/g,HI=/^\[object .+?Constructor\]$/,GI=Function.prototype,$I=Object.prototype,VI=GI.toString,QI=$I.hasOwnProperty,YI=RegExp("^"+VI.call(QI).replace(WI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zI(e){if(!BI(e)||UI(e))return!1;var t=FI(e)?YI:HI;return t.test(jI(e))}cg.exports=zI});var fg=S((SP,lg)=>{function XI(e,t){return e==null?void 0:e[t]}lg.exports=XI});var dg=S((NP,hg)=>{var KI=ug(),JI=fg();function ZI(e,t){var r=JI(e,t);return KI(r)?r:void 0}hg.exports=ZI});var Eg=S((OP,pg)=>{var e1=dg(),t1=function(){try{var e=e1(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();pg.exports=t1});var vg=S((CP,gg)=>{var mg=Eg();function r1(e,t,r){t=="__proto__"&&mg?mg(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}gg.exports=r1});var Tg=S((AP,yg)=>{function n1(e,t){return e===t||e!==e&&t!==t}yg.exports=n1});var _g=S((bP,Rg)=>{var i1=vg(),s1=Tg(),o1=Object.prototype,a1=o1.hasOwnProperty;function c1(e,t,r){var n=e[t];(!(a1.call(e,t)&&s1(n,r))||r===void 0&&!(t in e))&&i1(e,t,r)}Rg.exports=c1});var Ng=S((IP,Sg)=>{function u1(e,t,r){for(var n=-1,i=e.length,s=t.length,o={};++n<i;){var a=n<s?t[n]:void 0;r(o,e[n],a)}return o}Sg.exports=u1});var Cg=S((wP,Og)=>{var l1=_g(),f1=Ng();function h1(e,t){return f1(e||[],t||[],l1)}Og.exports=h1});var T1={};Gg(T1,{default:()=>y1});module.exports=$g(T1);var Vt=Qt(Po());var Et=Qt(zf());var ta=e=>/[^a-z0-9_]/.test(e.label||e)?`"${e.label||e}"`:e.label||e;function tR(e){let t=[],r=typeof e=="string"?{label:e}:e;return r.database&&t.push(ta(r.database)),r.schema&&t.push(ta(r.schema)),t.push(ta(r.label)),t.join(".")}var ra=tR;var tt=Qt(na()),rR=Et.default`
SELECT * FROM INFORMATION_SCHEMA.COLUMNS
WHERE
  TABLE_NAME = '${e=>e.label}'
  AND TABLE_CATALOG = '${e=>e.database}'
  AND TABLE_SCHEMA = '${e=>e.schema}'`,nR=Et.default`
SELECT
  C.COLUMN_NAME AS label,
  '${tt.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  UPPER(C.DATA_TYPE || (
    CASE WHEN C.CHARACTER_MAXIMUM_LENGTH > 0 THEN (
      '(' || C.CHARACTER_MAXIMUM_LENGTH || ')'
    ) ELSE '' END
  )) AS "detail",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS "defaultValue",
  C.IS_NULLABLE AS "isNullable",
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA = '${e=>e.schema}'
  AND C.TABLE_NAME = '${e=>e.label}'
  AND C.TABLE_CATALOG = '${e=>e.database}'
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
`,iR=Et.default`
SELECT *
FROM ${e=>ra(e.table)}
LIMIT ${e=>e.limit||50}
OFFSET ${e=>e.offset||0};
`,sR=Et.default`
SELECT count(1) AS total
FROM ${e=>ra(e.table)};
`,oR=Et.default`
SELECT
  '${tt.ContextValue.FUNCTION}' as type,
  f.proname AS name,
  f.proname AS label,
  quote_ident(f.proname) || '(' || oidvectortypes(f.proargtypes)::TEXT || ')' AS detail,
  n.nspname AS schema,
  current_database() AS database,
  quote_ident(n.nspname) || '.' || quote_ident(f.proname) AS signature,
  format_type(f.prorettype, null) AS "resultType",
  oidvectortypes(f.proargtypes) AS args,
  proargnames AS "argsNames",
  f.prosrc AS source,
  'function' as "iconName",
  '${tt.ContextValue.NO_CHILD}' as "childType"
FROM
  pg_catalog.pg_proc AS f
INNER JOIN pg_catalog.pg_namespace AS n on n.oid = f.pronamespace
WHERE
  n.nspname = '${e=>e.schema}'
ORDER BY name
;`,Jf=(e,t="BASE TABLE")=>Et.default`
SELECT
  T.TABLE_NAME AS label,
  '${e}' as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  ${e===tt.ContextValue.VIEW?"TRUE":"FALSE"} AS isView
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA = '${r=>r.schema}'
  AND T.TABLE_CATALOG = '${r=>r.database}'
  AND T.TABLE_TYPE = '${t}'
ORDER BY
  T.TABLE_NAME;
`,aR=Et.default`
SELECT
  T.TABLE_NAME AS label,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN '${tt.ContextValue.TABLE}' ELSE '${tt.ContextValue.VIEW}' END) as type,
  T.TABLE_SCHEMA AS schema,
  T.TABLE_CATALOG AS database,
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN FALSE ELSE TRUE END) AS "isView",
  (CASE WHEN T.TABLE_TYPE = 'BASE TABLE' THEN 'table' ELSE 'view' END) AS description,
  ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') as detail
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE
  T.TABLE_SCHEMA !~ '^pg_'
  AND T.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.search?`AND (
    (T.TABLE_CATALOG || '.' || T.TABLE_SCHEMA || '.' || T.TABLE_NAME) ILIKE '%${e.search}%'
    OR ('"' || T.TABLE_CATALOG || '"."' || T.TABLE_SCHEMA || '"."' || T.TABLE_NAME || '"') ILIKE '%${e.search}%'
    OR T.TABLE_NAME ILIKE '%${e.search}%'
  )`:""}
ORDER BY
  T.TABLE_NAME
LIMIT ${e=>e.limit||100};
`,cR=Et.default`
SELECT
  C.COLUMN_NAME AS label,
  '${tt.ContextValue.COLUMN}' as type,
  C.TABLE_NAME AS table,
  C.DATA_TYPE AS "dataType",
  C.CHARACTER_MAXIMUM_LENGTH::INT AS size,
  C.TABLE_CATALOG AS database,
  C.TABLE_SCHEMA AS schema,
  C.COLUMN_DEFAULT AS defaultValue,
  C.IS_NULLABLE AS isNullable,
  (CASE WHEN LOWER(TC.constraint_type) = 'primary key' THEN TRUE ELSE FALSE END) as "isPk",
  (CASE WHEN LOWER(TC.constraint_type) = 'foreign key' THEN TRUE ELSE FALSE END) as "isFk"
FROM
  INFORMATION_SCHEMA.COLUMNS C
LEFT JOIN information_schema.key_column_usage KC ON KC.table_name = C.table_name
  AND KC.table_schema = C.table_schema
  AND KC.column_name = C.column_name
LEFT JOIN information_schema.table_constraints TC ON KC.table_name = TC.table_name
  AND KC.table_schema = TC.table_schema
  AND KC.constraint_name = TC.constraint_name
JOIN INFORMATION_SCHEMA.TABLES AS T ON C.TABLE_NAME = T.TABLE_NAME
  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA
  AND C.TABLE_CATALOG = T.TABLE_CATALOG
WHERE
  C.TABLE_SCHEMA !~ '^pg_'
  AND C.TABLE_SCHEMA <> 'information_schema'
  ${e=>e.tables.filter(t=>!!t.label).length?`AND LOWER(C.TABLE_NAME) IN (${e.tables.filter(t=>!!t.label).map(t=>`'${t.label}'`.toLowerCase()).join(", ")})`:""}
  ${e=>e.search?`AND (
      (C.TABLE_NAME || '.' || C.COLUMN_NAME) ILIKE '%${e.search}%'
      OR C.COLUMN_NAME ILIKE '%${e.search}%'
    )`:""}
ORDER BY
  C.TABLE_NAME,
  C.ORDINAL_POSITION
LIMIT ${e=>e.limit||100}
`,uR=Jf(tt.ContextValue.TABLE),lR=Jf(tt.ContextValue.VIEW,"VIEW"),fR=Et.default`
SELECT
  '${tt.ContextValue.MATERIALIZED_VIEW}' as type,
  (current_database())::information_schema.sql_identifier AS database,
  (nc.nspname)::information_schema.sql_identifier AS schema,
  (c.relname)::information_schema.sql_identifier AS label,
  'view' AS "iconName",
  '${tt.ContextValue.NO_CHILD}' as "childType"
FROM pg_namespace nc,
  pg_class c
WHERE
  nc.nspname = '${e=>e.schema}'
  AND (
    (c.relnamespace = nc.oid)
    AND (c.relkind = 'm'::"char")
    AND (NOT pg_is_other_temp_schema(nc.oid))
    AND (
      pg_has_role(c.relowner, 'USAGE'::text)
      OR has_table_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'::text
      )
      OR has_any_column_privilege(
        c.oid,
        'SELECT, INSERT, UPDATE, REFERENCES'::text
      )
    )
  );
`,hR=Et.default`
SELECT
  db.*,
  db.datname as "label",
  db.datname as "database",
  '${tt.ContextValue.DATABASE}' as "type",
  'database' as "detail"
FROM pg_catalog.pg_database db
WHERE
  datallowconn
  AND NOT datistemplate
  AND db.datname = CURRENT_DATABASE()
ORDER BY
  db.datname;
`,dR=Et.default`
SELECT
  schema_name AS label,
  schema_name AS schema,
  '${tt.ContextValue.SCHEMA}' as "type",
  'group-by-ref-type' as "iconId",
  catalog_name as database
FROM information_schema.schemata
WHERE
  schema_name !~ '^pg_'
  AND schema_name <> 'information_schema'
  AND catalog_name = '${e=>e.database}'
ORDER BY
  schema_name;
`,Zf={describeTable:rR,countRecords:sR,fetchColumns:nR,fetchRecords:iR,fetchTables:uR,fetchViews:lR,fetchFunctions:oR,fetchDatabases:hR,fetchSchemas:dR,fetchMaterializedViews:fR,searchTables:aR,searchColumns:cR};var Ne=Qt(na()),Dg=Qt(qm()),Mg=Qt(require("fs")),kg=Qt(Cg());var d1=/[\\^$.*+?()[\]{}|]/g,LP=RegExp(d1.source);var Fu=class e{static parse(t,r="mysql"){r==="mssql"&&(t=t.replace(/^[ \t]*GO;?[ \t]*$/gim,""));let n=";",i=[],s=!0,o;for(;s;){o==null&&(o=t);let a=e.getStatements(o,r,n),c=a[0];if(c!=null&&c.trim()!=""&&i.push(c),o=a[1],o==null||o.trim()=="")break}return i}static getStatements(t,r,n){let i=null,s=!1,o=!1,a=!1,c=null,f=null,d=null,m=null,g=Array.from(t),R=[];for(let b=0;b<g.length;b++){let x=g[b];if(b>0&&(i=g[b-1]),b<g.length&&(c=g[b+1]),i!="\\"&&(x=="'"||x=='"')&&o==!1&&s==!1){o=!0,d=x;continue}if((x=="#"&&c==" "||x=="-"&&c=="-"||x=="/"&&c=="*")&&o==!1){s=!0,f=x;continue}if(s==!0&&((f=="#"||f=="-")&&x==`
`||f=="/"&&x=="*"&&c=="/")){s=!1,f=null;continue}if(i!="\\"&&x==d&&o==!0){o=!1,d=null;continue}if(x.toLowerCase()=="d"&&s==!1&&o==!1){let G=e.getDelimiter(b,t,r);if(G!=null){let B=G[0],ee=G[1];t=t.substring(ee),R=e.getStatements(t,r,B);break}}if(x=="$"&&s==!1&&o==!1){let G=t.substring(b);if(a==!1){let B=e.getTag(G,r);B!=null&&(a=!0,m=B[0])}else{let B=e.getTag(G,r);B!=null&&B[0]==m&&(a=!1)}}if(r==="mssql"&&x.toLowerCase()==="g"&&`${g[b+1]||""}`.toLowerCase()==="o"&&typeof g[b+2]!="undefined"&&/go\b/gi.test(`${x}${g[b+1]}${g[b+2]}`)&&(x=`${x}${g[b+1]}`),(x.toLowerCase()===n.toLowerCase()||x.toLowerCase()==="go")&&o==!1&&s==!1&&a==!1){let G=b+1;if(r==="mssql"&&x.toLowerCase()==="go"){G=b,R=e.getQueryParts(t,G,2);break}R=e.getQueryParts(t,G,0);break}}return R.length==0&&(t!=null&&(t=t.trim()),R.push(t,null)),R}static getQueryParts(t,r,n=1){let i=t.substring(0,r),s=t.substring(r+n),o=[];return i!=null&&(i=i.trim()),o.push(i),o.push(s),o}static getDelimiter(t,r,n){if(n=="mysql"){let i="delimiter ",s=i.length,o=r.substring(t);if(o.toLowerCase().indexOf(i)==0){let c=r.substring(t),f=c.indexOf(`
`);f==-1&&(f=r.length),c=c.substring(0,f),c=c.substring(s);let d=c.trim();if(d=e.clearTextUntilComment(d),d!=null){d=d.trim();let m=o.indexOf(d)+t+d.length,g=[];return g.push(d),g.push(m),g}else return null}else return null}}static getTag(t,r){if(r=="pg"){let n=t.match(/^(\$[a-zA-Z]*\$)/i);if(n!=null&&n.length>1){let i=[],s=n[1].trim(),o=t.indexOf(s);return i.push(s),i.push(o),i}else return null}}static isGoDelimiter(t,r,n){if(t=="mssql"){let i=/(?:\bgo\b\s*)/i.exec(r);return i!=null&&i.index==n}}static clearTextUntilComment(t){let r=null,n=null,i=Array.from(t);for(let s=0;s<i.length;s++){let o=i[s];if(s<i.length&&(r=i[s+1]),o=="#"&&r==" "||o=="-"&&r=="-"||o=="/"&&r=="*")break;n==null&&(n=""),n+=o}return n}},Ag=Fu.parse;function bg(e,t="mysql"){return Ag(e,t)}var Ig=Qt(require("crypto")),p1=new Uint8Array(16);function Uu(){return Ig.default.randomFillSync(p1)}var wg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function E1(e){return typeof e=="string"&&wg.test(e)}var Lg=E1;var Ge=[];for(let e=0;e<256;++e)Ge.push((e+256).toString(16).substr(1));function m1(e,t=0){let r=(Ge[e[t+0]]+Ge[e[t+1]]+Ge[e[t+2]]+Ge[e[t+3]]+"-"+Ge[e[t+4]]+Ge[e[t+5]]+"-"+Ge[e[t+6]]+Ge[e[t+7]]+"-"+Ge[e[t+8]]+Ge[e[t+9]]+"-"+Ge[e[t+10]]+Ge[e[t+11]]+Ge[e[t+12]]+Ge[e[t+13]]+Ge[e[t+14]]+Ge[e[t+15]]).toLowerCase();if(!Lg(r))throw TypeError("Stringified UUID is invalid");return r}var Pg=m1;function g1(e,t,r){e=e||{};let n=e.random||(e.rng||Uu)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Pg(n)}var Bu=g1;var ju=Bu;var Wu=e=>e;Vt.types.setTypeParser(Vt.types.builtins.TIMESTAMP||1114,Wu);Vt.types.setTypeParser(Vt.types.builtins.TIMESTAMPTZ||1184,Wu);Vt.types.setTypeParser(Vt.types.builtins.DATE||1082,Wu);var Zn=class extends Dg.default{constructor(){super(...arguments);lt(this,"queries",Zf);lt(this,"query",(r,n={})=>{let i=[],s,{requestId:o}=n;return this.open().then(a=>ft(this,null,function*(){s=yield a.connect(),s.on("notice",f=>i.push(this.prepareMessage(`${f.name.toUpperCase()}: ${f.message}`)));let c=yield s.query({text:r.toString(),rowMode:"array"});return s.release(),c})).then(a=>{let c=bg(r.toString(),"pg");return Array.isArray(a)||(a=[a]),a.map((f,d)=>{let m=this.getColumnNames(f.fields||[]);return{requestId:o,resultId:ju(),connId:this.getId(),cols:m,messages:i.concat([this.prepareMessage(`${f.command} successfully executed.${f.command.toLowerCase()!=="select"&&typeof f.rowCount=="number"?` ${f.rowCount} rows were affected.`:""}`)]),query:c[d],results:this.mapRows(f.rows,m)}})}).catch(a=>(s&&s.release(),[{connId:this.getId(),requestId:o,resultId:ju(),cols:[],messages:i.concat([this.prepareMessage([a&&a.message||a,a&&a.routine==="scanner_yyerror"&&a.position?`at character ${a.position}`:void 0].filter(Boolean).join(" "))]),error:!0,rawError:a,query:r,results:[]}]))});lt(this,"completionsCache",null);lt(this,"getStaticCompletions",()=>ft(this,null,function*(){return this.completionsCache?this.completionsCache:(this.completionsCache={},(yield this.queryResults("SELECT UPPER(word) AS label, UPPER(catdesc) AS desc FROM pg_get_keywords();")).forEach(n=>{this.completionsCache[n.label]={label:n.label,detail:n.label,filterText:n.label,sortText:(["SELECT","CREATE","UPDATE","DELETE"].includes(n.label)?"2:":"")+n.label,documentation:{value:`\`\`\`yaml
WORD: ${n.label}
TYPE: ${n.desc}
\`\`\``,kind:"markdown"}}}),this.completionsCache)}))}open(){return ft(this,null,function*(){if(this.connection)return this.connection;try{let r=this.credentials.pgOptions||{},{ssl:n}=r,i=Ms(r,["ssl"]),s=st({connectionTimeoutMillis:+`${this.credentials.connectionTimeout||0}`*1e3},i);if(this.credentials.connectString?s=st({connectionString:this.credentials.connectString},s):s=st({database:this.credentials.database,host:this.credentials.server,password:this.credentials.password,port:this.credentials.port,user:this.credentials.username},s),n)if(typeof n=="object"){let c=st({},n);["ca","key","cert","pfx"].forEach(f=>{if(!c[f]){delete c[f];return}this.log.info(`Reading file ${c[f].replace(/^file:\/\//,"")}`),c[f]=Mg.default.readFileSync(c[f].replace(/^file:\/\//,"")).toString()}),Object.keys(c).length>0&&(s.ssl=c)}else s.ssl=n||!1;let o=new Vt.Pool(s);return(yield o.connect()).release(),this.connection=Promise.resolve(o),this.connection}catch(n){return Promise.reject(n)}})}close(){return ft(this,null,function*(){if(!this.connection)return Promise.resolve();let r=yield this.connection;this.connection=null,r.end()})}getColumnNames(r){return r.reduce((n,{name:i})=>{let s=n.filter(o=>o===i).length;return n.concat(s>0?`${i} (${s})`:i)},[])}mapRows(r,n){return r.map(i=>(0,kg.default)(n,i))}getColumns(r){return ft(this,null,function*(){return(yield this.queryResults(this.queries.fetchColumns(r))).map(i=>cn(st({},i),{iconName:i.isPk?"pk":i.isFk?"fk":null,childType:Ne.ContextValue.NO_CHILD,table:r}))})}testConnection(){return ft(this,null,function*(){let n=yield(yield this.open()).connect();yield n.query("SELECT 1"),n.release()})}getChildrenForItem(i){return ft(this,arguments,function*({item:r,parent:n}){switch(r.type){case Ne.ContextValue.CONNECTION:case Ne.ContextValue.CONNECTED_CONNECTION:return this.queryResults(this.queries.fetchDatabases());case Ne.ContextValue.TABLE:case Ne.ContextValue.VIEW:case Ne.ContextValue.MATERIALIZED_VIEW:return this.getColumns(r);case Ne.ContextValue.DATABASE:return[{label:"Schemas",type:Ne.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ne.ContextValue.SCHEMA}];case Ne.ContextValue.RESOURCE_GROUP:return this.getChildrenForGroup({item:r,parent:n});case Ne.ContextValue.SCHEMA:return[{label:"Tables",type:Ne.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ne.ContextValue.TABLE},{label:"Views",type:Ne.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ne.ContextValue.VIEW},{label:"Materialized Views",type:Ne.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ne.ContextValue.MATERIALIZED_VIEW},{label:"Functions",type:Ne.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ne.ContextValue.FUNCTION}]}return[]})}getChildrenForGroup(i){return ft(this,arguments,function*({parent:r,item:n}){switch(n.childType){case Ne.ContextValue.SCHEMA:return this.queryResults(this.queries.fetchSchemas(r));case Ne.ContextValue.TABLE:return this.queryResults(this.queries.fetchTables(r));case Ne.ContextValue.VIEW:return this.queryResults(this.queries.fetchViews(r));case Ne.ContextValue.MATERIALIZED_VIEW:return this.queryResults(this.queries.fetchMaterializedViews(r));case Ne.ContextValue.FUNCTION:return this.queryResults(this.queries.fetchFunctions(r))}return[]})}searchItems(r,n,i={}){switch(r){case Ne.ContextValue.TABLE:return this.queryResults(this.queries.searchTables({search:n}));case Ne.ContextValue.COLUMN:return this.queryResults(this.queries.searchColumns(st({search:n},i)))}}};var xg=[{displayName:"PostgreSQL",value:"PostgreSQL"},{displayName:"AWS Redshift",value:"AWS Redshift"},{displayName:"CockroachDB",value:"CockroachDB"}];var v1={register(e){xg.forEach(({value:t})=>{e.getContext().drivers.set(t,Zn)})}},y1=v1;
